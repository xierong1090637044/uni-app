{"version":3,"sources":["webpack:///C:/Users/Administrator/Desktop/新建文件夹 (8)/wechat/main.js","webpack:///C:/Users/Administrator/Desktop/新建文件夹 (8)/wechat/pages/common/good_allocation/allocation_detail/allocation_detail.vue?9709","webpack:///C:/Users/Administrator/Desktop/新建文件夹 (8)/wechat/pages/common/good_allocation/allocation_detail/allocation_detail.vue?f177","webpack:///C:/Users/Administrator/Desktop/新建文件夹 (8)/wechat/pages/common/good_allocation/allocation_detail/allocation_detail.vue?c809","webpack:///C:/Users/Administrator/Desktop/新建文件夹 (8)/wechat/pages/common/good_allocation/allocation_detail/allocation_detail.vue?1510","webpack:///C:/Users/Administrator/Desktop/新建文件夹 (8)/wechat/pages/common/good_allocation/allocation_detail/allocation_detail.vue","webpack:///C:/Users/Administrator/Desktop/新建文件夹 (8)/wechat/pages/common/good_allocation/allocation_detail/allocation_detail.vue?c1c0"],"names":["createPage","Page","renderjs","component","options","__file","components","render","_vm","this","_h","$createElement","g0","_self","_c","nowDay","split","$mp","data","Object","assign","$root","recyclableRender","staticRenderFns","_withStripped","uid","that","shouldProducts","products","stock","out_stock","button_disabled","beizhu_text","out_products","all_money","real_money","total_num","common","getDay","onLoad","uni","getStorageSync","i","length","Number","total_money","toFixed","num","onShow","methods","formSubmit","e","showToast","title","icon","unique","addTbRecord","arr","newArr","repeat","j","header","objectId","selected_model","model","item","id","push","console","log","stockId","showLoading","pointer4","Bmob","Pointer","out_stockId","set","billsObj","Array","detailObj","pointer3","stocks","tempBills","Query","detailBills","pointer","user","pointer2","operater","pointer1","tempGoods_id","goodsName","modify_retailPrice","goodsId","stock_name","reserve","selectd_model","models","type","query","get","then","res","save","saveAll","bills","success","poiID","masterId","poiID1","detail","value","input_beizhu","hideLoading","setStorageSync","equalTo","find","upload_good_withNoCan","removeStorageSync","setTimeout","navigateBack","delta","error","add_tb_record","num1","obj","out_reserve","out_objectId","operationId","nickName","auto_print","print","autoPrint","nowOutProducts"],"mappings":"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","file":"pages/common/good_allocation/allocation_detail/allocation_detail.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'\nimport Page from './pages/common/good_allocation/allocation_detail/allocation_detail.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./allocation_detail.vue?vue&type=template&id=1fba2926&\"\nvar renderjs\nimport script from \"./allocation_detail.vue?vue&type=script&lang=js&\"\nexport * from \"./allocation_detail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./allocation_detail.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"Desktop/新建文件夹 (8)/wechat/pages/common/good_allocation/allocation_detail/allocation_detail.vue\"\nexport default component.exports","export * from \"-!../../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./allocation_detail.vue?vue&type=template&id=1fba2926&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 = _vm.nowDay.split(\" \")\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./allocation_detail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./allocation_detail.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport Bmob from \"hydrogen-js-sdk\";\nimport common from '@/utils/common.js';\nimport send_temp from '@/utils/send_temp.js';\nimport print from '@/utils/print.js';\nimport _goods from '@/utils/goods.js';\n\nlet uid;\nlet that;\nlet shouldProducts = [];\n\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tproducts: [],\n\t\t\tstock: '', //调出店仓\n\t\t\tout_stock: '', //调入店仓\n\t\t\tbutton_disabled: false,\n\t\t\tbeizhu_text: \"\",\n\t\t\tout_products: [], //调入的商品\n\t\t\tall_money: 0,\n\t\t\treal_money: 0,\n\t\t\ttotal_num: 0, //实际的总数量\n\n\t\t\tnowDay: common.getDay(0, true, true), //入库时间\n\t\t}\n\t},\n\tonLoad() {\n\t\tthat = this;\n\t\tuid = uni.getStorageSync(\"uid\");\n\n\t\tthis.products = uni.getStorageSync(\"products\");\n\t\tfor (let i = 0; i < this.products.length; i++) {\n\t\t\tthis.all_money = Number((this.products[i].total_money + this.all_money).toFixed(2))\n\t\t\tthis.total_num += Number(this.products[i].num)\n\t\t}\n\t\tthis.real_money = Number(this.all_money.toFixed(2))\n\t},\n\tonShow() {\n\t\t//that.stock = uni.getStorageSync(\"warehouse\")[0].stock\n\t\tthat.out_stock = uni.getStorageSync(\"out_warehouse\") ? uni.getStorageSync(\"out_warehouse\")[0].stock : ''\n\t},\n\tmethods: {\n\n\t\tformSubmit: function(e) {\n\t\t\t//console.log(e)\n\t\t\tthis.button_disabled = true;\n\t\t\tif (that.out_stock == '' || that.out_stock == null) {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: \"请选择调入店仓\",\n\t\t\t\t\ticon: 'none'\n\t\t\t\t})\n\n\t\t\t\tthis.button_disabled = false;\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tthat.unique(that.products);\n\t\t\tthat.addTbRecord(e)\n\t\t},\n\n\t\tunique(arr) {\n\t\t\tlet newArr = [arr[0]];\n\t\t\tfor (let i = 1; i < arr.length; i++) {\n\t\t\t\tlet repeat = false;\n\t\t\t\tfor (let j = 0; j < newArr.length; j++) {\n\t\t\t\t\tif (arr[i].header.objectId === newArr[j].header.objectId) {\n\n\t\t\t\t\t\tif (arr[i].selected_model) { // 如果当前产品是多规格产品\n\t\t\t\t\t\t\tfor (let model of arr[i].selected_model) {\n\t\t\t\t\t\t\t\tfor (let item of newArr[j].selected_model) {\n\t\t\t\t\t\t\t\t\tif (item.id == model.id) {\n\t\t\t\t\t\t\t\t\t\titem.num += Number(model.num)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tnewArr[j].num += arr[i].num\n\t\t\t\t\t\trepeat = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (!repeat) {\n\t\t\t\t\tnewArr.push(arr[i]);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconsole.log(newArr)\n\t\t\tthat.products = uni.getStorageSync(\"products\");\n\t\t\tshouldProducts = newArr;\n\t\t},\n\n\t\taddTbRecord(e) {\n\t\t\tuni.showLoading({\n\t\t\t\ttitle: \"请勿退出...\"\n\t\t\t});\n\t\t\tlet stockId;\n\t\t\tlet pointer4 = Bmob.Pointer('stocks');\n\t\t\tlet out_stockId = pointer4.set(that.out_stock.objectId);\n\n\t\t\tlet billsObj = new Array();\n\t\t\tlet detailObj = [];\n\t\t\tfor (let i = 0; i < that.products.length; i++) {\n\t\t\t\tlet pointer3 = Bmob.Pointer('stocks');\n\t\t\t\tstockId = pointer3.set(this.products[i].stocks.objectId)\n\n\t\t\t\tlet tempBills = Bmob.Query('Bills');\n\t\t\t\tlet detailBills = {}\n\n\t\t\t\tlet pointer = Bmob.Pointer('_User')\n\t\t\t\tlet user = pointer.set(uid)\n\t\t\t\tlet pointer2 = Bmob.Pointer('_User')\n\t\t\t\tlet operater = pointer2.set(uni.getStorageSync(\"masterId\"))\n\t\t\t\tlet pointer1 = Bmob.Pointer('Goods')\n\t\t\t\tlet tempGoods_id = pointer1.set(this.products[i].objectId);\n\n\t\t\t\ttempBills.set('goodsName', this.products[i].goodsName);\n\t\t\t\ttempBills.set('retailPrice', this.products[i].modify_retailPrice);\n\t\t\t\ttempBills.set('num', Number(this.products[i].num));\n\t\t\t\ttempBills.set('total_money', Number(this.products[i].total_money));\n\t\t\t\ttempBills.set('goodsId', tempGoods_id);\n\t\t\t\ttempBills.set('userId', user);\n\t\t\t\ttempBills.set('type', -2);\n\t\t\t\ttempBills.set('opreater', operater);\n\t\t\t\ttempBills.set(\"stock\", stockId);\n\t\t\t\ttempBills.set(\"out_stock\", out_stockId);\n\n\t\t\t\tlet goodsId = {}\n\t\t\t\tdetailBills.goodsName = this.products[i].goodsName\n\t\t\t\tdetailBills.stock = this.products[i].stocks.stock_name\n\t\t\t\tdetailBills.out_stock = that.out_stock.stock_name\n\t\t\t\tdetailBills.reserve = this.products[i].reserve\n\t\t\t\t//detailBills.out_reserve = out_products[0].reserve\n\t\t\t\tgoodsId.objectId = this.products[i].objectId\n\t\t\t\t//goodsId.out_objectId = out_products[0].objectId\n\t\t\t\t//goodsId.reserve = num\n\t\t\t\t//goodsId.out_reserve = num1\n\t\t\t\tif (this.products[i].selectd_model) {\n\t\t\t\t\tgoodsId.selected_model = this.products[i].selected_model\n\t\t\t\t\tgoodsId.models = this.products[i].models\n\t\t\t\t}\n\t\t\t\tdetailBills.goodsId = goodsId\n\t\t\t\tdetailBills.num = Number(this.products[i].num)\n\t\t\t\tdetailBills.type = -2\n\n\t\t\t\tbillsObj.push(tempBills)\n\t\t\t\tdetailObj.push(detailBills)\n\n\t\t\t\tlet query = Bmob.Query('Goods');\n\t\t\t\tquery.get(that.products[i].objectId).then(res => {\n\t\t\t\t\tlet num = Number(this.products[i].reserve) - Number(this.products[i].num)\n\t\t\t\t\tif (this.products[i].selected_model) {\n\t\t\t\t\t\tfor (let model of this.products[i].selected_model) {\n\t\t\t\t\t\t\tfor (let item of this.products[i].models) {\n\t\t\t\t\t\t\t\tif (item.id == model.id) {\n\t\t\t\t\t\t\t\t\titem.reserve = Number(item.reserve) - Number(model.num)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tdelete item.num // 清除没用的属行\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tres.set('models', this.products[i].models)\n\t\t\t\t\t}\n\t\t\t\t\tres.set('reserve', num)\n\t\t\t\t\tres.save()\n\t\t\t\t})\n\t\t\t}\n\t\t\tBmob.Query('Bills').saveAll(billsObj).then(function(res) {\n\t\t\t\t//console.log(\"批量新增单据成功\", res);\n\t\t\t\tlet bills = []\n\t\t\t\tfor (let i = 0; i < res.length; i++) {\n\t\t\t\t\tbills.push(res[i].success.objectId)\n\t\t\t\t}\n\n\t\t\t\tlet pointer = Bmob.Pointer('_User')\n\t\t\t\tlet poiID = pointer.set(uid);\n\n\t\t\t\tlet masterId = uni.getStorageSync(\"masterId\");\n\t\t\t\tlet pointer1 = Bmob.Pointer('_User')\n\t\t\t\tlet poiID1 = pointer1.set(masterId);\n\n\t\t\t\tlet query = Bmob.Query('order_opreations');\n\t\t\t\t//query.set(\"relations\", relID);\n\t\t\t\tquery.set(\"detail\", detailObj);\n\t\t\t\tquery.set(\"bills\", bills);\n\t\t\t\tquery.set(\"beizhu\", e.detail.value.input_beizhu);\n\t\t\t\tquery.set(\"type\", -2);\n\t\t\t\tquery.set(\"opreater\", poiID1);\n\t\t\t\tquery.set(\"stock\", stockId);\n\t\t\t\tquery.set(\"out_stock\", out_stockId);\n\t\t\t\tquery.set(\"master\", poiID);\n\t\t\t\tquery.set('goodsName', that.products[0].goodsName);\n\n\t\t\t\tquery.save().then(res => {\n\t\t\t\t\tlet operationId = res.objectId;\n\t\t\t\t\t//console.log(\"添加操作历史记录成功\", res);\n\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t//uni.removeStorageSync(\"customs\"); //移除这个缓存\n\t\t\t\t\t\n\t\t\t\t\tthat.button_disabled = false;\n\t\t\t\t\tuni.setStorageSync(\"is_option\", true);\n\n\t\t\t\t\tfor (let j = 0; j < shouldProducts.length; j++) {\n\t\t\t\t\t\tconst query = Bmob.Query('Goods');\n\t\t\t\t\t\tquery.equalTo(\"goodsName\", \"==\", shouldProducts[j].goodsName);\n\t\t\t\t\t\tquery.equalTo(\"userId\", \"==\", uid);\n\t\t\t\t\t\tquery.equalTo(\"stocks\", \"==\", that.out_stock.objectId);\n\t\t\t\t\t\tquery.find().then(res => {\n\t\t\t\t\t\t\tlet out_products = res\n\t\t\t\t\t\t\tif (out_products.length == 0) {\n\t\t\t\t\t\t\t\tcommon.upload_good_withNoCan(shouldProducts[j], that.out_stock, Number(shouldProducts[j].num), \"allocation\")\n\t\t\t\t\t\t\t\t\t.then(res => {\n\t\t\t\t\t\t\t\t\t\tif (j == shouldProducts.length - 1) {\n\t\t\t\t\t\t\t\t\t\t\tuni.hideLoading()\n\t\t\t\t\t\t\t\t\t\t\tuni.removeStorageSync(\"warehouse\");\n\t\t\t\t\t\t\t\t\t\t\tuni.removeStorageSync(\"_warehouse\")\n\t\t\t\t\t\t\t\t\t\t\tuni.removeStorageSync(\"out_warehouse\")\n\t\t\t\t\t\t\t\t\t\t\tuni.removeStorageSync(\"category\")\n\t\t\t\t\t\t\t\t\t\t\tuni.removeStorageSync(\"warehouse\")\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\tuni.showToast({title:\"调拨成功\"})\n\t\t\t\t\t\t\t\t\t\t\tsetTimeout(function(){\n\t\t\t\t\t\t\t\t\t\t\t\tuni.navigateBack({\n\t\t\t\t\t\t\t\t\t\t\t\t\tdelta: 2\n\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t},500)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tquery.get(out_products[0].objectId).then(res => {\n\t\t\t\t\t\t\t\t\tif (shouldProducts[j].selected_model) {\n\t\t\t\t\t\t\t\t\t\tfor (let model of shouldProducts[j].selected_model) {\n\t\t\t\t\t\t\t\t\t\t\tfor (let item of out_products[0].models) {\n\t\t\t\t\t\t\t\t\t\t\t\tif (item.id == model.id) {\n\t\t\t\t\t\t\t\t\t\t\t\t\titem.reserve = Number(item.reserve) + Number(model.num)\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\tdelete item.num // 清除没用的属行\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tres.set('models', out_products[0].models)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tres.set('reserve', Number(out_products[0].reserve) + Number(shouldProducts[j].num))\n\t\t\t\t\t\t\t\t\tres.save()\n\n\t\t\t\t\t\t\t\t\tif (j == shouldProducts.length - 1) {\n\t\t\t\t\t\t\t\t\t\tuni.hideLoading()\n\t\t\t\t\t\t\t\t\t\tuni.removeStorageSync(\"warehouse\");\n\t\t\t\t\t\t\t\t\t\tuni.removeStorageSync(\"_warehouse\")\n\t\t\t\t\t\t\t\t\t\tuni.removeStorageSync(\"out_warehouse\")\n\t\t\t\t\t\t\t\t\t\tuni.removeStorageSync(\"category\")\n\t\t\t\t\t\t\t\t\t\tuni.removeStorageSync(\"warehouse\")\n\n\t\t\t\t\t\t\t\t\t\tuni.showToast({title:\"调拨成功\"})\n\t\t\t\t\t\t\t\t\t\tsetTimeout(function(){\n\t\t\t\t\t\t\t\t\t\t\tuni.navigateBack({\n\t\t\t\t\t\t\t\t\t\t\t\tdelta: 2\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t},500)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t\t//*/\n\t\t\t\t})\n\t\t\t}, function(error) {\n\t\t\t\t// 批量新增异常处理\n\t\t\t\tconsole.log(\"异常处理\");\n\t\t\t});\n\t\t},\n\n\t\t//生成调拨单\n\t\tadd_tb_record(e) {\n\t\t\tuni.showLoading({\n\t\t\t\ttitle: \"上传中...\"\n\t\t\t});\n\n\t\t\tconst pointer = Bmob.Pointer('stocks');\n\t\t\tlet stockId;\n\t\t\tlet out_stockId = pointer.set(that.out_stock.objectId);\n\n\t\t\tlet billsObj = new Array();\n\t\t\tlet detailObj = [];\n\t\t\tfor (let i = 0; i < this.products.length; i++) {\n\t\t\t\tstockId = pointer.set(this.products[i].stocks.objectId)\n\n\t\t\t\tconst query = Bmob.Query('Goods');\n\t\t\t\tquery.equalTo(\"goodsName\", \"==\", that.products[i].goodsName);\n\t\t\t\tquery.equalTo(\"userId\", \"==\", uid);\n\t\t\t\tquery.equalTo(\"stocks\", \"==\", that.out_stock.objectId);\n\t\t\t\tquery.find().then(res => {\n\t\t\t\t\tconsole.log(res)\n\t\t\t\t\tlet out_products = []\n\t\t\t\t\tlet num\n\t\t\t\t\tlet num1\n\t\t\t\t\tif (res.length == 0) {\n\t\t\t\t\t\t//console.log(that.products[i].goodsName)\n\t\t\t\t\t\tif (that.products[i].selectd_model) {\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ticon: \"none\",\n\t\t\t\t\t\t\t\ttitle: \"此多规格产品未关联到此店仓\"\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\tthis.button_disabled = false;\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tcommon.upload_good_withNoCan(that.products[i], that.out_stock, Number(this.products[i].num), \"allocation\").then(\n\t\t\t\t\t\t\tres => {\n\t\t\t\t\t\t\t\tconsole.log(res)\n\t\t\t\t\t\t\t\tlet obj = {}\n\t\t\t\t\t\t\t\tobj.objectId = res[1].objectId\n\t\t\t\t\t\t\t\tobj.reserve = Number(this.products[i].num)\n\t\t\t\t\t\t\t\tout_products[0] = obj\n\t\t\t\t\t\t\t\tnum = Number(this.products[i].reserve) - Number(this.products[i].num);\n\t\t\t\t\t\t\t\tnum1 = Number(this.products[i].num);\n\n\t\t\t\t\t\t\t\tconst query = Bmob.Query('Goods');\n\t\t\t\t\t\t\t\tquery.get(that.products[i].objectId).then(res => {\n\t\t\t\t\t\t\t\t\t//console.log(res)\n\t\t\t\t\t\t\t\t\tres.set('reserve', num)\n\t\t\t\t\t\t\t\t\tres.save()\n\t\t\t\t\t\t\t\t\tquery.get(out_products[0].objectId).then(res => {\n\t\t\t\t\t\t\t\t\t\tres.set('reserve', num1)\n\t\t\t\t\t\t\t\t\t\tres.save()\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t})\n\n\t\t\t\t\t\t\t\t//单据\n\t\t\t\t\t\t\t\tlet tempBills = Bmob.Query('Bills');\n\t\t\t\t\t\t\t\tlet detailBills = {}\n\n\t\t\t\t\t\t\t\tlet pointer = Bmob.Pointer('_User')\n\t\t\t\t\t\t\t\tlet user = pointer.set(uid)\n\t\t\t\t\t\t\t\tlet pointer2 = Bmob.Pointer('_User')\n\t\t\t\t\t\t\t\tlet operater = pointer2.set(uni.getStorageSync(\"masterId\"))\n\t\t\t\t\t\t\t\tlet pointer1 = Bmob.Pointer('Goods')\n\t\t\t\t\t\t\t\tlet tempGoods_id = pointer1.set(this.products[i].objectId);\n\n\t\t\t\t\t\t\t\ttempBills.set('goodsName', this.products[i].goodsName);\n\t\t\t\t\t\t\t\ttempBills.set('retailPrice', this.products[i].modify_retailPrice);\n\t\t\t\t\t\t\t\ttempBills.set('num', Number(this.products[i].num));\n\t\t\t\t\t\t\t\ttempBills.set('total_money', Number(this.products[i].total_money));\n\t\t\t\t\t\t\t\ttempBills.set('goodsId', tempGoods_id);\n\t\t\t\t\t\t\t\ttempBills.set('userId', user);\n\t\t\t\t\t\t\t\ttempBills.set('type', -2);\n\t\t\t\t\t\t\t\ttempBills.set('opreater', operater);\n\t\t\t\t\t\t\t\ttempBills.set(\"stock\", stockId);\n\t\t\t\t\t\t\t\ttempBills.set(\"out_stock\", out_stockId);\n\n\t\t\t\t\t\t\t\tlet goodsId = {}\n\t\t\t\t\t\t\t\tdetailBills.goodsName = this.products[i].goodsName\n\t\t\t\t\t\t\t\tdetailBills.stock = this.products[i].stocks.stock_name\n\t\t\t\t\t\t\t\tdetailBills.out_stock = that.out_stock.stock_name\n\t\t\t\t\t\t\t\tdetailBills.reserve = this.products[i].reserve\n\t\t\t\t\t\t\t\tdetailBills.out_reserve = out_products[0].reserve\n\t\t\t\t\t\t\t\tgoodsId.objectId = this.products[i].objectId\n\t\t\t\t\t\t\t\tgoodsId.out_objectId = out_products[0].objectId\n\t\t\t\t\t\t\t\tgoodsId.reserve = num\n\t\t\t\t\t\t\t\tgoodsId.out_reserve = num1\n\t\t\t\t\t\t\t\tif (this.products[i].selectd_model) {\n\t\t\t\t\t\t\t\t\tgoodsId.selected_model = this.products[i].selected_model\n\t\t\t\t\t\t\t\t\tgoodsId.models = this.products[i].models\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tdetailBills.goodsId = goodsId\n\t\t\t\t\t\t\t\tdetailBills.num = Number(this.products[i].num)\n\t\t\t\t\t\t\t\tdetailBills.type = -2\n\n\t\t\t\t\t\t\t\tbillsObj.push(tempBills)\n\t\t\t\t\t\t\t\tdetailObj.push(detailBills)\n\n\t\t\t\t\t\t\t\t//插入单据\n\t\t\t\t\t\t\t\tif (i == (this.products.length - 1)) {\n\t\t\t\t\t\t\t\t\tBmob.Query('Bills').saveAll(billsObj).then(function(res) {\n\t\t\t\t\t\t\t\t\t\t\t//console.log(\"批量新增单据成功\", res);\n\t\t\t\t\t\t\t\t\t\t\tlet bills = []\n\t\t\t\t\t\t\t\t\t\t\tfor (let i = 0; i < res.length; i++) {\n\t\t\t\t\t\t\t\t\t\t\t\tbills.push(res[i].success.objectId)\n\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\tlet pointer = Bmob.Pointer('_User')\n\t\t\t\t\t\t\t\t\t\t\tlet poiID = pointer.set(uid);\n\n\t\t\t\t\t\t\t\t\t\t\tlet masterId = uni.getStorageSync(\"masterId\");\n\t\t\t\t\t\t\t\t\t\t\tlet pointer1 = Bmob.Pointer('_User')\n\t\t\t\t\t\t\t\t\t\t\tlet poiID1 = pointer1.set(masterId);\n\n\t\t\t\t\t\t\t\t\t\t\tlet query = Bmob.Query('order_opreations');\n\t\t\t\t\t\t\t\t\t\t\t//query.set(\"relations\", relID);\n\t\t\t\t\t\t\t\t\t\t\tquery.set(\"detail\", detailObj);\n\t\t\t\t\t\t\t\t\t\t\tquery.set(\"bills\", bills);\n\t\t\t\t\t\t\t\t\t\t\tquery.set(\"beizhu\", e.detail.value.input_beizhu);\n\t\t\t\t\t\t\t\t\t\t\tquery.set(\"type\", -2);\n\t\t\t\t\t\t\t\t\t\t\tquery.set(\"opreater\", poiID1);\n\t\t\t\t\t\t\t\t\t\t\tquery.set(\"stock\", stockId);\n\t\t\t\t\t\t\t\t\t\t\tquery.set(\"out_stock\", out_stockId);\n\t\t\t\t\t\t\t\t\t\t\tquery.set(\"master\", poiID);\n\t\t\t\t\t\t\t\t\t\t\tquery.set('goodsName', that.products[0].goodsName);\n\n\t\t\t\t\t\t\t\t\t\t\tquery.save().then(res => {\n\t\t\t\t\t\t\t\t\t\t\t\tlet operationId = res.objectId;\n\t\t\t\t\t\t\t\t\t\t\t\t//console.log(\"添加操作历史记录成功\", res);\n\t\t\t\t\t\t\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\t\t\t\t\t\t\t//uni.removeStorageSync(\"customs\"); //移除这个缓存\n\t\t\t\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\t\t\t\ttitle: '产品调拨成功',\n\t\t\t\t\t\t\t\t\t\t\t\t\ticon: 'success',\n\t\t\t\t\t\t\t\t\t\t\t\t\tsuccess: function() {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthat.button_disabled = false;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tuni.setStorageSync(\"is_option\", true);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t//uni.removeStorageSync(\"warehouse\");\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tuni.removeStorageSync(\"_warehouse\")\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tuni.removeStorageSync(\"out_warehouse\")\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tuni.removeStorageSync(\"category\")\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tuni.removeStorageSync(\"warehouse\")\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcommon.log(uni.getStorageSync(\"user\").nickName + \"调拨了'\" + that.products[0].goodsName +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"'等\" +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthat\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.products.length + \"商品\", -2, res.objectId);\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t//自动打印\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (uni.getStorageSync(\"setting\").auto_print) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tprint.autoPrint(operationId);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tuni.navigateBack({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdelta: 2\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}, 500)\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t})\n\n\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\tfunction(error) {\n\t\t\t\t\t\t\t\t\t\t\t// 批量新增异常处理\n\t\t\t\t\t\t\t\t\t\t\tconsole.log(\"异常处理\");\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})\n\t\t\t\t\t} else {\n\t\t\t\t\t\tout_products = res\n\n\t\t\t\t\t\tnum = Number(this.products[i].reserve) - Number(this.products[i].num);\n\t\t\t\t\t\tnum1 = Number(out_products[0].reserve) + Number(this.products[i].num);\n\n\t\t\t\t\t\tif (this.products[i].stocks.objectId != that.out_stock.objectId) {\n\t\t\t\t\t\t\tconst query = Bmob.Query('Goods');\n\t\t\t\t\t\t\tquery.get(out_products[0].objectId).then(res => {\n\t\t\t\t\t\t\t\tconsole.log(res)\n\t\t\t\t\t\t\t\tlet nowOutProducts = res\n\t\t\t\t\t\t\t\tif (this.products[i].selectd_model) {\n\t\t\t\t\t\t\t\t\tfor (let model of this.products[i].selected_model) {\n\t\t\t\t\t\t\t\t\t\tfor (let item of nowOutProducts.models) {\n\t\t\t\t\t\t\t\t\t\t\tif (item.id == model.id) {\n\t\t\t\t\t\t\t\t\t\t\t\titem.reserve = Number(item.reserve) + Number(model.num)\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tdelete item.num // 清除没用的属行\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tres.set('models', nowOutProducts.models)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tres.set('reserve', num1)\n\t\t\t\t\t\t\t\tres.save()\n\n\t\t\t\t\t\t\t\tquery.get(that.products[i].objectId).then(res => {\n\t\t\t\t\t\t\t\t\tlet nowThisProduct = res\n\t\t\t\t\t\t\t\t\tif (this.products[i].selectd_model) {\n\t\t\t\t\t\t\t\t\t\tfor (let model of this.products[i].selected_model) {\n\t\t\t\t\t\t\t\t\t\t\tfor (let item of this.products[i].models) {\n\t\t\t\t\t\t\t\t\t\t\t\tif (item.id == model.id) {\n\t\t\t\t\t\t\t\t\t\t\t\t\titem.reserve = Number(item.reserve) - Number(model.num)\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\tdelete item.num // 清除没用的属行\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tres.set('models', this.products[i].models)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tres.set('reserve', num)\n\t\t\t\t\t\t\t\t\tres.save()\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t//单据\n\t\t\t\t\t\tlet tempBills = Bmob.Query('Bills');\n\t\t\t\t\t\tlet detailBills = {}\n\n\t\t\t\t\t\tlet pointer = Bmob.Pointer('_User')\n\t\t\t\t\t\tlet user = pointer.set(uid)\n\t\t\t\t\t\tlet pointer2 = Bmob.Pointer('_User')\n\t\t\t\t\t\tlet operater = pointer2.set(uni.getStorageSync(\"masterId\"))\n\t\t\t\t\t\tlet pointer1 = Bmob.Pointer('Goods')\n\t\t\t\t\t\tlet tempGoods_id = pointer1.set(this.products[i].objectId);\n\n\t\t\t\t\t\ttempBills.set('goodsName', this.products[i].goodsName);\n\t\t\t\t\t\t//tempBills.set('retailPrice', (this.products[i].modify_retailPrice).toString());\n\t\t\t\t\t\ttempBills.set('num', Number(this.products[i].num));\n\t\t\t\t\t\t//tempBills.set('total_money', this.products[i].total_money);\n\t\t\t\t\t\ttempBills.set('goodsId', tempGoods_id);\n\t\t\t\t\t\ttempBills.set('userId', user);\n\t\t\t\t\t\ttempBills.set('type', -2);\n\t\t\t\t\t\ttempBills.set('opreater', operater);\n\t\t\t\t\t\ttempBills.set(\"stock\", stockId);\n\t\t\t\t\t\ttempBills.set(\"out_stock\", out_stockId);\n\n\t\t\t\t\t\tlet goodsId = {}\n\t\t\t\t\t\tdetailBills.goodsName = this.products[i].goodsName\n\t\t\t\t\t\tdetailBills.stock = this.products[i].stocks.stock_name\n\t\t\t\t\t\tdetailBills.out_stock = that.out_stock.stock_name\n\t\t\t\t\t\tdetailBills.reserve = this.products[i].reserve\n\t\t\t\t\t\tdetailBills.out_reserve = out_products[0].reserve\n\t\t\t\t\t\tgoodsId.objectId = this.products[i].objectId\n\t\t\t\t\t\tgoodsId.out_objectId = out_products[0].objectId\n\t\t\t\t\t\tgoodsId.reserve = num\n\t\t\t\t\t\tgoodsId.out_reserve = num1\n\t\t\t\t\t\tif (this.products[i].selectd_model) {\n\t\t\t\t\t\t\tgoodsId.selected_model = this.products[i].selected_model\n\t\t\t\t\t\t\tgoodsId.models = this.products[i].models\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdetailBills.goodsId = goodsId\n\t\t\t\t\t\tdetailBills.num = Number(this.products[i].num)\n\t\t\t\t\t\tdetailBills.type = -2\n\n\t\t\t\t\t\tbillsObj.push(tempBills)\n\t\t\t\t\t\tdetailObj.push(detailBills)\n\n\t\t\t\t\t\t//插入单据\n\n\t\t\t\t\t\tif (i == (this.products.length - 1)) {\n\t\t\t\t\t\t\tBmob.Query('Bills').saveAll(billsObj).then(function(res) {\n\t\t\t\t\t\t\t\t\t//console.log(\"批量新增单据成功\", res);\n\t\t\t\t\t\t\t\t\tlet bills = []\n\t\t\t\t\t\t\t\t\tfor (let i = 0; i < res.length; i++) {\n\t\t\t\t\t\t\t\t\t\tbills.push(res[i].success.objectId)\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tlet pointer = Bmob.Pointer('_User')\n\t\t\t\t\t\t\t\t\tlet poiID = pointer.set(uid);\n\n\t\t\t\t\t\t\t\t\tlet masterId = uni.getStorageSync(\"masterId\");\n\t\t\t\t\t\t\t\t\tlet pointer1 = Bmob.Pointer('_User')\n\t\t\t\t\t\t\t\t\tlet poiID1 = pointer1.set(masterId);\n\n\t\t\t\t\t\t\t\t\tlet query = Bmob.Query('order_opreations');\n\t\t\t\t\t\t\t\t\t//query.set(\"relations\", relID);\n\t\t\t\t\t\t\t\t\tquery.set(\"detail\", detailObj);\n\t\t\t\t\t\t\t\t\tquery.set(\"bills\", bills);\n\t\t\t\t\t\t\t\t\tquery.set(\"beizhu\", e.detail.value.input_beizhu);\n\t\t\t\t\t\t\t\t\tquery.set(\"type\", -2);\n\t\t\t\t\t\t\t\t\tquery.set(\"opreater\", poiID1);\n\t\t\t\t\t\t\t\t\tquery.set(\"stock\", stockId);\n\t\t\t\t\t\t\t\t\tquery.set(\"out_stock\", out_stockId);\n\t\t\t\t\t\t\t\t\tquery.set(\"master\", poiID);\n\t\t\t\t\t\t\t\t\tquery.set('goodsName', that.products[0].goodsName);\n\n\t\t\t\t\t\t\t\t\tquery.save().then(res => {\n\t\t\t\t\t\t\t\t\t\tlet operationId = res.objectId;\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\t\ttitle: '产品调拨成功',\n\t\t\t\t\t\t\t\t\t\t\ticon: 'success',\n\t\t\t\t\t\t\t\t\t\t\tsuccess: function() {\n\t\t\t\t\t\t\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\t\t\t\t\t\t\tuni.setStorageSync(\"is_option\", true);\n\t\t\t\t\t\t\t\t\t\t\t\tuni.removeStorageSync(\"_warehouse\");\n\t\t\t\t\t\t\t\t\t\t\t\tuni.removeStorageSync(\"out_warehouse\");\n\t\t\t\t\t\t\t\t\t\t\t\tuni.removeStorageSync(\"category\");\n\t\t\t\t\t\t\t\t\t\t\t\tuni.removeStorageSync(\"warehouse\");\n\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t//uni.removeStorageSync(\"warehouse\");\n\t\t\t\t\t\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tthat.button_disabled = false;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\tcommon.log(uni.getStorageSync(\"user\").nickName + \"调拨了'\" + that.products[0].goodsName + \"'等\" +that.products.length + \"商品\", -2, res.objectId);\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t//自动打印\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (uni.getStorageSync(\"setting\").auto_print) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tprint.autoPrint(operationId);\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\tuni.navigateBack({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdelta: 2\n\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t}, 500)\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t})\n\n\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tfunction(error) {\n\t\t\t\t\t\t\t\t\t// 批量新增异常处理\n\t\t\t\t\t\t\t\t\tconsole.log(\"异常处理\");\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\n\t\t\t\t})\n\t\t\t}\n\n\t\t}\n\t}\n}\n","import mod from \"-!../../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-2!../../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./allocation_detail.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-2!../../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./allocation_detail.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}