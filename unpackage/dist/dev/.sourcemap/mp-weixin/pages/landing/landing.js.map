{"version":3,"sources":["webpack:///C:/Users/Administrator/Desktop/新建文件夹 (8)/wechat/pages/landing/landing.vue","webpack:///C:/Users/Administrator/Desktop/新建文件夹 (8)/wechat/pages/landing/landing.vue?9556","webpack:///C:/Users/Administrator/Desktop/新建文件夹 (8)/wechat/main.js","webpack:///C:/Users/Administrator/Desktop/新建文件夹 (8)/wechat/pages/landing/landing.vue?f76e","webpack:///C:/Users/Administrator/Desktop/新建文件夹 (8)/wechat/pages/landing/landing.vue?5179","webpack:///C:/Users/Administrator/Desktop/新建文件夹 (8)/wechat/pages/landing/landing.vue?ad2b","webpack:///C:/Users/Administrator/Desktop/新建文件夹 (8)/wechat/pages/landing/landing.vue?633d"],"names":["that","phone_number","data","code_text","code_button_state","onLoad","this","methods","get_InputPhone","e","detail","value","loginTiYan","uni","showLoading","title","Bmob","User","login","then","res","console","log","setStorageSync","objectId","switchTab","url","catch","err","code","showToast","icon","get_smscode","length","params","mobilePhoneNumber","template","requestSmsCode","response","code_down","setInterval","clearInterval","error","wx","formSubmit","phone","sms_code","smsCode","verifySmsCode","query","Query","equalTo","find","masterId","identity","now_staff","master","hideLoading","is_vip","vip_time","pwd","username","createPage","Page","renderjs","component","options","__file","components","render","_vm","_h","$createElement","_self","_c","recyclableRender","staticRenderFns","_withStripped"],"mappings":"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","file":"pages/landing/landing.js","sourcesContent":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport Bmob from \"hydrogen-js-sdk\";\n\nlet that;\nlet phone_number = \"\";\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tcode_text: \"验证码\",\n\t\t\tcode_button_state: false\n\t\t}\n\t},\n\tonLoad() {\n\t\tthat = this;\n\t},\n\tmethods: {\n\t\t//手机输入触发\n\t\tget_InputPhone(e) {\n\t\t\tphone_number = e.detail.value;\n\t\t},\n\t\t\n\t\t//体验账号登陆\n\t\tloginTiYan() {\n\t\t\tuni.showLoading({\n\t\t\t\ttitle: \"登录中...\"\n\t\t\t})\n\n\t\t\tBmob.User.login('test', 'test').then(res => {\n\t\t\t\tconsole.log(res)\n\n\t\t\t\tuni.setStorageSync(\"user\", res)\n\t\t\t\tuni.setStorageSync(\"masterId\", res.objectId)\n\t\t\t\tuni.setStorageSync(\"identity\", 1); //1是老板，2是员工\n\t\t\t\tuni.setStorageSync(\"uid\", res.objectId)\n\t\t\t\tuni.switchTab({\n\t\t\t\t\turl: \"/pages/tarBar/index\"\n\t\t\t\t});\n\n\t\t\t}).catch(err => {\n\t\t\t\tconsole.log(err)\n\t\t\t\tif (err.code == 101) {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: \"账号密码不正确\",\n\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t//获取验证码点击\n\t\tget_smscode: function() {\n\t\t\tif (phone_number.length < 11) {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '请输入正确的手机号',\n\t\t\t\t\ticon: \"none\"\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\tlet params = {\n\t\t\t\t\tmobilePhoneNumber: phone_number, //string\n\t\t\t\t\ttemplate: \"积木舟\"\n\t\t\t\t}\n\t\t\t\tBmob.requestSmsCode(params).then(function(response) {\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: '发送成功'\n\t\t\t\t\t\t});\n\t\t\t\t\t\tthat.code_button_state = true;\n\t\t\t\t\t\tthat.code_text = 60;\n\n\t\t\t\t\t\tlet code_down = setInterval(function() {\n\t\t\t\t\t\t\tthat.code_text = that.code_text - 1\n\t\t\t\t\t\t\tif (that.code_text == 0) {\n\t\t\t\t\t\t\t\tclearInterval(code_down);\n\t\t\t\t\t\t\t\tthat.code_button_state = false;\n\t\t\t\t\t\t\t\tthat.code_text = \"验证码\";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}, 1000);\n\n\t\t\t\t\t})\n\t\t\t\t\t.catch(function(error) {\n\t\t\t\t\t\twx.showToast({\n\t\t\t\t\t\t\ttitle: '发送失败',\n\t\t\t\t\t\t\ticon: \"none\"\n\t\t\t\t\t\t})\n\t\t\t\t\t});\n\t\t\t}\n\t\t},\n\n\t\t//登陆提交\n\t\tformSubmit(e) {\n\t\t\tconsole.log(e)\n\t\t\tlet phone = e.detail.value.phone;\n\t\t\tlet sms_code = e.detail.value.sms_code;\n\n\t\t\tif (e.detail.value.phone.length < 11) {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '手机格式错误',\n\t\t\t\t\ticon: \"none\"\n\t\t\t\t})\n\t\t\t} else if (e.detail.value.sms_code < 6) {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '验证码格式错误',\n\t\t\t\t\ticon: \"none\"\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\tlet smsCode = sms_code\n\t\t\t\tlet data = {\n\t\t\t\t\tmobilePhoneNumber: phone\n\t\t\t\t}\n\t\t\t\tBmob.verifySmsCode(smsCode, data).then(function(response) {\n\t\t\t\t\tconsole.log(response);\n\t\t\t\t\tconst query = Bmob.Query(\"_User\");\n\t\t\t\t\tquery.equalTo(\"mobilePhoneNumber\", \"==\", phone);\n\t\t\t\t\tquery.find().then(res => {\n\t\t\t\t\t\tconsole.log(res)\n\t\t\t\t\t\tif ((res[0].masterId && res[0].masterId.objectId) || res[0].identity == 2) {\n\t\t\t\t\t\t\tlet now_staff = res[0]\n\t\t\t\t\t\t\tlet master = res[0].masterId\n\t\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\t\tif (master.is_vip) {\n\t\t\t\t\t\t\t\tnow_staff.is_vip = true\n\t\t\t\t\t\t\t\tnow_staff.vip_time = master.vip_time\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tnow_staff.is_vip = false\n\t\t\t\t\t\t\t\tnow_staff.vip_time = 0\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tuni.setStorageSync(\"user\", now_staff)\n\t\t\t\t\t\t\tuni.setStorageSync(\"identity\", 2) //1是老板，2是员工\n\t\t\t\t\t\t\tuni.setStorageSync(\"masterId\", res[0].objectId)\n\t\t\t\t\t\t\tuni.setStorageSync(\"uid\", master[0].objectId)\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tuni.setStorageSync(\"user\", res[0])\n\t\t\t\t\t\t\tuni.setStorageSync(\"masterId\", res[0].objectId)\n\t\t\t\t\t\t\tuni.setStorageSync(\"identity\", 1); //1是老板，2是员工\n\t\t\t\t\t\t\tuni.setStorageSync(\"uid\", res[0].objectId)\n\t\t\t\t\t\t\tuni.switchTab({\n\t\t\t\t\t\t\t\turl: \"/pages/tarBar/index\"\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tif (res[0].pwd) {\n\t\t\t\t\t\t\t\tBmob.User.login(res[0].username, res[0].pwd).then(res => {\n\t\t\t\t\t\t\t\t\tconsole.log(res)\n\t\t\t\t\t\t\t\t}).catch(err => {\n\t\t\t\t\t\t\t\t\tconsole.log(err)\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tBmob.User.login(res[0].username, res[0].username).then(res => {\n\t\t\t\t\t\t\t\t\tconsole.log(res)\n\t\t\t\t\t\t\t\t}).catch(err => {\n\t\t\t\t\t\t\t\t\tconsole.log(err)\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t});\n\n\t\t\t\t}).catch(function(error) {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '验证码或手机号错误',\n\t\t\t\t\t\ticon: \"none\"\n\t\t\t\t\t})\n\t\t\t\t});\n\t\t\t}\n\n\t\t},\n\n\t}\n}\n","import mod from \"-!../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-2!../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./landing.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-2!../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./landing.vue?vue&type=style&index=0&lang=css&\"","import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'\nimport Page from './pages/landing/landing.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./landing.vue?vue&type=template&id=6350824f&\"\nvar renderjs\nimport script from \"./landing.vue?vue&type=script&lang=js&\"\nexport * from \"./landing.vue?vue&type=script&lang=js&\"\nimport style0 from \"./landing.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"新建文件夹 (8)/wechat/pages/landing/landing.vue\"\nexport default component.exports","export * from \"-!../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./landing.vue?vue&type=template&id=6350824f&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./landing.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./landing.vue?vue&type=script&lang=js&\""],"sourceRoot":""}