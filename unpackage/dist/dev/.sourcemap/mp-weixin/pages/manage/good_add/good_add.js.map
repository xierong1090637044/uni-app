{"version":3,"sources":["webpack:///C:/Users/Administrator/Desktop/新建文件夹 (8)/kcbThou/main.js","webpack:///C:/Users/Administrator/Desktop/新建文件夹 (8)/kcbThou/pages/manage/good_add/good_add.vue?d123","webpack:///C:/Users/Administrator/Desktop/新建文件夹 (8)/kcbThou/pages/manage/good_add/good_add.vue?b54e","webpack:///C:/Users/Administrator/Desktop/新建文件夹 (8)/kcbThou/pages/manage/good_add/good_add.vue?0eb8","webpack:///C:/Users/Administrator/Desktop/新建文件夹 (8)/kcbThou/pages/manage/good_add/good_add.vue?738c","webpack:///C:/Users/Administrator/Desktop/新建文件夹 (8)/kcbThou/pages/manage/good_add/good_add.vue","webpack:///C:/Users/Administrator/Desktop/新建文件夹 (8)/kcbThou/pages/manage/good_add/good_add.vue?8f29"],"names":["__webpack_require__","_interopRequireDefault","createPage","Page","r","__webpack_exports__","_good_add_vue_vue_type_template_id_5e303adc___WEBPACK_IMPORTED_MODULE_0__","_good_add_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__","__WEBPACK_IMPORT_KEY__","key","d","_Downloads_HBuilderX_1_9_9_20190522_full_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__","component","Object","options","__file","_Downloads_HBuilderX_1_9_9_20190522_full_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_Downloads_HBuilderX_1_9_9_20190522_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_16_0_Downloads_HBuilderX_1_9_9_20190522_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_Downloads_HBuilderX_1_9_9_20190522_full_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_Downloads_HBuilderX_1_9_9_20190522_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_Downloads_HBuilderX_1_9_9_20190522_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_good_add_vue_vue_type_template_id_5e303adc___WEBPACK_IMPORTED_MODULE_0__","render","staticRenderFns","_h","this","$createElement","_self","_c","_withStripped","_Downloads_HBuilderX_1_9_9_20190522_full_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_Downloads_HBuilderX_1_9_9_20190522_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_Downloads_HBuilderX_1_9_9_20190522_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_Downloads_HBuilderX_1_9_9_20190522_full_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_Downloads_HBuilderX_1_9_9_20190522_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_Downloads_HBuilderX_1_9_9_20190522_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_good_add_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__","_Downloads_HBuilderX_1_9_9_20190522_full_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_Downloads_HBuilderX_1_9_9_20190522_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_Downloads_HBuilderX_1_9_9_20190522_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_Downloads_HBuilderX_1_9_9_20190522_full_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_Downloads_HBuilderX_1_9_9_20190522_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_Downloads_HBuilderX_1_9_9_20190522_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_good_add_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0___default","n","_hydrogenJsSdk","_common","that","uid","p_class_user_id","p_second_class_id","components","uniCollapse","uniCollapseItem","faIcon","data","text_desc","goodsName","costPrice","retailPrice","packageContent","packingUnit","warning_num","max_num","producer","regNumber","position","product_info","productCode","category","reserve","goodsIcon","stock_name","stocks","producttime","nousetime","product_state","isMoreModelAdd","uni","getStorageSync","onLoad","removeStorageSync","setNavigationBarTitle","title","now_product","second_class","common","js_date_time","goodsClass","objectId","pointer2","Bmob","Pointer","set","type","setStorageSync","pointer3","length","query","Query","order","equalTo","find","then","res","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","value","err","return","onShow","stocksReserve","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","item","Number","parent","console","log","onUnload","handleData","methods","scan_by_id","id","wx","showLoading","request","url","showapi_appid","showapi_sign","code","header","content-type","success","hideLoading","good","showapi_res_body","manuName","img","note","scan_code","scanCode","onlyFromCamera","scanType","result","bindDateChange","e","target","formSubmit","detail","showToast","icon","upload_good","upload_image","chooseImage","count","sizeType","sourceType","file","timestamp","Date","parse","tempFilePaths","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","File","save","edit_good","add_good","userid","time","replace","RegExp","getTime","_loop","i","get","good_id","toString","catch","nickName","navigateBack","delta","setTimeout","this_result","queryArray","Array","p_stock_id","p_good_id","queryObj","push","saveAll","handledata","_Downloads_HBuilderX_1_9_9_20190522_full_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_Downloads_HBuilderX_1_9_9_20190522_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_1_Downloads_HBuilderX_1_9_9_20190522_full_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_index_js_ref_6_oneOf_1_2_Downloads_HBuilderX_1_9_9_20190522_full_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_loaders_stylePostLoader_js_Downloads_HBuilderX_1_9_9_20190522_full_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_Downloads_HBuilderX_1_9_9_20190522_full_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_Downloads_HBuilderX_1_9_9_20190522_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_Downloads_HBuilderX_1_9_9_20190522_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_good_add_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","_Downloads_HBuilderX_1_9_9_20190522_full_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_Downloads_HBuilderX_1_9_9_20190522_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_1_Downloads_HBuilderX_1_9_9_20190522_full_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_index_js_ref_6_oneOf_1_2_Downloads_HBuilderX_1_9_9_20190522_full_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_loaders_stylePostLoader_js_Downloads_HBuilderX_1_9_9_20190522_full_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_Downloads_HBuilderX_1_9_9_20190522_full_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_Downloads_HBuilderX_1_9_9_20190522_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_Downloads_HBuilderX_1_9_9_20190522_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_good_add_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default"],"mappings":"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","file":"pages/manage/good_add/good_add.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'            \nimport Page from './pages/manage/good_add/good_add.vue'\ncreatePage(Page)","import { render, staticRenderFns } from \"./good_add.vue?vue&type=template&id=5e303adc&\"\nimport script from \"./good_add.vue?vue&type=script&lang=js&\"\nexport * from \"./good_add.vue?vue&type=script&lang=js&\"\nimport style0 from \"./good_add.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX.1.9.9.20190522.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('5e303adc', component.options)\n    } else {\n      api.reload('5e303adc', component.options)\n    }\n    module.hot.accept(\"./good_add.vue?vue&type=template&id=5e303adc&\", function () {\n      api.rerender('5e303adc', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"Desktop/新建文件夹 (8)/kcbThou/pages/manage/good_add/good_add.vue\"\nexport default component.exports","export * from \"-!../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./good_add.vue?vue&type=template&id=5e303adc&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./good_add.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./good_add.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport faIcon from \"@/components/kilvn-fa-icon/fa-icon.vue\"\nimport uniCollapse from '@/components/uni-collapse/uni-collapse.vue'\nimport uniCollapseItem from '@/components/uni-collapse-item/uni-collapse-item.vue'\n\nimport Bmob from \"hydrogen-js-sdk\";\nimport common from '@/utils/common.js';\n\nlet that;\nlet p_class_user_id = \"\";\nlet p_second_class_id = \"\";\nlet uid;\n\nexport default {\n\tcomponents: {\n\t\tuniCollapse,\n\t\tuniCollapseItem,\n\t\tfaIcon\n\t},\n\tdata() {\n\t\treturn {\n\t\t\ttext_desc: \"保存\",\n\t\t\tgoodsName: '',\n\t\t\tcostPrice: '', //进价\n\t\t\tretailPrice: '', //售价\n\t\t\tpackageContent: '', //包装含量\n\t\t\tpackingUnit: '', //包装单位\n\t\t\twarning_num: '', //预警库存\n\t\t\tmax_num: '', //合理值\n\t\t\tproducer: '', //生产厂家\n\t\t\tregNumber: '', //货号\n\t\t\tposition: '', //位置\n\t\t\tproduct_info: '', //产品简介\n\t\t\tproductCode: \"\", //产品条码\n\t\t\tcategory: \"\", //分类\n\t\t\treserve: 0, //初始库存\n\t\t\tgoodsIcon: \"\", //产品图片\n\t\t\tstock_name: \"\", //存放仓库的名字\n\t\t\tstocks: \"\", //存放的仓库\n\t\t\tproducttime: \"\",\n\t\t\tnousetime: \"\",\n\t\t\tproduct_state: false, //产品是否是半成品\n\t\t\tisMoreModelAdd:uni.getStorageSync(\"addMoreModel\")\n\t\t}\n\t},\n\n\tonLoad(options) {\n\t\tthat = this;\n\t\tuid = uni.getStorageSync('uid');\n\t\tuni.removeStorageSync(\"category\")\n\t\tuni.removeStorageSync(\"is_add\");\n\n\t\tif (uni.getStorageSync(\"now_product\")) {\n\t\t\tuni.setNavigationBarTitle({\n\t\t\t\ttitle: \"编辑产品\"\n\t\t\t})\n\n\t\t\tlet now_product = uni.getStorageSync(\"now_product\")\n\n\t\t\tthat.text_desc = \"修改\"\n\t\t\tthat.goodsName = now_product.goodsName\n\t\t\tthat.costPrice = now_product.costPrice//进价\n\t\t\tthat.retailPrice = now_product.retailPrice //售价\n\t\t\tthat.packageContent = now_product.packageContent //包装含量\n\t\t\tthat.packingUnit = now_product.packingUnit //包装单位\n\t\t\tthat.warning_num = now_product.warning_num //预警库存\n\t\t\tthat.producer = now_product.producer //生产厂家\n\t\t\tthat.regNumber = now_product.regNumber //货号\n\t\t\tthat.position = now_product.position //位置\n\t\t\tthat.product_info = now_product.product_info //产品简介\n\t\t\tthat.productCode = now_product.productCode //产品条码\n\t\t\tthat.category = now_product.second_class ? now_product.second_class : '' //分类\n\t\t\tthat.reserve = now_product.reserve\n\t\t\tthat.goodsIcon = now_product.goodsIcon ? now_product.goodsIcon : '' //产品图片\n\t\t\tthat.product_state = now_product.product_state //产品是否是半成品\n\t\t\tthat.nousetime = (now_product.nousetime) ? common.js_date_time(now_product.nousetime) : ''\n\t\t\tthat.max_num = now_product.max_num\n\n\t\t\tif (now_product.goodsClass && now_product.goodsClass.objectId) {\n\t\t\t\tlet pointer2 = Bmob.Pointer('class_user')\n\t\t\t\tp_class_user_id = pointer2.set(now_product.goodsClass.objectId) //一级分类id关联\n\t\t\t\tnow_product.goodsClass.type = 2\n\t\t\t\tuni.setStorageSync(\"category\",now_product.goodsClass)\n\t\t\t}\n\n\t\t\tif (now_product.second_class && now_product.second_class.objectId) {\n\t\t\t\tlet pointer3 = Bmob.Pointer('second_class')\n\t\t\t\tp_second_class_id = pointer3.set(now_product.second_class.objectId) //仓库的id关联\n\t\t\t\tnow_product.second_class.type = 2\n\t\t\t\tuni.setStorageSync(\"category\",now_product.second_class)\n\t\t\t}\n\n\t\t\tif (now_product.stocks && now_product.stocks.length > 0) {\n\t\t\t\tuni.setStorageSync(\"warehouse\", now_product.stocks)\n\t\t\t}\n\t\t} else {\n\t\t\tconst query = Bmob.Query(\"stocks\");\n\t\t\tquery.order(\"-num\");\n\t\t\tquery.equalTo(\"parent\", \"==\", uid);\n\t\t\tquery.equalTo(\"disabled\", \"!=\", true);\n\t\t\tquery.find().then(res => {\n\t\t\t\tfor (let item of res) {\n\t\t\t\t\titem.reserve = 0\n\t\t\t\t}\n\t\t\t\tuni.setStorageSync(\"warehouse\", res)\n\t\t\t});\n\n\t\t}\n\t},\n\tonShow() {\n\n\n\t\tif (uni.getStorageSync(\"warehouse\")) {\n\t\t\tthat.reserve = 0\n\t\t\tlet stocksReserve = uni.getStorageSync(\"warehouse\")\n\t\t\tfor (let item of stocksReserve) {\n\t\t\t\tthat.reserve += Number(item.reserve)\n\t\t\t}\n\t\t}\n\n\t\tif (uni.getStorageSync(\"category\")) {\n\t\t\tthat.category = uni.getStorageSync(\"category\")\n\n\t\t\tif (that.category.type == 2) {\n\t\t\t\tlet pointer2 = Bmob.Pointer('class_user')\n\t\t\t\tp_class_user_id = pointer2.set(that.category.parent.objectId) //一级分类id关联\n\n\t\t\t\tlet pointer3 = Bmob.Pointer('second_class')\n\t\t\t\tp_second_class_id = pointer3.set(that.category.objectId) //仓库的id关联\n\n\t\t\t\tconsole.log(that.category.parent.objectId, that.category.objectId)\n\t\t\t} else {\n\t\t\t\tlet pointer2 = Bmob.Pointer('class_user')\n\t\t\t\tp_class_user_id = pointer2.set(that.category.objectId) //一级分类id关联\n\t\t\t}\n\n\t\t}\n\t},\n\n\tonUnload() {\n\t\tp_class_user_id = \"\";\n\t\tp_second_class_id = \"\";\n\n\t\tcommon.handleData()\n\t},\n\n\tmethods: {\n\n\t\t//通过条形码扫码得到商品信息\n\t\tscan_by_id: function(id) {\n\t\t\tconsole.log(id);\n\t\t\twx.showLoading({\n\t\t\t\ttitle: '加载中...',\n\t\t\t})\n\t\t\twx.request({\n\t\t\t\turl: 'https://route.showapi.com/66-22',\n\t\t\t\tdata: {\n\t\t\t\t\tshowapi_appid: '84916',\n\t\t\t\t\tshowapi_sign: 'ad4b63369c834759b411a9d7fcb07ed7',\n\t\t\t\t\tcode: id,\n\t\t\t\t},\n\t\t\t\theader: {\n\t\t\t\t\t'content-type': 'application/json' // 默认值\n\t\t\t\t},\n\t\t\t\tsuccess(res) {\n\t\t\t\t\twx.hideLoading();\n\t\t\t\t\tlet good = res.data.showapi_res_body;\n\n\t\t\t\t\tconsole.log(good)\n\n\t\t\t\t\tthat.goodsName = good.goodsName,\n\t\t\t\t\t\tthat.producer = good.manuName,\n\t\t\t\t\t\tthat.goodsIcon = good.img //产品图片\n\t\t\t\t\tthat.product_info = good.note //产品简介\n\n\t\t\t\t\tthat.productCode = id\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t//扫码操作\n\t\tscan_code() {\n\t\t\tuni.scanCode({\n\t\t\t\tonlyFromCamera: true,\n\t\t\t\tsuccess: function(res) {\n\t\t\t\t\tconsole.log('条码类型：' + res.scanType);\n\t\t\t\t\tconsole.log('条码内容：' + res.result);\n\t\t\t\t\tthat.productCode = res.result\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\tbindDateChange: function(e) {\n\t\t\tthat.nousetime = e.target.value\n\t\t},\n\n\t\t//保存提交\n\t\tformSubmit: function(e) {\n\t\t\tconsole.log(e.detail.value)\n\t\t\tlet good = e.detail.value;\n\t\t\tif (good.goodsName == \"\") {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: \"请输入产品名称\",\n\t\t\t\t\ticon: \"none\"\n\t\t\t\t})\n\t\t\t}else if(uni.getStorageSync(\"category\") == null || uni.getStorageSync(\"category\") == \"\"){\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: \"请选择产品类别\",\n\t\t\t\t\ticon: \"none\"\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\tthat.upload_good(good)\n\t\t\t}\n\t\t},\n\n\t\t//上传产品图片\n\t\tupload_image: function() {\n\t\t\tuni.chooseImage({\n\t\t\t\tcount: 1, //默认9\n\t\t\t\tsizeType: ['compressed'], //可以指定是原图还是压缩图，默认二者都有\n\t\t\t\tsourceType: ['album', 'camera'], //从相册选择\n\t\t\t\tsuccess: function(res) {\n\t\t\t\t\tconsole.log(res);\n\t\t\t\t\tlet timestamp = Date.parse(new Date());\n\t\t\t\t\tlet tempFilePaths = res.tempFilePaths\n\t\t\t\t\tlet file;\n\t\t\t\t\tfor (let item of tempFilePaths) {\n\t\t\t\t\t\tfile = Bmob.File(timestamp + '.jpg', item);\n\t\t\t\t\t}\n\t\t\t\t\tfile.save().then(res => {\n\t\t\t\t\t\tthat.goodsIcon = res[0].url;\n\t\t\t\t\t})\n\n\t\t\t\t},\n\t\t\t});\n\t\t},\n\n\t\t//上传商品\n\t\tupload_good(good) {\n\t\t\tuni.showLoading({\n\t\t\t\ttitle: \"上传中...\"\n\t\t\t});\n\n\t\t\tif (uni.getStorageSync(\"now_product\")) {\n\t\t\t\tthat.edit_good(good)\n\t\t\t} else {\n\t\t\t\tconst query = Bmob.Query(\"NGoods\");\n\t\t\t\tquery.equalTo(\"userId\", \"==\", uid);\n\t\t\t\tquery.equalTo(\"status\", \"!=\", -1);\n\t\t\t\tquery.equalTo(\"goodsName\", \"==\", good.goodsName);\n\t\t\t\tquery.equalTo(\"position\", \"==\", good.position);\n\t\t\t\tquery.equalTo(\"stocks\", \"==\", that.stocks.objectId);\n\t\t\t\tquery.find().then(res => {\n\t\t\t\t\tif (res.length >= 1) {\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: \"你的库存中已存在此产品\",\n\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t})\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthat.add_good(good, \"add\")\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\n\t\tedit_good(good) {\n\t\t\tlet now_product = uni.getStorageSync(\"now_product\")\n\n\t\t\tconst pointer = Bmob.Pointer('_User')\n\t\t\tconst userid = pointer.set(uid)\n\n\t\t\tconst query = Bmob.Query('NGoods');\n\t\t\tquery.set(\"goodsIcon\", that.goodsIcon ? that.goodsIcon : '')\n\t\t\tquery.set(\"goodsName\", good.goodsName)\n\t\t\tquery.set(\"costPrice\", good.costPrice ? Number(good.costPrice): 0)\n\t\t\tquery.set(\"retailPrice\", good.retailPrice ?Number(good.retailPrice) : 0)\n\t\t\tif (that.nousetime) {\n\t\t\t\tlet time = that.nousetime.replace(new RegExp('-', 'g'), \"/\")\n\t\t\t\ttime = new Date(time).getTime()\n\t\t\t\tquery.set(\"nousetime\", time)\n\t\t\t}\n\t\t\tquery.set(\"regNumber\", good.regNumber)\n\t\t\tquery.set(\"reserve\", Number(good.reserve))\n\t\t\tquery.set(\"productCode\", good.productCode)\n\t\t\tquery.set(\"product_info\", good.product_info)\n\t\t\tquery.set(\"producer\", good.producer)\n\t\t\tquery.set(\"packingUnit\", good.packingUnit)\n\t\t\tquery.set(\"packageContent\", good.packageContent)\n\t\t\tquery.set(\"position\", good.position)\n\t\t\tquery.set(\"warning_num\", Number(good.warning_num))\n\t\t\tquery.set(\"max_num\", Number(good.max_num))\n\t\t\tquery.set(\"stocktype\", (Number(good.warning_num) >= Number(that.reserve)) ? 0 : 1) //库存数量类型 0代表库存不足 1代表库存充足\n\n\t\t\tquery.set(\"product_state\", good.product_state) //改产品是否是半成品\n\t\t\tquery.set(\"order\", 0)\n\t\t\tif (uni.getStorageSync(\"category\")) { //存在此缓存证明选择了仓库\n\t\t\t\tif (that.category.type == 1) {\n\t\t\t\t\tquery.set(\"goodsClass\", p_class_user_id)\n\t\t\t\t} else {\n\t\t\t\t\tquery.set(\"goodsClass\", p_class_user_id)\n\t\t\t\t\tquery.set(\"second_class\", p_second_class_id)\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tquery.set(\"userId\", userid)\n\t\t\tquery.set('id', now_product.objectId) //需要修改的objectId\n\t\t\tquery.save().then(res => {\n\n\t\t\t\tif (uni.getStorageSync(\"warehouse\") && uni.getStorageSync(\"warehouse\").length > 0) {\n\t\t\t\t\tlet stocksReserve = uni.getStorageSync(\"warehouse\")\n\t\t\t\t\tfor (var i = 0; i < stocksReserve.length; i++) {\n\t\t\t\t\t\tconsole.log(stocksReserve[i])\n\t\t\t\t\t\tlet item = stocksReserve[i]\n\t\t\t\t\t\tconst query = Bmob.Query('NGoods');\n\t\t\t\t\t\tquery.get(item.good_id).then(res => {\n\t\t\t\t\t\t\tconsole.log(res, item)\n\t\t\t\t\t\t\tres.set('reserve', Number(item.reserve))\n\t\t\t\t\t\t\tres.set(\"retailPrice\", good.retailPrice.toString())\n\t\t\t\t\t\t\tres.set(\"costPrice\",  good.costPrice.toString())\n\t\t\t\t\t\t\tres.set(\"goodsName\", good.goodsName)\n\t\t\t\t\t\t\tres.save()\n\t\t\t\t\t\t}).catch(err => {\n\t\t\t\t\t\t\tconsole.log(err)\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tuni.hideLoading();\n\t\t\t\tcommon.log(uni.getStorageSync(\"user\").nickName + \"修改了产品'\" + now_product.goodsName + \"'\", 5, now_product.objectId);\n\t\t\t\tuni.setStorageSync(\"is_add\", true)\n\t\t\t\tuni.navigateBack({\n\t\t\t\t\tdelta:2\n\t\t\t\t})\n\t\t\t\tsetTimeout(function(){\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: \"修改成功\",\n\t\t\t\t\t})\n\t\t\t\t},1000)\n\n\t\t\t})\n\t\t},\n\n\t\tadd_good(good, type) {\n\t\t\tlet now_product = uni.getStorageSync(\"now_product\")\n\n\t\t\tconst pointer = Bmob.Pointer('_User')\n\t\t\tconst userid = pointer.set(uid)\n\n\t\t\tconst query = Bmob.Query('NGoods');\n\t\t\tquery.set(\"goodsIcon\", that.goodsIcon ? that.goodsIcon : '')\n\t\t\tquery.set(\"goodsName\", good.goodsName)\n\t\t\tquery.set(\"costPrice\", good.costPrice ? Number(good.costPrice) : 0)\n\t\t\tquery.set(\"retailPrice\", good.retailPrice ? Number(good.retailPrice) : 0)\n\t\t\tif (that.nousetime) {\n\t\t\t\tlet time = that.nousetime.replace(new RegExp('-', 'g'), \"/\")\n\t\t\t\ttime = new Date(time).getTime()\n\t\t\t\tquery.set(\"nousetime\", time)\n\t\t\t}\n\t\t\tquery.set(\"regNumber\", good.regNumber)\n\t\t\tquery.set(\"reserve\", Number(good.reserve))\n\t\t\tquery.set(\"productCode\", good.productCode)\n\t\t\tquery.set(\"product_info\", good.product_info)\n\t\t\tquery.set(\"producer\", good.producer)\n\t\t\tquery.set(\"packingUnit\", good.packingUnit)\n\t\t\tquery.set(\"packageContent\", good.packageContent)\n\t\t\tquery.set(\"position\", good.position)\n\t\t\tquery.set(\"warning_num\", Number(good.warning_num))\n\t\t\tquery.set(\"max_num\", Number(good.max_num))\n\t\t\tquery.set(\"stocktype\", (Number(good.warning_num) >= Number(that.reserve)) ? 0 : 1) //库存数量类型 0代表库存不足 1代表库存充足\n\n\t\t\tquery.set(\"product_state\", good.product_state) //改产品是否是半成品\n\t\t\tquery.set(\"order\", 0)\n\t\t\tif (uni.getStorageSync(\"category\")) { //存在此缓存证明选择了类别\n\t\t\t\tif (that.category.type == 1) {\n\t\t\t\t\tquery.set(\"goodsClass\", p_class_user_id)\n\t\t\t\t} else {\n\t\t\t\t\tquery.set(\"goodsClass\", p_class_user_id)\n\t\t\t\t\tquery.set(\"second_class\", p_second_class_id)\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tquery.set(\"userId\", userid)\n\t\t\tquery.save().then(res => {\n\n\t\t\t\tlet this_result = res\n\t\t\t\tlet stocksReserve = uni.getStorageSync(\"warehouse\")||[]\n\t\t\t\tif (stocksReserve.length > 0) {\n\t\t\t\t\t\n\n\t\t\t\t\tconst queryArray = new Array();\n\t\t\t\t\t// 构造含有50个对象的数组\n\t\t\t\t\tfor (var i = 0; i < stocksReserve.length; i++) {\n\t\t\t\t\t\tconst pointer1 = Bmob.Pointer('stocks')\n\t\t\t\t\t\tconst p_stock_id = pointer1.set(stocksReserve[i].objectId) //仓库的id关联\n\n\t\t\t\t\t\tconst pointer2 = Bmob.Pointer('NGoods')\n\t\t\t\t\t\tconst p_good_id = pointer2.set(this_result.objectId) //仓库的id关联\n\n\t\t\t\t\t\tvar queryObj = Bmob.Query('NGoods');\n\t\t\t\t\t\tqueryObj.set(\"order\", 1)\n\t\t\t\t\t\tqueryObj.set(\"goodsName\", good.goodsName)\n\t\t\t\t\t\tqueryObj.set(\"costPrice\", Number(good.costPrice))\n\t\t\t\t\t\tqueryObj.set(\"retailPrice\", Number(good.retailPrice))\n\t\t\t\t\t\tqueryObj.set(\"header\", p_good_id)\n\t\t\t\t\t\tqueryObj.set(\"userId\", userid)\n\t\t\t\t\t\tqueryObj.set(\"stocks\", p_stock_id)\n\t\t\t\t\t\tqueryObj.set(\"reserve\", Number(stocksReserve[i].reserve))\n\t\t\t\t\t\tqueryArray.push(queryObj);\n\t\t\t\t\t}\n\n\t\t\t\t\t// 传入刚刚构造的数组\n\t\t\t\t\tBmob.Query('NGoods').saveAll(queryArray).then(result => {\n\t\t\t\t\t\tconsole.log(result);\n\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\tcommon.log(uni.getStorageSync(\"user\").nickName + \"增加了产品'\" + good.goodsName + \"'\", 5, this_result.objectId);\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: \"上传成功\"\n\t\t\t\t\t\t})\n\n\t\t\t\t\t\tuni.setStorageSync(\"is_add\", true)\n\t\t\t\t\t}).catch(err => {\n\t\t\t\t\t\tconsole.log(err);\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\tcommon.log(uni.getStorageSync(\"user\").nickName + \"增加了产品'\" + good.goodsName + \"'\", 5, this_result.objectId);\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: \"上传成功\"\n\t\t\t\t\t})\n\n\t\t\t\t\tuni.setStorageSync(\"is_add\", true)\n\t\t\t\t}\n\n\n\t\t\t\t//that.handledata()\n\t\t\t}).catch(err => {\n\t\t\t\tconsole.log(err)\n\t\t\t})\n\t\t},\n\n\t\t//数据重置\n\t\thandledata() {\n\t\t\tthat.goodsName = ''\n\t\t\tthat.costPrice = '' //进价\n\t\t\tthat.retailPrice = '' //售价\n\t\t\tthat.packageContent = '' //包装含量\n\t\t\tthat.packingUnit = '' //包装单位\n\t\t\tthat.warning_num = '' //预警库存\n\t\t\tthat.producer = '' //生产厂家\n\t\t\tthat.regNumber = '' //货号\n\t\t\tthat.position = '' //位置\n\t\t\tthat.product_info = '' //产品简介\n\t\t\tthat.productCode = \"\" //产品条码\n\t\t\tthat.category = \"\" //分类\n\t\t\tthat.reserve = 0 //初始库存\n\t\t\tthat.goodsIcon = \"\" //产品图片\n\t\t\tthat.stocks = \"\" //存放的仓库\n\t\t\tthat.stock_name = \"\"\n\t\t\tthat.producttime = \"\"\n\t\t\tthat.nousetime = \"\"\n\t\t}\n\n\t}\n}\n","import mod from \"-!../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./good_add.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./good_add.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}