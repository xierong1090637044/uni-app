{"version":3,"sources":["webpack:///C:/Users/Administrator/Desktop/新建文件夹 (8)/wechat/main.js","webpack:///C:/Users/Administrator/Desktop/新建文件夹 (8)/wechat/pages/manage/good_add/good_add.vue?ceb6","webpack:///C:/Users/Administrator/Desktop/新建文件夹 (8)/wechat/pages/manage/good_add/good_add.vue?9a2d","webpack:///C:/Users/Administrator/Desktop/新建文件夹 (8)/wechat/pages/manage/good_add/good_add.vue?6ae3","webpack:///C:/Users/Administrator/Desktop/新建文件夹 (8)/wechat/pages/manage/good_add/good_add.vue?28a6","webpack:///C:/Users/Administrator/Desktop/新建文件夹 (8)/wechat/pages/manage/good_add/good_add.vue","webpack:///C:/Users/Administrator/Desktop/新建文件夹 (8)/wechat/pages/manage/good_add/good_add.vue?0f17"],"names":["createPage","Page","renderjs","component","options","__file","components","render","_vm","this","_h","$createElement","_self","_c","recyclableRender","staticRenderFns","_withStripped","that","uid","p_class_user_id","p_second_class_id","uniCollapse","uniCollapseItem","faIcon","data","text_desc","goodsName","costPrice","retailPrice","packageContent","packingUnit","warning_num","max_num","producer","regNumber","position","product_info","productCode","category","reserve","goodsIcon","stock_name","stocks","producttime","nousetime","productMoreG","addType","modelsValue","haveSetProductMoreG","onLoad","uni","getStorageSync","removeStorageSync","setNavigationBarTitle","title","now_product","Number","second_class","product_state","common","js_date_time","models","setStorageSync","goodsClass","objectId","pointer2","Bmob","Pointer","set","type","pointer3","parent","warehouse","query","Query","equalTo","include","find","then","res","item","good_id","now_model","push","order","limit","length","warehouseItem","stock","id","scan_by_id","onShow","stocksReserve","newStock","stockItem","model","thisModel","onUnload","handleData","methods","gotoNext","navigateTo","url","showToast","icon","changeState","e","detail","value","console","log","wx","showLoading","request","showapi_appid","showapi_sign","code","header","success","hideLoading","good","showapi_res_body","manuName","img","note","scan_code","scanCode","onlyFromCamera","scanType","result","bindDateChange","target","formSubmit","upload_good","upload_image","chooseImage","count","sizeType","sourceType","file","timestamp","Date","parse","tempFilePaths","File","save","edit_good","add_good","pointer","userid","toString","time","replace","RegExp","getTime","get","unset","i","nickName","setTimeout","navigateBack","delta","catch","err","this_result","queryArray","Array","pointer1","p_stock_id","p_good_id","queryObj","saveAll","handledata"],"mappings":"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","file":"pages/manage/good_add/good_add.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'\nimport Page from './pages/manage/good_add/good_add.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./good_add.vue?vue&type=template&id=0611bb52&\"\nvar renderjs\nimport script from \"./good_add.vue?vue&type=script&lang=js&\"\nexport * from \"./good_add.vue?vue&type=script&lang=js&\"\nimport style0 from \"./good_add.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"Desktop/新建文件夹 (8)/wechat/pages/manage/good_add/good_add.vue\"\nexport default component.exports","export * from \"-!../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./good_add.vue?vue&type=template&id=0611bb52&\"","var components = {\n  \"uni-collapse\": () =>\n    import(\n      /* webpackChunkName: \"components/uni-collapse/uni-collapse\" */ \"@/components/uni-collapse/uni-collapse.vue\"\n    ),\n  \"uni-collapse-item\": () =>\n    import(\n      /* webpackChunkName: \"components/uni-collapse-item/uni-collapse-item\" */ \"@/components/uni-collapse-item/uni-collapse-item.vue\"\n    )\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./good_add.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./good_add.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport faIcon from \"@/components/kilvn-fa-icon/fa-icon.vue\"\nimport uniCollapse from '@/components/uni-collapse/uni-collapse.vue'\nimport uniCollapseItem from '@/components/uni-collapse-item/uni-collapse-item.vue'\n\nimport Bmob from \"hydrogen-js-sdk\";\nimport common from '@/utils/common.js';\n\nlet that;\nlet p_class_user_id = \"\";\nlet p_second_class_id = \"\";\nlet uid;\n\nexport default {\n\tcomponents: {\n\t\tuniCollapse,\n\t\tuniCollapseItem,\n\t\tfaIcon\n\t},\n\tdata() {\n\t\treturn {\n\t\t\ttext_desc: \"保存\",\n\t\t\tgoodsName: '',\n\t\t\tcostPrice: '', //进价\n\t\t\tretailPrice: '', //售价\n\t\t\tpackageContent: '', //包装含量\n\t\t\tpackingUnit: '', //包装单位\n\t\t\twarning_num: '', //预警库存\n\t\t\tmax_num: '', //合理值\n\t\t\tproducer: '', //生产厂家\n\t\t\tregNumber: '', //货号\n\t\t\tposition: '', //位置\n\t\t\tproduct_info: '', //产品简介\n\t\t\tproductCode: \"\", //产品条码\n\t\t\tcategory: \"\", //分类\n\t\t\treserve: 0, //初始库存\n\t\t\tgoodsIcon: \"\", //产品图片\n\t\t\tstock_name: \"\", //存放店仓的名字\n\t\t\tstocks: \"\", //存放的店仓\n\t\t\tproducttime: \"\",\n\t\t\tnousetime: \"\",\n\t\t\tproductMoreG: false, //产品是否是多规格\n\t\t\t//isMoreModelAdd: uni.getStorageSync(\"addMoreModel\"),\n\t\t\taddType: '', //添加类型\n\t\t\tmodelsValue: '', //产品规格数据\n\t\t\thaveSetProductMoreG: false, //是否设置了多规格\n\t\t}\n\t},\n\n\tonLoad(options) {\n\t\tthat = this;\n\t\tuid = uni.getStorageSync('uid');\n\t\tuni.removeStorageSync(\"isClickShaiXuan\");\n\t\tuni.removeStorageSync(\"now_model\");\n\n\t\tif (uni.getStorageSync(\"now_product\")) {\n\t\t\tuni.setNavigationBarTitle({\n\t\t\t\ttitle: \"编辑产品\"\n\t\t\t})\n\n\t\t\tlet now_product = uni.getStorageSync(\"now_product\")\n\n\t\t\tthat.text_desc = \"修改\"\n\t\t\tthat.goodsName = now_product.goodsName\n\t\t\tthat.costPrice = Number(now_product.costPrice) //进价\n\t\t\tthat.retailPrice = Number(now_product.retailPrice) //售价\n\t\t\tthat.packageContent = now_product.packageContent //包装含量\n\t\t\tthat.packingUnit = now_product.packingUnit //包装单位\n\t\t\tthat.warning_num = now_product.warning_num //预警库存\n\t\t\tthat.producer = now_product.producer //生产厂家\n\t\t\tthat.regNumber = now_product.regNumber //货号\n\t\t\tthat.position = now_product.position //位置\n\t\t\tthat.product_info = now_product.product_info //产品简介\n\t\t\tthat.productCode = now_product.productCode //产品条码\n\t\t\tthat.category = now_product.second_class ? now_product.second_class : '' //分类\n\t\t\tthat.reserve = now_product.reserve\n\t\t\tthat.goodsIcon = now_product.goodsIcon ? now_product.goodsIcon : '' //产品图片\n\t\t\tthat.product_state = now_product.product_state //产品是否是半成品\n\t\t\tthat.nousetime = (now_product.nousetime) ? common.js_date_time(now_product.nousetime) : ''\n\t\t\tthat.max_num = now_product.max_num\n\t\t\tif (now_product.models) {\n\t\t\t\tthat.haveSetProductMoreG = true\n\t\t\t\tthat.productMoreG = true\n\t\t\t\tuni.setStorageSync(\"now_model\", now_product.models)\n\t\t\t}\n\n\t\t\tif (now_product.goodsClass && now_product.goodsClass.objectId) {\n\t\t\t\tlet pointer2 = Bmob.Pointer('class_user')\n\t\t\t\tp_class_user_id = pointer2.set(now_product.goodsClass.objectId) //一级分类id关联\n\t\t\t\tnow_product.goodsClass.type = 1\n\t\t\t\tuni.setStorageSync(\"category\", now_product.goodsClass)\n\t\t\t}\n\n\t\t\tif (now_product.second_class && now_product.second_class.objectId) {\n\t\t\t\tlet pointer3 = Bmob.Pointer('second_class')\n\t\t\t\tp_second_class_id = pointer3.set(now_product.second_class.objectId) //店仓的id关联\n\t\t\t\tnow_product.second_class.type = 2\n\t\t\t\tnow_product.second_class.parent = now_product.goodsClass\n\t\t\t\tuni.setStorageSync(\"category\", now_product.second_class)\n\t\t\t}\n\n\t\t\tthat.addType = 'more'\n\t\t\tlet warehouse = []\n\t\t\tlet count = 0;\n\t\t\tconst query = Bmob.Query('Goods');\n\t\t\tquery.equalTo(\"userId\", \"==\", uid);\n\t\t\tquery.equalTo(\"header\", \"==\", now_product.objectId);\n\t\t\tquery.include(\"stocks\");\n\t\t\tquery.find().then(res => {\n\t\t\t\tthat.reserve = 0;\n\t\t\t\tfor (let item of res) {\n\t\t\t\t\tcount += 1;\n\t\t\t\t\tthat.reserve += item.reserve\n\t\t\t\t\titem.stocks.reserve = item.reserve\n\t\t\t\t\titem.stocks.good_id = item.objectId\n\t\t\t\t\tif (item.models) {\n\t\t\t\t\t\titem.now_model = item.models\n\t\t\t\t\t\titem.stocks.now_model = item.models\n\t\t\t\t\t}\n\t\t\t\t\twarehouse.push(item.stocks)\n\t\t\t\t}\n\n\t\t\t\tuni.setStorageSync(\"warehouse\", warehouse)\n\t\t\t})\n\t\t} else {\n\t\t\tif (options.type == 'more') {\n\t\t\t\tthat.addType = options.type\n\t\t\t\tconst query = Bmob.Query(\"stocks\");\n\t\t\t\tquery.order(\"-num\");\n\t\t\t\tquery.equalTo(\"parent\", \"==\", uid);\n\t\t\t\tquery.equalTo(\"disabled\", \"!=\", true);\n\t\t\t\tquery.limit(500);\n\t\t\t\tquery.find().then(res => {\n\t\t\t\t\tfor (let item of res) {\n\t\t\t\t\t\titem.reserve = 0\n\t\t\t\t\t}\n\t\t\t\t\tuni.setStorageSync(\"warehouse\", res)\n\t\t\t\t});\n\t\t\t} else if (options.type == 'single') {\n\t\t\t\tthat.addType = options.type\n\t\t\t\tconst query = Bmob.Query(\"stocks\");\n\t\t\t\tquery.order(\"-num\");\n\t\t\t\tquery.equalTo(\"parent\", \"==\", uid);\n\t\t\t\tquery.equalTo(\"disabled\", \"!=\", true);\n\t\t\t\tquery.find().then(res => {\n\t\t\t\t\tif (res.length > 0) {\n\t\t\t\t\t\tlet warehouse = []\n\t\t\t\t\t\tlet warehouseItem = {}\n\t\t\t\t\t\twarehouseItem.reserve = 0\n\t\t\t\t\t\twarehouseItem.stock = res[0]\n\t\t\t\t\t\t//warehouseItem.warning_num = 0\n\t\t\t\t\t\twarehouse.push(warehouseItem)\n\t\t\t\t\t\tuni.setStorageSync(\"warehouse\", warehouse)\n\t\t\t\t\t\tthat.stock_name = res[0].stock_name\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\tif (options.id) { // 扫码进入的页面\n\t\t\tthat.scan_by_id(options.id)\n\t\t}\n\t},\n\tonShow() {\n\t\tlet stocksReserve\n\t\tif (uni.getStorageSync(\"warehouse\")) { //修改产品信息状态时\n\t\t\tthat.reserve = 0\n\t\t\tif (that.addType == 'single') {\n\t\t\t\tlet newStock = []\n\t\t\t\tlet stockItem = uni.getStorageSync(\"warehouse\")[0].stock ? uni.getStorageSync(\"warehouse\")[0].stock : uni.getStorageSync(\n\t\t\t\t\t\"warehouse\")[0]\n\t\t\t\tstockItem.reserve = stockItem.reserve ? stockItem.reserve : 0\n\t\t\t\tnewStock.push(stockItem)\n\t\t\t\tuni.setStorageSync(\"warehouse\", newStock)\n\n\t\t\t\tstocksReserve = uni.getStorageSync(\"warehouse\")\n\t\t\t\tthat.stock_name = uni.getStorageSync(\"warehouse\")[0].stock_name\n\t\t\t} else {\n\t\t\t\tstocksReserve = uni.getStorageSync(\"warehouse\")\n\t\t\t}\n\n\t\t\tfor (let item of stocksReserve) {\n\t\t\t\tthat.reserve += Number(item.reserve)\n\t\t\t}\n\n\t\t\tif (uni.getStorageSync(\"now_model\") && that.productMoreG) { //已经设置多规格的情况下\n\t\t\t\tthat.haveSetProductMoreG = true;\n\t\t\t\tfor (let item of stocksReserve) {\n\t\t\t\t\tlet now_model = uni.getStorageSync(\"now_model\")\n\t\t\t\t\tif (item.now_model) {\n\t\t\t\t\t\tfor (let model of now_model) {\n\t\t\t\t\t\t\tfor (let thisModel of item.now_model) {\n\t\t\t\t\t\t\t\tif (model.id == thisModel.id) {\n\t\t\t\t\t\t\t\t\tmodel.reserve = thisModel.reserve\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\titem.now_model = now_model\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tfor (let model of now_model) {\n\t\t\t\t\t\t\tmodel.reserve = 0\n\t\t\t\t\t\t}\n\t\t\t\t\t\titem.now_model = now_model\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tuni.setStorageSync(\"warehouse\", stocksReserve)\n\t\t\t}\n\t\t} else {\n\t\t\tthat.reserve = 0\n\t\t\tif (that.productMoreG && uni.getStorageSync(\"now_model\")) {\n\t\t\t\tfor (let item of uni.getStorageSync(\"now_model\")) {\n\t\t\t\t\tthat.reserve += Number(item.reserve)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (uni.getStorageSync(\"category\")) {\n\t\t\tthat.category = uni.getStorageSync(\"category\")\n\n\t\t\tif (that.category.type == 2) {\n\t\t\t\tlet pointer2 = Bmob.Pointer('class_user')\n\t\t\t\tp_class_user_id = pointer2.set(that.category.parent.objectId) //一级分类id关联\n\n\t\t\t\tlet pointer3 = Bmob.Pointer('second_class')\n\t\t\t\tp_second_class_id = pointer3.set(that.category.objectId) //店仓的id关联\n\n\t\t\t\t//console.log(that.category.parent.objectId, that.category.objectId)\n\t\t\t} else {\n\t\t\t\tlet pointer2 = Bmob.Pointer('class_user')\n\t\t\t\tp_class_user_id = pointer2.set(that.category.objectId) //一级分类id关联\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\tonUnload() {\n\t\tuni.removeStorageSync(\"now_model\");\n\t\tp_class_user_id = \"\";\n\t\tp_second_class_id = \"\";\n\n\t\tcommon.handleData()\n\t},\n\n\tmethods: {\n\n\t\tgotoNext() {\n\t\t\tif (that.productMoreG) {\n\t\t\t\tif (uni.getStorageSync(\"warehouse\") == \"\" || uni.getStorageSync(\"warehouse\") == null) {\n\t\t\t\t\tuni.navigateTo({\n\t\t\t\t\t\turl: 'moreModel/moreModel'\n\t\t\t\t\t})\n\t\t\t\t} else if (uni.getStorageSync(\"now_model\") == null || uni.getStorageSync(\"now_model\") == \"\") {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: \"请先去填写多规格\",\n\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t})\n\t\t\t\t} else {\n\t\t\t\t\tuni.navigateTo({\n\t\t\t\t\t\turl: 'stockAdd/stockAdd?type=' + that.productMoreG\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (uni.getStorageSync(\"warehouse\") == \"\" || uni.getStorageSync(\"warehouse\") == null) {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: \"请先选择店仓\",\n\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t})\n\t\t\t\t} else {\n\t\t\t\t\tuni.navigateTo({\n\t\t\t\t\t\turl: 'stockAdd/stockAdd?type=' + that.productMoreG\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}\n\n\t\t},\n\n\t\tchangeState(e) {\n\t\t\tthat.productMoreG = e.detail.value\n\t\t},\n\n\t\t//通过条形码扫码得到商品信息\n\t\tscan_by_id: function(id) {\n\t\t\tconsole.log(id);\n\t\t\twx.showLoading({\n\t\t\t\ttitle: '加载中...',\n\t\t\t})\n\t\t\twx.request({\n\t\t\t\turl: 'https://route.showapi.com/66-22',\n\t\t\t\tdata: {\n\t\t\t\t\tshowapi_appid: '84916',\n\t\t\t\t\tshowapi_sign: 'ad4b63369c834759b411a9d7fcb07ed7',\n\t\t\t\t\tcode: id,\n\t\t\t\t},\n\t\t\t\theader: {\n\t\t\t\t\t'content-type': 'application/json' // 默认值\n\t\t\t\t},\n\t\t\t\tsuccess(res) {\n\t\t\t\t\twx.hideLoading();\n\t\t\t\t\tlet good = res.data.showapi_res_body;\n\n\t\t\t\t\tconsole.log(good)\n\n\t\t\t\t\tthat.goodsName = good.goodsName;\n\t\t\t\t\tthat.producer = good.manuName;\n\t\t\t\t\tthat.goodsIcon = good.img; //产品图片\n\t\t\t\t\tthat.product_info = good.note; //产品简介\n\n\t\t\t\t\tthat.productCode = id\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t//扫码操作\n\t\tscan_code() {\n\t\t\tuni.scanCode({\n\t\t\t\tonlyFromCamera: true,\n\t\t\t\tsuccess: function(res) {\n\t\t\t\t\tconsole.log('条码类型：' + res.scanType);\n\t\t\t\t\tconsole.log('条码内容：' + res.result);\n\t\t\t\t\tthat.productCode = res.result\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\tbindDateChange: function(e) {\n\t\t\tthat.nousetime = e.target.value\n\t\t},\n\n\t\t//保存提交\n\t\tformSubmit: function(e) {\n\t\t\tconsole.log(e.detail.value)\n\t\t\tlet good = e.detail.value;\n\t\t\tif (good.goodsName == \"\") {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: \"请输入产品名称\",\n\t\t\t\t\ticon: \"none\"\n\t\t\t\t})\n\t\t\t\treturn\n\t\t\t} else if (uni.getStorageSync(\"category\") == null || uni.getStorageSync(\"category\") == \"\") {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: \"请选择产品类别\",\n\t\t\t\t\ticon: \"none\"\n\t\t\t\t})\n\t\t\t\treturn\n\t\t\t} else if (that.productMoreG) {\n\t\t\t\tif (uni.getStorageSync(\"now_model\") == null || uni.getStorageSync(\"now_model\") == \"\") {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: \"请先去填写多规格\",\n\t\t\t\t\t\ticon: \"none\"\n\t\t\t\t\t})\n\n\t\t\t\t\treturn\n\t\t\t\t} else {\n\t\t\t\t\tthat.upload_good(good)\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthat.upload_good(good)\n\t\t\t}\n\t\t},\n\n\t\t//上传产品图片\n\t\tupload_image: function() {\n\t\t\tuni.chooseImage({\n\t\t\t\tcount: 1, //默认9\n\t\t\t\tsizeType: ['compressed'], //可以指定是原图还是压缩图，默认二者都有\n\t\t\t\tsourceType: ['album', 'camera'], //从相册选择\n\t\t\t\tsuccess: function(res) {\n\t\t\t\t\tconsole.log(res);\n\t\t\t\t\tlet timestamp = Date.parse(new Date());\n\t\t\t\t\tlet tempFilePaths = res.tempFilePaths\n\t\t\t\t\tlet file;\n\t\t\t\t\tfor (let item of tempFilePaths) {\n\t\t\t\t\t\tfile = Bmob.File(timestamp + '.jpg', item);\n\t\t\t\t\t}\n\t\t\t\t\tfile.save().then(res => {\n\t\t\t\t\t\tthat.goodsIcon = res[0].url;\n\t\t\t\t\t})\n\n\t\t\t\t},\n\t\t\t});\n\t\t},\n\n\t\t//上传商品\n\t\tupload_good(good) {\n\t\t\tuni.showLoading({\n\t\t\t\ttitle: \"上传中...\"\n\t\t\t});\n\n\t\t\tif (good.max_num != \"\" && good.warning_num != \"\") {\n\t\t\t\tif (Number(good.max_num) <= Number(good.warning_num)) {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: \"最大库存数须大于预警数\",\n\t\t\t\t\t\ticon: \"none\"\n\t\t\t\t\t})\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (uni.getStorageSync(\"now_product\")) {\n\t\t\t\tthat.edit_good(good)\n\t\t\t} else {\n\t\t\t\tconst query = Bmob.Query(\"Goods\");\n\t\t\t\tquery.equalTo(\"userId\", \"==\", uid);\n\t\t\t\tquery.equalTo(\"status\", \"!=\", -1);\n\t\t\t\tquery.equalTo(\"goodsName\", \"==\", good.goodsName);\n\t\t\t\tquery.equalTo(\"position\", \"==\", good.position);\n\t\t\t\tquery.find().then(res => {\n\t\t\t\t\tif (res.length >= 1) {\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: \"你的库存中已存在此产品\",\n\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t})\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthat.add_good(good, \"add\")\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\n\t\t//编辑产品\n\t\tedit_good(good) {\n\t\t\tlet now_product = uni.getStorageSync(\"now_product\")\n\t\t\tlet stocksReserve = uni.getStorageSync(\"warehouse\")\n\n\t\t\tconst pointer = Bmob.Pointer('_User')\n\t\t\tconst userid = pointer.set(uid)\n\n\t\t\tconst query = Bmob.Query('Goods');\n\t\t\tquery.set(\"goodsIcon\", that.goodsIcon ? that.goodsIcon : '')\n\t\t\tquery.set(\"goodsName\", good.goodsName)\n\t\t\tquery.set(\"costPrice\", good.costPrice ? good.costPrice.toString() : '0')\n\t\t\tquery.set(\"retailPrice\", good.retailPrice ? good.retailPrice.toString() : '0')\n\t\t\tif (that.nousetime) {\n\t\t\t\tlet time = that.nousetime.replace(new RegExp('-', 'g'), \"/\")\n\t\t\t\ttime = new Date(time).getTime()\n\t\t\t\tquery.set(\"nousetime\", time)\n\t\t\t}\n\t\t\tquery.set(\"regNumber\", good.regNumber)\n\t\t\tquery.set(\"reserve\", Number(good.reserve))\n\t\t\tquery.set(\"productCode\", good.productCode)\n\t\t\tquery.set(\"product_info\", good.product_info)\n\t\t\tquery.set(\"producer\", good.producer)\n\t\t\tquery.set(\"packingUnit\", good.packingUnit)\n\t\t\tquery.set(\"packageContent\", good.packageContent)\n\t\t\tquery.set(\"position\", good.position)\n\n\t\t\tif (good.warning_num == \"\" && good.max_num == \"\") {\n\t\t\t\tquery.set(\"stocktype\", 1) //库存数量类型 0代表库存不足 1代表库存充足\n\t\t\t} else {\n\t\t\t\tif (good.warning_num != \"\") {\n\t\t\t\t\tquery.set(\"warning_num\", Number(good.warning_num))\n\t\t\t\t\tquery.set(\"stocktype\", (Number(good.warning_num) >= Number(that.reserve)) ? 0 : 1) //库存数量类型 0代表库存不足 1代表库存充足\n\t\t\t\t}\n\n\t\t\t\tif (good.max_num != \"\") {\n\t\t\t\t\tquery.set(\"max_num\", Number(good.max_num))\n\t\t\t\t\tquery.set(\"stocktype\", (Number(good.max_num) <= Number(that.reserve)) ? 2 : 1) //库存数量类型 2代表库存过足 1代表库存充足\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t///query.set(\"product_state\", good.product_state) //改产品是否是半成品\n\t\t\tif(that.productMoreG){\n\t\t\t\tquery.set(\"models\", uni.getStorageSync(\"now_model\"))\n\t\t\t}else{\n\t\t\t\tquery.get(now_product.objectId).then(res => {\n\t\t\t\t\tres.unset('models')\n\t\t\t\t\tres.save()\n\t\t\t\t})\n\t\t\t}\n\t\t\tif (stocksReserve.length > 0) {\n\t\t\t\tquery.set(\"order\", 0)\n\t\t\t}\n\t\t\tif (uni.getStorageSync(\"category\")) { //存在此缓存证明选择了店仓\n\t\t\t\tif (uni.getStorageSync(\"category\").type == 1) {\n\t\t\t\t\tquery.set(\"goodsClass\", p_class_user_id)\n\t\t\t\t\tquery.get(now_product.objectId).then(res => {\n\t\t\t\t\t\tres.unset('second_class')\n\t\t\t\t\t\tres.save()\n\t\t\t\t\t})\n\t\t\t\t} else {\n\t\t\t\t\tquery.set(\"goodsClass\", p_class_user_id)\n\t\t\t\t\tquery.set(\"second_class\", p_second_class_id)\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tquery.set(\"userId\", userid)\n\t\t\tquery.set('id', now_product.objectId) //需要修改的objectId\n\t\t\tquery.save().then(res => {\n\n\t\t\t\tif (uni.getStorageSync(\"warehouse\") && uni.getStorageSync(\"warehouse\").length > 0) {\n\t\t\t\t\tlet stocksReserve = uni.getStorageSync(\"warehouse\")\n\t\t\t\t\tlet count = 0;\n\t\t\t\t\tfor (var i = 0; i < stocksReserve.length; i++) {\n\t\t\t\t\t\t//console.log(\"sss\", stocksReserve[i])\n\t\t\t\t\t\tlet item = stocksReserve[i]\n\t\t\t\t\t\tconst query = Bmob.Query('Goods');\n\t\t\t\t\t\tquery.get(item.good_id).then(res => {\n\t\t\t\t\t\t\tconsole.log(res, item)\n\t\t\t\t\t\t\tres.set(\"goodsIcon\", that.goodsIcon ? that.goodsIcon : '')\n\t\t\t\t\t\t\tres.set('reserve', Number(item.reserve))\n\t\t\t\t\t\t\tres.set(\"costPrice\", good.costPrice ? good.costPrice.toString() : '0')\n\t\t\t\t\t\t\tres.set(\"retailPrice\", good.retailPrice ? good.retailPrice.toString() : '0')\n\t\t\t\t\t\t\tres.set(\"goodsName\", good.goodsName)\n\n\t\t\t\t\t\t\tif (good.warning_num != \"\") {\n\t\t\t\t\t\t\t\tres.set(\"warning_num\", Number(good.warning_num))\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (good.max_num != \"\") {\n\t\t\t\t\t\t\t\tres.set(\"max_num\", Number(good.max_num))\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (uni.getStorageSync(\"category\")) { //存在此缓存证明选择了店仓\n\t\t\t\t\t\t\t\tif (uni.getStorageSync(\"category\").type == 1) {\n\t\t\t\t\t\t\t\t\tconsole.log(\"dsadas\")\n\t\t\t\t\t\t\t\t\tres.set(\"goodsClass\", p_class_user_id)\n\t\t\t\t\t\t\t\t\tres.unset('second_class')\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tres.set(\"goodsClass\", p_class_user_id)\n\t\t\t\t\t\t\t\t\tres.set(\"second_class\", p_second_class_id)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tif(that.productMoreG){\n\t\t\t\t\t\t\t\tres.set(\"models\", item.now_model)\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\tres.unset('models')\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tres.save()\n\t\t\t\t\t\t\tcount += 1;\n\t\t\t\t\t\t\tif (count == stocksReserve.length) {\n\t\t\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\t\t\tcommon.log(uni.getStorageSync(\"user\").nickName + \"修改了产品'\" + now_product.goodsName + \"'\", 5, now_product.objectId);\n\t\t\t\t\t\t\t\tuni.setStorageSync(\"isClickShaiXuan\", true)\n\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\ttitle: \"修改成功\",\n\t\t\t\t\t\t\t\t})\n\n\t\t\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\t\t\tuni.navigateBack({\n\t\t\t\t\t\t\t\t\t\tdelta: 2\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}, 1000)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}).catch(err => {\n\t\t\t\t\t\t\tconsole.log(err)\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\n\t\tadd_good(good, type) {\n\t\t\tlet now_product = uni.getStorageSync(\"now_product\")\n\t\t\tlet stocksReserve = uni.getStorageSync(\"warehouse\") || []\n\n\t\t\tconst pointer = Bmob.Pointer('_User')\n\t\t\tconst userid = pointer.set(uid)\n\n\t\t\tconst query = Bmob.Query('Goods');\n\t\t\tquery.set(\"goodsIcon\", that.goodsIcon ? that.goodsIcon : '')\n\t\t\tquery.set(\"goodsName\", good.goodsName)\n\t\t\tquery.set(\"costPrice\", good.costPrice ? good.costPrice.toString() : '0')\n\t\t\tquery.set(\"retailPrice\", good.retailPrice ? good.retailPrice.toString() : '0')\n\t\t\tif (that.nousetime) {\n\t\t\t\tlet time = that.nousetime.replace(new RegExp('-', 'g'), \"/\")\n\t\t\t\ttime = new Date(time).getTime()\n\t\t\t\tquery.set(\"nousetime\", time)\n\t\t\t}\n\t\t\tquery.set(\"regNumber\", good.regNumber)\n\t\t\tquery.set(\"reserve\", Number(good.reserve))\n\t\t\tquery.set(\"originReserve\", Number(good.reserve))//期初库存\n\t\t\tquery.set(\"productCode\", good.productCode)\n\t\t\tquery.set(\"product_info\", good.product_info)\n\t\t\tquery.set(\"producer\", good.producer)\n\t\t\tquery.set(\"packingUnit\", good.packingUnit)\n\t\t\tquery.set(\"packageContent\", good.packageContent)\n\t\t\tquery.set(\"position\", good.position)\n\n\t\t\tif (good.warning_num != \"\") {\n\t\t\t\tquery.set(\"warning_num\", Number(good.warning_num))\n\t\t\t\tquery.set(\"stocktype\", (Number(good.warning_num) >= Number(that.reserve)) ? 0 : 1) //库存数量类型 0代表库存不足 1代表库存充足\n\t\t\t}\n\t\t\tif (good.max_num != \"\") {\n\t\t\t\tquery.set(\"max_num\", Number(good.max_num))\n\t\t\t\tquery.set(\"stocktype\", (Number(good.max_num) > Number(that.reserve)) ? 2 : 1) //库存数量类型 0代表库存过足 1代表库存充足\n\t\t\t}\n\n\t\t\t//query.set(\"product_state\", good.product_state) //改产品是否是半成品\n\t\t\tif(that.productMoreG){\n\t\t\t\tquery.set(\"models\", uni.getStorageSync(\"now_model\"))\n\t\t\t\tquery.set(\"originModels\", uni.getStorageSync(\"now_model\"))//期初各规格数量\n\t\t\t}\n\t\t\tif (stocksReserve.length > 0) {\n\t\t\t\tquery.set(\"order\", 0)\n\t\t\t}\n\t\t\tif (uni.getStorageSync(\"category\")) { //存在此缓存证明选择了类别\n\t\t\t\tif (that.category.type == 1) {\n\t\t\t\t\tquery.set(\"goodsClass\", p_class_user_id)\n\t\t\t\t} else {\n\t\t\t\t\tquery.set(\"goodsClass\", p_class_user_id)\n\t\t\t\t\tquery.set(\"second_class\", p_second_class_id)\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tquery.set(\"userId\", userid)\n\t\t\tquery.save().then(res => {\n\n\t\t\t\tlet this_result = res\n\n\t\t\t\tif (stocksReserve.length > 0) {\n\t\t\t\t\tconst queryArray = new Array();\n\t\t\t\t\t// 构造含有50个对象的数组\n\t\t\t\t\tfor (var i = 0; i < stocksReserve.length; i++) {\n\t\t\t\t\t\tconst pointer1 = Bmob.Pointer('stocks')\n\t\t\t\t\t\tconst p_stock_id = pointer1.set(stocksReserve[i].objectId) //店仓的id关联\n\n\t\t\t\t\t\tconst pointer2 = Bmob.Pointer('Goods')\n\t\t\t\t\t\tconst p_good_id = pointer2.set(this_result.objectId) //店仓的id关联\n\n\t\t\t\t\t\tvar queryObj = Bmob.Query('Goods');\n\t\t\t\t\t\tqueryObj.set(\"order\", 1)\n\t\t\t\t\t\tqueryObj.set(\"goodsIcon\", that.goodsIcon ? that.goodsIcon : '')\n\t\t\t\t\t\tqueryObj.set(\"goodsName\", good.goodsName)\n\t\t\t\t\t\tqueryObj.set(\"costPrice\", good.costPrice ? good.costPrice.toString() : '0')\n\t\t\t\t\t\tqueryObj.set(\"retailPrice\", good.retailPrice ? good.retailPrice.toString() : '0')\n\t\t\t\t\t\tqueryObj.set(\"header\", p_good_id)\n\t\t\t\t\t\tqueryObj.set(\"userId\", userid)\n\t\t\t\t\t\tqueryObj.set(\"stocks\", p_stock_id)\n\t\t\t\t\t\tqueryObj.set(\"reserve\", Number(stocksReserve[i].reserve))\n\n\t\t\t\t\t\tif (uni.getStorageSync(\"category\")) { //存在此缓存证明选择了类别\n\t\t\t\t\t\t\tif (that.category.type == 1) {\n\t\t\t\t\t\t\t\tqueryObj.set(\"goodsClass\", p_class_user_id)\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tqueryObj.set(\"goodsClass\", p_class_user_id)\n\t\t\t\t\t\t\t\tqueryObj.set(\"second_class\", p_second_class_id)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (good.warning_num != \"\") {\n\t\t\t\t\t\t\tqueryObj.set(\"warning_num\", Number(good.warning_num))\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (good.max_num != \"\") {\n\t\t\t\t\t\t\tqueryObj.set(\"max_num\", Number(good.max_num))\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthat.productMoreG ? queryObj.set(\"models\", stocksReserve[i].now_model) : ''\n\t\t\t\t\t\tqueryArray.push(queryObj);\n\t\t\t\t\t}\n\n\t\t\t\t\t// 传入刚刚构造的数组\n\t\t\t\t\tBmob.Query('Goods').saveAll(queryArray).then(result => {\n\t\t\t\t\t\tconsole.log(result);\n\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\tcommon.log(uni.getStorageSync(\"user\").nickName + \"增加了产品'\" + good.goodsName + \"'\", 5, this_result.objectId);\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: \"上传成功\"\n\t\t\t\t\t\t})\n\n\t\t\t\t\t\tuni.setStorageSync(\"isClickShaiXuan\", true)\n\t\t\t\t\t}).catch(err => {\n\t\t\t\t\t\tconsole.log(err);\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\tcommon.log(uni.getStorageSync(\"user\").nickName + \"增加了产品'\" + good.goodsName + \"'\", 5, this_result.objectId);\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: \"上传成功\"\n\t\t\t\t\t})\n\n\t\t\t\t\tuni.setStorageSync(\"isClickShaiXuan\", true)\n\t\t\t\t}\n\n\n\t\t\t\t//that.handledata()\n\t\t\t}).catch(err => {\n\t\t\t\tconsole.log(err)\n\t\t\t})\n\t\t},\n\n\t\t//数据重置\n\t\thandledata() {\n\t\t\tthat.goodsName = ''\n\t\t\tthat.costPrice = '' //进价\n\t\t\tthat.retailPrice = '' //售价\n\t\t\tthat.packageContent = '' //包装含量\n\t\t\tthat.packingUnit = '' //包装单位\n\t\t\tthat.warning_num = '' //预警库存\n\t\t\tthat.producer = '' //生产厂家\n\t\t\tthat.regNumber = '' //货号\n\t\t\tthat.position = '' //位置\n\t\t\tthat.product_info = '' //产品简介\n\t\t\tthat.productCode = \"\" //产品条码\n\t\t\tthat.category = \"\" //分类\n\t\t\tthat.reserve = 0 //初始库存\n\t\t\tthat.goodsIcon = \"\" //产品图片\n\t\t\tthat.stocks = \"\" //存放的店仓\n\t\t\tthat.stock_name = \"\"\n\t\t\tthat.producttime = \"\"\n\t\t\tthat.nousetime = \"\"\n\t\t}\n\n\t}\n}\n","import mod from \"-!../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-2!../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./good_add.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-2!../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./good_add.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}