{"version":3,"sources":["webpack:///C:/Users/Administrator/Desktop/新建文件夹 (8)/wechat/main.js","webpack:///C:/Users/Administrator/Desktop/新建文件夹 (8)/wechat/pages/manage/warehouse/detail/detail.vue?0476","webpack:///C:/Users/Administrator/Desktop/新建文件夹 (8)/wechat/pages/manage/warehouse/detail/detail.vue?eafc","webpack:///C:/Users/Administrator/Desktop/新建文件夹 (8)/wechat/pages/manage/warehouse/detail/detail.vue?c53a","webpack:///C:/Users/Administrator/Desktop/新建文件夹 (8)/wechat/pages/manage/warehouse/detail/detail.vue?cfaa","webpack:///C:/Users/Administrator/Desktop/新建文件夹 (8)/wechat/pages/manage/warehouse/detail/detail.vue","webpack:///C:/Users/Administrator/Desktop/新建文件夹 (8)/wechat/pages/manage/warehouse/detail/detail.vue?29e0"],"names":["createPage","Page","renderjs","component","options","__file","components","render","_vm","this","_h","$createElement","_self","_c","recyclableRender","staticRenderFns","_withStripped","that","uid","achart","stockDetBottom","uniSegmentedControl","stockGoods","data","items","current","now_day","common","getDay","loading","stock","Goods","reserve_num","reserve_money","thisClass","onLoad","uni","getStorageSync","get_detail","onShow","onUnload","handleData","removeStorageSync","methods","onClickItem","value","show_options","showActionSheet","itemList","success","res","tapIndex","edit","fail","console","log","errMsg","goto_detail","good","order","navigateTo","url","header","objectId","countKey","query","Bmob","Query","equalTo","count","then","shouldKey","Math","ceil","i","include","limit","skip","find","item","Number","costPrice","reserve"],"mappings":";;;;wEAAA,qBAAmB,8BAEnB,sBACA,8D,mDACAA,EAAWC,a;;;;2DCJX,+QACIC,EADJ,qMASIC,EAAY,qBACd,aACA,YACA,sBACA,EACA,KACA,KACA,MACA,EACA,gBACAD,GAGFC,EAAUC,QAAQC,OAAS,4DACZ,aAAAF,E;;;;2GCvBf,4yC;;;;2GCAA,8LAAIG,EAAa,CACf,wBAAyB,WACvB,OAAO,mOAKPC,EAAS,WACX,IAAIC,EAAMC,KACNC,EAAKF,EAAIG,eACJH,EAAII,MAAMC,IAEjBC,GAAmB,EACnBC,EAAkB,GACtBR,EAAOS,eAAgB,G;;;;2DCdvB,44BAAo1B,eAAG,G;;;;0ICoDv1B,uCACA,iC,ghCAEIC,EACAC,E,k5BACW,CACdZ,WAAY,CACXa,SACAC,iBACAC,sBACAC,cAEDC,KAPc,WAQb,MAAO,CACNC,MAAO,CAAC,OAAQ,QAChBC,QAAS,EAETC,QAASC,UAAOC,OAAO,GACvBC,SAAS,EACTC,MAAO,GACPC,MAAO,KACPC,YAAa,EACbC,cAAe,EACfC,UAAW,KAIbC,OAtBc,WAuBblB,EAAOR,KACPS,EAAMkB,EAAIC,eAAe,OACzBpB,EAAKa,MAAQM,EAAIC,eAAe,SAChCpB,EAAKqB,cAGNC,OA7Bc,WA8BTH,EAAIC,eAAe,qBACtBpB,EAAKiB,UAAYE,EAAIC,eAAe,aAAe,KAIrDG,SAnCc,WAoCbb,UAAOc,aACPL,EAAIM,kBAAkB,UACtBN,EAAIM,kBAAkB,YACtBN,EAAIM,kBAAkB,mBACtBN,EAAIM,kBAAkB,UAevBC,QAAS,CACRC,YADQ,SACIC,GACX5B,EAAKQ,QAAUoB,GAGhBC,aALQ,WAMPV,EAAIW,gBAAgB,CACnBC,SAAU,CAAC,KAAM,MACjBC,QAAS,SAASC,GACG,GAAhBA,EAAIC,SACPlC,EAAKmC,KAAKnC,EAAKa,OACLoB,EAAIC,UAKhBE,KAAM,SAASH,GACdI,QAAQC,IAAIL,EAAIM,YAKnBC,YAtBQ,SAsBIC,GACO,GAAdA,EAAKC,MACRvB,EAAIwB,WAAW,CACdC,IAAK,uCAAyCH,EAAKI,OAAOC,SAAW,gBAGtE3B,EAAIwB,WAAW,CACdC,IAAK,qCAKRvB,WAlCQ,WAmCP,IAAI0B,EAAW,EACTC,EAAQC,UAAKC,MAAM,SACzBF,EAAMG,QAAQ,SAAU,KAAMlD,GAC9B+C,EAAMG,QAAQ,SAAU,KAAMhC,EAAIC,eAAe,SAAS0B,UAC1DE,EAAMI,QAAQC,MAAK,SAAApB,GAElB,IADA,IAAIqB,EAAaC,KAAKC,KAAKvB,EAAM,KACxBwB,EAAI,EAAGA,EAAIH,EAAWG,IAC9BT,EAAMG,QAAQ,SAAU,KAAMlD,GAC9B+C,EAAMG,QAAQ,QAAS,KAAM,GAC7BH,EAAMG,QAAQ,SAAU,KAAMhC,EAAIC,eAAe,SAAS0B,UAC1DE,EAAMN,MAAM,YACZM,EAAMU,QAAQ,UACdV,EAAMW,MAAM,KACZX,EAAMY,KAAK,IAAMH,GACjBT,EAAMa,OAAOR,MAAK,SAAApB,GAGjB,GAFAc,GAAY,EAERA,GAAYO,EAAW,CAC1BjB,QAAQC,IAAIL,GACZ,IAF0B,EAEtBlB,EAAc,EACdC,EAAgB,EAHM,IAITiB,GAJS,IAI1B,IAAK,EAAL,qBAAsB,CAAC,IAAd6B,EAAa,QACrB9C,GAAiB+C,OAAOD,EAAKE,WAAaD,OAAOD,EAAKG,SACtDlD,GAAegD,OAAOD,EAAKG,UANF,8BAS1BjE,EAAKgB,cAAgBA,EACrBhB,EAAKe,YAAcA,EACnBf,EAAKY,SAAU,Y;;;;2DC/KtB,4jDAA6gD,eAAG,G","file":"pages/manage/warehouse/detail/detail.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'\nimport Page from './pages/manage/warehouse/detail/detail.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./detail.vue?vue&type=template&id=5d5678d9&\"\nvar renderjs\nimport script from \"./detail.vue?vue&type=script&lang=js&\"\nexport * from \"./detail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./detail.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"新建文件夹 (8)/wechat/pages/manage/warehouse/detail/detail.vue\"\nexport default component.exports","export * from \"-!../../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detail.vue?vue&type=template&id=5d5678d9&\"","var components = {\n  \"uni-segmented-control\": function() {\n    return import(\n      /* webpackChunkName: \"components/uni-segmented-control/uni-segmented-control\" */ \"@/components/uni-segmented-control/uni-segmented-control.vue\"\n    )\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detail.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport uniSegmentedControl from '@/components/uni-segmented-control/uni-segmented-control.vue';\nimport stockGoods from '@/components/stockGoods.vue';\nimport stockDetBottom from '@/components/stockDetBottom.vue';\nimport achart from '@/components/charts/AChart.vue'\n\nimport common from '@/utils/common.js';\nimport Bmob from \"hydrogen-js-sdk\"\n\nlet that;\nlet uid;\nexport default {\n\tcomponents: {\n\t\tachart,\n\t\tstockDetBottom,\n\t\tuniSegmentedControl,\n\t\tstockGoods,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\titems: ['店仓详情', '产品存货'],\n\t\t\tcurrent: 0,\n\t\t\t\n\t\t\tnow_day: common.getDay(0),\n\t\t\tloading: true,\n\t\t\tstock: \"\",\n\t\t\tGoods: null,\n\t\t\treserve_num: 0,\n\t\t\treserve_money: 0,\n\t\t\tthisClass: {}\n\t\t}\n\t},\n\n\tonLoad() {\n\t\tthat = this;\n\t\tuid = uni.getStorageSync(\"uid\");\n\t\tthat.stock = uni.getStorageSync(\"stock\")\n\t\tthat.get_detail()\n\t},\n\n\tonShow() {\n\t\tif (uni.getStorageSync(\"isClickShaiXuan\")) { //判断是否下级页面进行了操作\n\t\t\tthat.thisClass = uni.getStorageSync(\"category\") || ''\n\t\t}\n\t},\n\n\tonUnload() {\n\t\tcommon.handleData();\n\t\tuni.removeStorageSync(\"is_add\");\n\t\tuni.removeStorageSync(\"category\");\n\t\tuni.removeStorageSync(\"isClickShaiXuan\");\n\t\tuni.removeStorageSync(\"stock\");\n\t},\n\n\t//分享\n\t/*onShareAppMessage: function(res) {\n\t\tif (res.from === 'button') {\n\t\t\t// 来自页面内转发按钮\n\t\t\tconsole.log(res.target)\n\t\t}\n\t\treturn {\n\t\t\ttitle: '库存表-' + that.stock.stock_name + '的详情',\n\t\t\tpath: '/pages/manage/good_det/good_det?id=' + that.product.objectId + '&type=\"false\"'\n\t\t}\n\t},*/\n\n\tmethods: {\n\t\tonClickItem(value) {\n\t\t\tthat.current = value\n\t\t},\n\n\t\tshow_options() {\n\t\t\tuni.showActionSheet({\n\t\t\t\titemList: [\"编辑\", \"删除\"],\n\t\t\t\tsuccess: function(res) {\n\t\t\t\t\tif (res.tapIndex == 0) {\n\t\t\t\t\t\tthat.edit(that.stock)\n\t\t\t\t\t} else if (res.tapIndex == 1) {\n\t\t\t\t\t\t\n\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tfail: function(res) {\n\t\t\t\t\tconsole.log(res.errMsg);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\tgoto_detail(good) {\n\t\t\tif (good.order == 1) {\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl: \"/pages/manage/good_det/Ngood_det?id=\" + good.header.objectId + \"&type=false\"\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl: \"/pages/manage/good_det/good_det\"\n\t\t\t\t})\n\t\t\t}\n\t\t},\n\n\t\tget_detail() {\n\t\t\tlet countKey = 0; //计数器\n\t\t\tconst query = Bmob.Query(\"Goods\");\n\t\t\tquery.equalTo(\"userId\", \"==\", uid);\n\t\t\tquery.equalTo(\"stocks\", \"==\", uni.getStorageSync(\"stock\").objectId);\n\t\t\tquery.count().then(res => {\n\t\t\t\tlet shouldKey =  Math.ceil(res / 500)\n\t\t\t\tfor (let i = 0; i < shouldKey; i++) {\n\t\t\t\t\tquery.equalTo(\"userId\", \"==\", uid);\n\t\t\t\t\tquery.equalTo(\"order\", \"==\", 1);\n\t\t\t\t\tquery.equalTo(\"stocks\", \"==\", uni.getStorageSync(\"stock\").objectId);\n\t\t\t\t\tquery.order(\"-reserve\");\n\t\t\t\t\tquery.include(\"header\");\n\t\t\t\t\tquery.limit(500);\n\t\t\t\t\tquery.skip(500 * i);\n\t\t\t\t\tquery.find().then(res => {\n\t\t\t\t\t\tcountKey += 1\n\n\t\t\t\t\t\tif (countKey == shouldKey) {\n\t\t\t\t\t\t\tconsole.log(res)\n\t\t\t\t\t\t\tlet reserve_num = 0;\n\t\t\t\t\t\t\tlet reserve_money = 0;\n\t\t\t\t\t\t\tfor (let item of res) {\n\t\t\t\t\t\t\t\treserve_money += Number(item.costPrice) * Number(item.reserve)\n\t\t\t\t\t\t\t\treserve_num += Number(item.reserve)\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tthat.reserve_money = reserve_money\n\t\t\t\t\t\t\tthat.reserve_num = reserve_num\n\t\t\t\t\t\t\tthat.loading = false\n\t\t\t\t\t\t}\n\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t}\n}\n","import mod from \"-!../../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-2!../../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detail.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-2!../../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detail.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}