{"version":3,"sources":["webpack:///C:/Users/Administrator/Desktop/新建文件夹 (8)/uni-app/pages/manage/category/category.vue?8ab9","webpack:///C:/Users/Administrator/Desktop/新建文件夹 (8)/uni-app/pages/manage/category/category.vue?81f6","webpack:///C:/Users/Administrator/Desktop/新建文件夹 (8)/uni-app/pages/manage/category/category.vue?3056","webpack:///C:/Users/Administrator/Desktop/新建文件夹 (8)/uni-app/pages/manage/category/category.vue?d63d","webpack:///C:/Users/Administrator/Desktop/新建文件夹 (8)/uni-app/pages/manage/category/category.vue","webpack:///C:/Users/Administrator/Desktop/新建文件夹 (8)/uni-app/pages/manage/category/category.vue?1956","webpack:///C:/Users/Administrator/Desktop/新建文件夹 (8)/uni-app/pages/manage/category/category.vue?8815"],"names":["that","user","uni","getStorageSync","uid","components","loading","faIcon","uniPopup","data","frist_class","second_class","selected_id","class_text","input_class_text","middle","popup_editshow","Popup_title","onLoad","onShow","get_category","methods","query","Bmob","Query","equalTo","objectId","find","then","res","console","log","get_second_category","id","showLoading","title","field","relation","hideLoading","results","showoption","type","value","showActionSheet","itemList","success","tapIndex","delete","fail","errMsg","add_fristclass","add_secondclass","hidePopup","edit","dbname","set","save","showToast","catch","err","showModal","content","confirm","destroy","duration","confrim","icon","pointer","Pointer","poiID","Relation","relID","add","get"],"mappings":"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","file":"pages/manage/category/category.js","sourcesContent":["import { render, staticRenderFns } from \"./category.vue?vue&type=template&id=ce64f39c&\"\nimport script from \"./category.vue?vue&type=script&lang=js&\"\nexport * from \"./category.vue?vue&type=script&lang=js&\"\nimport style0 from \"./category.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX.1.9.9.20190522.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('ce64f39c', component.options)\n    } else {\n      api.reload('ce64f39c', component.options)\n    }\n    module.hot.accept(\"./category.vue?vue&type=template&id=ce64f39c&\", function () {\n      api.rerender('ce64f39c', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"Desktop/新建文件夹 (8)/uni-app/pages/manage/category/category.vue\"\nexport default component.exports","import mod from \"-!../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./category.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./category.vue?vue&type=script&lang=js&\"","import mod from \"-!../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./category.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./category.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./category.vue?vue&type=template&id=ce64f39c&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport Bmob from '@/utils/bmob.js';\nimport loading from \"@/components/Loading/index.vue\"\nimport faIcon from \"@/components/kilvn-fa-icon/fa-icon.vue\"\nimport uniPopup from \"@/components/uni-popup/uni-popup.vue\"\n\nlet that;\nconst user = uni.getStorageSync(\"user\");\nconst uid = uni.getStorageSync(\"uid\");\nexport default {\n\tcomponents: {\n\t\tloading,\n\t\tfaIcon,\n\t\tuniPopup\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tloading: true,\n\t\t\tfrist_class: null, //一级分类\n\t\t\tsecond_class: null, //二级分类\n\t\t\tselected_id: null, //选择的id\n\t\t\tclass_text: null, //分类的输入内容\n\t\t\tinput_class_text: null, //已经输入的内容\n\t\t\tmiddle: false,\n\t\t\tpopup_editshow: false,\n\t\t\tPopup_title: \"一级分类\",\n\t\t}\n\t},\n\tonLoad() {\n\t\tthat = this;\n\t},\n\tonShow() {\n\t\tthat.get_category();\n\t},\n\tmethods: {\n\t\t//得到一级分类\n\t\tget_category() {\n\t\t\tconst query = Bmob.Query(\"class_user\");\n\t\t\tquery.equalTo(\"parent\", \"==\", user.objectId);\n\t\t\tquery.find().then(res => {\n\t\t\t\tconsole.log(res)\n\t\t\t\tthat.frist_class = res;\n\n\t\t\t\tthat.get_second_category(res[0].objectId)\n\t\t\t\tthat.loading = false\n\t\t\t});\n\t\t},\n\n\t\t//得到二级分类\n\t\tget_second_category(id) {\n\t\t\tthat.selected_id = id;\n\t\t\tuni.showLoading({\n\t\t\t\ttitle: \"获取中...\"\n\t\t\t})\n\t\t\tconst query = Bmob.Query('class_user')\n\t\t\tquery.field('second', id)\n\t\t\tquery.relation('second_class').then(res => {\n\t\t\t\tconsole.log(res);\n\t\t\t\tuni.hideLoading();\n\t\t\t\tthat.second_class = res.results;\n\t\t\t})\n\t\t},\n\n\t\t//点击编辑图标\n\t\tshowoption(id, type, value) {\n\t\t\tconsole.log(id, type, value)\n\t\t\tuni.showActionSheet({\n\t\t\t\titemList: ['删除', '编辑'],\n\t\t\t\tsuccess: function(res) {\n\t\t\t\t\tconsole.log('选中了第' + (res.tapIndex + 1) + '个按钮');\n\t\t\t\t\tif (res.tapIndex == 0) {\n\t\t\t\t\t\tif (type === 1) {\n\t\t\t\t\t\t\tthat.delete(id, \"class_user\")\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthat.delete(id, \"second_class\")\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthat.input_class_text = value\n\t\t\t\t\t\tthat.selected_id = id\n\t\t\t\t\t\tif (type === 1) {\n\t\t\t\t\t\t\tthat.Popup_title = \"一级分类\"\n\t\t\t\t\t\t\tthat.popup_editshow = true;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthat.Popup_title = \"二级分类\"\n\t\t\t\t\t\t\tthat.popup_editshow = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tfail: function(res) {\n\t\t\t\t\tconsole.log(res.errMsg);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t//点击一级分类事件\n\t\tadd_fristclass() {\n\t\t\tthis.Popup_title = \"一级分类\";\n\t\t\tthat.middle = true;\n\t\t},\n\n\t\t//点击一级分类事件\n\t\tadd_secondclass() {\n\t\t\tthis.Popup_title = \"二级分类\";\n\t\t\tthat.middle = true;\n\t\t},\n\n\t\thidePopup() {\n\t\t\tthis.middle = false;\n\t\t\tthis.popup_editshow = false;\n\t\t},\n\n\t\t//编辑分类内容\n\t\tedit() {\n\t\t\tlet dbname;\n\t\t\tif (that.Popup_title === \"一级分类\") {\n\t\t\t\tdbname = \"class_user\";\n\t\t\t} else {\n\t\t\t\tdbname = \"second_class\";\n\t\t\t}\n\t\t\tconsole.log(that.selected_id, dbname)\n\t\t\tconst query = Bmob.Query(dbname);\n\t\t\tquery.set('id', that.selected_id); //需要修改的objectId\n\t\t\tquery.set('class_text', that.input_class_text);\n\t\t\tquery.save().then(res => {\n\t\t\t\tconsole.log(res);\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '修改成功'\n\t\t\t\t});\n\t\t\t\tthat.get_category();\n\t\t\t\t\n\t\t\t\tthat.middle = false;\n\t\t\t\tthat.popup_editshow = false;\n\t\t\t}).catch(err => {\n\t\t\t\tconsole.log(err)\n\t\t\t})\n\t\t},\n\n\t\t//删除分类\n\t\tdelete(id, dbname) {\n\t\t\tuni.showModal({\n\t\t\t\ttitle: '提示',\n\t\t\t\tcontent: '是否删除此分类',\n\t\t\t\tsuccess(res) {\n\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\tconst query = Bmob.Query(dbname);\n\t\t\t\t\t\tquery.destroy(id).then(res => {\n\t\t\t\t\t\t\tconsole.log(res)\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle: '删除成功',\n\t\t\t\t\t\t\t\tduration: 1000\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tthat.get_category();\n\t\t\t\t\t\t}).catch(err => {\n\t\t\t\t\t\t\tconsole.log(err)\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\n\t\t//popup确定点击\n\t\tconfrim() {\n\t\t\tconst class_text = that.class_text;\n\n\t\t\tif (this.Popup_title === \"一级分类\") {\n\t\t\t\tif (class_text == null) {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ticon: \"none\",\n\t\t\t\t\t\ttitle: '请输入类别',\n\t\t\t\t\t})\n\t\t\t\t} else {\n\t\t\t\t\tconst pointer = Bmob.Pointer('_User')\n\t\t\t\t\tconst poiID = pointer.set(uid);\n\n\t\t\t\t\tconst query = Bmob.Query('class_user');\n\t\t\t\t\tquery.set(\"parent\", poiID)\n\t\t\t\t\tquery.set(\"class_text\", class_text);\n\t\t\t\t\tquery.save().then(res => {\n\t\t\t\t\t\tthat.get_category();\n\t\t\t\t\t\tthis.middle = false;\n\t\t\t\t\t\tthis.class_text = null;\n\t\t\t\t\t}).catch(err => {\n\t\t\t\t\t\tconsole.log(err)\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t//console.log(that.selected_id)\n\t\t\t\tconst selected_id = that.selected_id\n\n\t\t\t\tconst pointer = Bmob.Pointer('class_user')\n\t\t\t\tconst poiID = pointer.set(selected_id)\n\n\t\t\t\tconst query = Bmob.Query('second_class');\n\t\t\t\tquery.set(\"class_text\", class_text)\n\t\t\t\tquery.set(\"parent\", poiID)\n\t\t\t\tquery.save().then(res => {\n\t\t\t\t\t//console.log(res)\n\t\t\t\t\tconst relation = Bmob.Relation('class_user') // 需要关联的表\n\t\t\t\t\tconst relID = relation.add([res.objectId]) //关联表中需要关联的objectId, 返回一个Relation对象, add方法接受string和array的类型参数\n\t\t\t\t\tconst query = Bmob.Query('class_user')\n\t\t\t\t\tquery.get(selected_id).then(res => {\n\t\t\t\t\t\tres.set('second', relID); // 将Relation对象保存到two字段中，即实现了一对多的关联\n\t\t\t\t\t\tres.save()\n\n\t\t\t\t\t\tthat.get_second_category(selected_id)\n\t\t\t\t\t\tthis.middle = false;\n\t\t\t\t\t\tthis.class_text = null;\n\t\t\t\t\t})\n\t\t\t\t}).catch(err => {\n\t\t\t\t\tconsole.log(err)\n\t\t\t\t})\n\n\t\t\t}\n\n\t\t},\n\n\t}\n}\n","// extracted by mini-css-extract-plugin","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }"],"sourceRoot":""}