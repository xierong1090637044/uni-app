{"version":3,"sources":["webpack:///C:/Users/Administrator/Desktop/新建文件夹 (8)/wechat/main.js","webpack:///C:/Users/Administrator/Desktop/新建文件夹 (8)/wechat/pages/production/matterDet/matterDet.vue?e14c","webpack:///C:/Users/Administrator/Desktop/新建文件夹 (8)/wechat/pages/production/matterDet/matterDet.vue?8f6c","webpack:///C:/Users/Administrator/Desktop/新建文件夹 (8)/wechat/pages/production/matterDet/matterDet.vue?2640","webpack:///C:/Users/Administrator/Desktop/新建文件夹 (8)/wechat/pages/production/matterDet/matterDet.vue?40c0","webpack:///C:/Users/Administrator/Desktop/新建文件夹 (8)/wechat/pages/production/matterDet/matterDet.vue","webpack:///C:/Users/Administrator/Desktop/新建文件夹 (8)/wechat/pages/production/matterDet/matterDet.vue?0594"],"names":["createPage","Page","renderjs","component","options","__file","components","render","_vm","this","_h","$createElement","_self","_c","_isMounted","e0","$event","is_show","e1","bad_numshow","recyclableRender","staticRenderFns","_withStripped","that","uid","uniPopup","faIcon","tkiQrcode","tkiBarcode","uniFab","data","user","uni","getStorageSync","badnum","num","desc","loading","select_qrcode","get_reserve_checked","product","bar_code_show","selected_item","onLoad","removeStorageSync","id","getDetail_byId","type","getDetail_noId","methods","stocks","showLoading","title","query","Bmob","Query","equalTo","find","then","res","console","log","all_reserve","setStorageSync","include","goodsName","item","stocks_o","stock_name","stock_objectid","objectId","reserve","toFixed","show_float","models","warning_num","bad_num","good_id","accessory","productCode","push","nousetime","common","js_date_time","hideLoading","confrim_badnum","pointer","Pointer","poiID","set","pointer1","poiID1","pointer2","poiID2","product_id","last_bad_num","Number","now_bad_num","save","showToast","icon","add_badnum","show_qrcode","change_state","e","detail","value","print_info","print","print_goodDet","modify","now_product","navigateTo","url","showcode_option","showActionSheet","itemList","success","tapIndex","fail","errMsg","qrR","src","bcR","saveBccode","$refs","barcode","_saveCode","saveQrcode","qrcode","delete_good","index","showModal","content","confirm","navigateBack","delta","setTimeout","length","next_good","get","catch","err"],"mappings":"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","file":"pages/production/matterDet/matterDet.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'\nimport Page from './pages/production/matterDet/matterDet.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./matterDet.vue?vue&type=template&id=83900c02&\"\nvar renderjs\nimport script from \"./matterDet.vue?vue&type=script&lang=js&\"\nexport * from \"./matterDet.vue?vue&type=script&lang=js&\"\nimport style0 from \"./matterDet.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"新建文件夹 (8)/wechat/pages/production/matterDet/matterDet.vue\"\nexport default component.exports","export * from \"-!../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./matterDet.vue?vue&type=template&id=83900c02&\"","var components = {\n  \"tki-qrcode\": function() {\n    return import(\n      /* webpackChunkName: \"components/tki-qrcode/tki-qrcode\" */ \"@/components/tki-qrcode/tki-qrcode.vue\"\n    )\n  },\n  \"uni-popup\": function() {\n    return import(\n      /* webpackChunkName: \"components/uni-popup/uni-popup\" */ \"@/components/uni-popup/uni-popup.vue\"\n    )\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      _vm.is_show = false\n    }\n\n    _vm.e1 = function($event) {\n      _vm.bad_numshow = false\n    }\n  }\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./matterDet.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./matterDet.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport Bmob from \"hydrogen-js-sdk\";\nimport print from \"@/utils/print.js\"\nimport common from \"@/utils/common.js\"\nimport faIcon from \"@/components/kilvn-fa-icon/fa-icon.vue\"\nimport tkiQrcode from '@/components/tki-qrcode/tki-qrcode.vue'\nimport tkiBarcode from \"@/components/tki-barcode/tki-barcode.vue\"\nimport uniFab from '@/components/uni-fab/uni-fab.vue'\nimport uniPopup from \"@/components/uni-popup/uni-popup.vue\"\n\nlet that;\nlet uid;\nexport default {\n\tcomponents: {\n\t\tuniPopup,\n\t\tfaIcon,\n\t\ttkiQrcode,\n\t\ttkiBarcode,\n\t\tuniFab\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tuser: uni.getStorageSync(\"user\"),\n\t\t\tbadnum: {\n\t\t\t\tnum: '',\n\t\t\t\tdesc: '',\n\t\t\t},\n\t\t\tbad_numshow: false,\n\t\t\tloading: true,\n\t\t\tselect_qrcode: '',\n\t\t\tget_reserve_checked: true, //分库存显示控制\n\t\t\tproduct: {},\n\t\t\tis_show: false, //二维码显示\n\t\t\tbar_code_show: false, //条形码显示\n\t\t\tselected_item: '', //选择的物料\n\t\t}\n\t},\n\tonLoad(options) {\n\t\tthat = this;\n\t\tuid = uni.getStorageSync(\"uid\");\n\t\tuni.removeStorageSync(\"now_model\")\n\n\t\tif (options.id) {\n\t\t\tthat.getDetail_byId(options.id,options.type)\n\t\t} else {\n\t\t\tthat.getDetail_noId()\n\t\t}\n\n\n\t},\n\n\tmethods: {\n\t\t\n\t\t//得到物料详情 有id\n\t\tgetDetail_byId(id,type){\n\t\t\tlet stocks = [];\n\t\t\tuni.showLoading({title:\"加载中...\"})\n\t\t\tconst query = Bmob.Query('Matters');\n\t\t\tif (type == \"false\") {\n\t\t\t\tquery.equalTo(\"objectId\", \"==\", id);\n\t\t\t} else {\n\t\t\t\tquery.equalTo(\"productCode\", \"==\", id)\n\t\t\t}\n\t\t\tquery.equalTo(\"userId\", \"==\", uid);\n\t\t\tquery.find().then(res => {\n\t\t\t\tconsole.log(res)\n\t\t\t\tlet product = res[0];\n\t\t\t\tlet all_reserve = 0;\n\t\t\t\t\n\t\t\t\tuni.setStorageSync(\"now_product\",product)\n\t\t\t\tquery.equalTo(\"userId\", \"==\", uid);\n\t\t\t\tquery.equalTo(\"status\", \"!=\", -1);\n\t\t\t\tquery.include(\"stocks\",\"fristClass\",\"secondClass\");\n\t\t\t\tquery.equalTo(\"goodsName\", \"==\", product.goodsName);\n\t\t\t\tquery.find().then(res => {\n\t\t\t\n\t\t\t\t\tfor (let item of res) {\n\t\t\t\t\t\tlet stocks_o = {}\n\t\t\t\t\t\tif (item.stocks) {\n\t\t\t\t\t\t\tstocks_o.stock_name = item.stocks.stock_name\n\t\t\t\t\t\t\tstocks_o.stock_objectid = item.stocks.objectId\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tstocks_o.stock_name = ''\n\t\t\t\t\t\t\tstocks_o.stock_objectid = ''\n\t\t\t\t\t\t}\n\t\t\t\t\t\tstocks_o.reserve = item.reserve.toFixed(uni.getStorageSync(\"setting\").show_float)\n\t\t\t\t\t\tstocks_o.models = (item.models) ? item.models : ''\n\t\t\t\t\t\tstocks_o.warning_num = item.warning_num\n\t\t\t\t\t\tstocks_o.bad_num = (item.bad_num)?item.bad_num:0\n\t\t\t\t\t\tstocks_o.good_id = item.objectId\n\t\t\t\t\t\tstocks_o.accessory = (item.accessory) ? item.accessory : ''\n\t\t\t\t\t\tstocks_o.productCode = (item.productCode) ? item.productCode : item.objectId+\"-\"+false\n\t\t\t\t\t\titem.stocks = stocks_o\n\t\t\t\t\t\tall_reserve += item.reserve\n\t\t\t\t\t\tstocks.push(item.stocks)\n\t\t\t\t\t}\n\t\t\t\n\t\t\t\t\tthis.product = product;\n\t\t\t\t\tif(this.product.nousetime)  this.product.nousetime = common.js_date_time(this.product.nousetime)\n\t\t\t\t\tthis.product.all_reserve = all_reserve.toFixed(uni.getStorageSync(\"setting\").show_float);\n\t\t\t\t\tthis.product.stocks = stocks\n\t\t\t\t\tthat.loading = false\n\t\t\t\t\tuni.hideLoading()\n\t\t\t\t\tconsole.log(this.product)\n\t\t\t\t})\n\t\t\t})\n\t\t},\n\t\t\n\t\t//得到物料详情没有id\n\t\tgetDetail_noId(){\n\t\t\tlet stocks = [];\n\t\t\tlet product = uni.getStorageSync(\"now_product\");\n\t\t\tlet all_reserve = 0;\n\t\t\t\n\t\t\tuni.showLoading({title:\"加载中...\"})\n\t\t\tconst query = Bmob.Query('Matters');\n\t\t\tquery.equalTo(\"userId\", \"==\", uid);\n\t\t\tquery.equalTo(\"status\", \"!=\", -1);\n\t\t\tquery.include(\"stocks\",\"goodsClass\",\"second_class\");\n\t\t\tquery.equalTo(\"goodsName\", \"==\", product.goodsName);\n\t\t\tquery.find().then(res => {\n\t\t\t\n\t\t\t\tfor (let item of res) {\n\t\t\t\t\tlet stocks_o = {}\n\t\t\t\t\tif (item.stocks) {\n\t\t\t\t\t\tstocks_o.stock_name = item.stocks.stock_name\n\t\t\t\t\t\tstocks_o.stock_objectid = item.stocks.objectId\n\t\t\t\t\t} else {\n\t\t\t\t\t\tstocks_o.stock_name = ''\n\t\t\t\t\t\tstocks_o.stock_objectid = ''\n\t\t\t\t\t}\n\t\t\t\n\t\t\t\t\tstocks_o.reserve = item.reserve.toFixed(uni.getStorageSync(\"setting\").show_float)\n\t\t\t\t\tstocks_o.models = item.models\n\t\t\t\t\tstocks_o.warning_num = item.warning_num\n\t\t\t\t\tstocks_o.bad_num = (item.bad_num)?item.bad_num:0\n\t\t\t\t\tstocks_o.good_id = item.objectId\n\t\t\t\t\tstocks_o.accessory = (item.accessory) ? item.accessory : ''\n\t\t\t\t\tstocks_o.productCode = (item.productCode) ? item.productCode : item.objectId+\"-\"+false\n\t\t\t\t\titem.stocks = stocks_o\n\t\t\t\t\tall_reserve += item.reserve\n\t\t\t\t\tstocks.push(item.stocks)\n\t\t\t\t}\n\t\t\t\n\t\t\t\tthis.product = uni.getStorageSync(\"now_product\");\n\t\t\t\tif(this.product.nousetime)  this.product.nousetime = common.js_date_time(this.product.nousetime)\n\t\t\t\tthis.product.all_reserve = all_reserve.toFixed(uni.getStorageSync(\"setting\").show_float);\n\t\t\t\tthis.product.stocks = stocks\n\t\t\t\tthat.loading = false\n\t\t\t\tuni.hideLoading()\n\t\t\t\tconsole.log(this.product)\n\t\t\t})\n\t\t},\n\n\t\t//确认货损\n\t\tconfrim_badnum() {\n\t\t\tconsole.log(that.selected_item)\n\t\t\tif (that.badnum.num) {\n\t\t\t\tconst pointer = Bmob.Pointer('_User');\n\t\t\t\tconst poiID = pointer.set(uni.getStorageSync(\"masterId\"));\n\t\t\t\t\n\t\t\t\tconst pointer1 = Bmob.Pointer('Matters');\n\t\t\t\tconst poiID1 = pointer1.set(that.selected_item.good_id);\n\t\t\t\t\n\t\t\t\tconst pointer2 = Bmob.Pointer('_User');\n\t\t\t\tconst poiID2= pointer2.set(uni.getStorageSync(\"uid\"));\n\t\t\t\t\n\t\t\t\tconst product_id = that.selected_item.good_id;\n\t\t\t\tconst last_bad_num = Number(that.selected_item.bad_num);\n\t\t\t\t\n\t\t\t\tconst now_bad_num = last_bad_num + Number(that.badnum.num);\n\t\t\t\t\n\t\t\t\tconst query = Bmob.Query('bad_goods');\n\t\t\t\tquery.set(\"bad_num\", that.badnum.num);\n\t\t\t\tquery.set(\"beizhu_text\", that.badnum.desc);\n\t\t\t\tquery.set(\"operater\", poiID);\n\t\t\t\tquery.set(\"matters\", poiID1);\n\t\t\t\tquery.set(\"master\", poiID2);\n\t\t\t\tquery.save().then(res => {\n\n\t\t\t\t\tconst query = Bmob.Query('Matters');\n\t\t\t\t\tquery.set('id', product_id) //需要修改的objectId\n\t\t\t\t\tquery.set('bad_num', now_bad_num)\n\t\t\t\t\tquery.save().then(res => {\n\t\t\t\t\t\tthat.bad_numshow = false\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: '记录成功',\n\t\t\t\t\t\t});\n\t\t\t\t\t})\n\t\t\t\t\tthat.getDetail_noId()\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: \"请输入货损数量\",\n\t\t\t\t\ticon: \"none\"\n\t\t\t\t})\n\t\t\t}\n\t\t},\n\n\t\t//记录货损点击\n\t\tadd_badnum(item) {\n\t\t\tthat.bad_numshow = true\n\t\t\tthat.selected_item = item\n\t\t},\n\n\t\t//生成二维码\n\t\tshow_qrcode(item) {\n\t\t\tthat.is_show = true,\n\t\t\t\tthat.select_qrcode = item.productCode\n\t\t},\n\n\t\t//分库存的switch点击\n\t\tchange_state(e) {\n\t\t\tthat.get_reserve_checked = e.detail.value\n\t\t},\n\n\t\t//商品信息点击\n\t\tprint_info(item) {\n\t\t\tprint.print_goodDet(item)\n\t\t},\n\n\t\t//物料信息修改点击\n\t\tmodify(item) {\n\t\t\tconsole.log(item)\n\t\t\tlet now_product = uni.getStorageSync(\"now_product\")\n\t\t\tnow_product.objectId = item.good_id\n\t\t\tnow_product.reserve = item.reserve\n\t\t\tnow_product.warning_num = (item.warning_num) ? item.warning_num : 0\n\t\t\tnow_product.bad_num = (item.bad_num) ? item.bad_num : 0\n\t\t\t\n\t\t\tuni.navigateTo({\n\t\t\t\turl: '../editInfo/editInfo'\n\t\t\t});\n\n\t\t},\n\n\t\t//点击显示二维码的操作\n\t\tshowcode_option() {\n\t\t\tuni.showActionSheet({\n\t\t\t\titemList: ['二维码', '条形码'],\n\t\t\t\tsuccess: function(res) {\n\t\t\t\t\tconsole.log('选中了第' + (res.tapIndex + 1) + '个按钮');\n\t\t\t\t\tif (res.tapIndex == 0) {\n\t\t\t\t\t\tthat.is_show = true\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthat.bar_code_show = true\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tfail: function(res) {\n\t\t\t\t\tconsole.log(res.errMsg);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t//二维码路径\n\t\tqrR(res) {\n\t\t\tthis.src = res\n\t\t},\n\n\t\tbcR(res) {\n\t\t\tthis.src = res\n\t\t},\n\n\t\tsaveBccode() {\n\t\t\tthis.$refs.barcode._saveCode()\n\t\t},\n\n\t\t//点击条形码保存\n\t\tsaveQrcode() {\n\t\t\tthis.$refs.qrcode._saveCode()\n\t\t},\n\n\t\t//删除商品\n\t\tdelete_good(objectId, accessory, index) {\n\t\t\tuni.showModal({\n\t\t\t\ttitle: '提示',\n\t\t\t\tcontent: '是否删除该商品',\n\t\t\t\tsuccess: function(res) {\n\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\t\n\t\t\t\t\t\tuni.setStorageSync(\"is_add\",true)\n\n\t\t\t\t\t\tconst query = Bmob.Query('Matters');\n\t\t\t\t\t\tquery.set('id', objectId) //需要修改的objectId\n\t\t\t\t\t\tquery.set('status', -1)\n\t\t\t\t\t\tquery.save().then(res => {\n\n\t\t\t\t\t\t\tif (accessory) {\n\t\t\t\t\t\t\t\tuni.navigateBack({\n\t\t\t\t\t\t\t\t\tdelta:1\n\t\t\t\t\t\t\t\t})\n\n\t\t\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\ttitle: \"删除成功\"\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}, 1000)\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tif (that.product.stocks.length > 1) {\n\t\t\t\t\t\t\t\t\tlet next_good = that.product.stocks[index + 1].good_id\n\t\t\t\t\t\t\t\t\tconst query = Bmob.Query('Matters');\n\t\t\t\t\t\t\t\t\tquery.get(next_good).then(res => {\n\t\t\t\t\t\t\t\t\t\tconsole.log(res)\n\t\t\t\t\t\t\t\t\t\tres.set('accessory', false)\n\t\t\t\t\t\t\t\t\t\tres.save()\n\t\t\t\t\t\t\t\t\t\tuni.navigateBack({\n\t\t\t\t\t\t\t\t\t\t\tdelta:1\n\t\t\t\t\t\t\t\t\t\t})\n\n\t\t\t\t\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\t\t\ttitle: \"删除成功\"\n\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t}, 1000)\n\t\t\t\t\t\t\t\t\t}).catch(err => {\n\t\t\t\t\t\t\t\t\t\tconsole.log(err)\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tuni.navigateBack({\n\t\t\t\t\t\t\t\t\t\tdelta:1\n\t\t\t\t\t\t\t\t\t})\n\n\t\t\t\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\t\ttitle: \"删除成功\"\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t}, 1000)\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t}\n\n\n\t\t\t\t\t\t}).catch(err => {\n\t\t\t\t\t\t\tconsole.log(err)\n\t\t\t\t\t\t})\n\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t},\n\n\t},\n}\n","import mod from \"-!../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-2!../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./matterDet.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-2!../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./matterDet.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}