{"version":3,"sources":["webpack:///C:/Users/Administrator/Desktop/新建文件夹 (8)/wechat/main.js","webpack:///C:/Users/Administrator/Desktop/新建文件夹 (8)/wechat/pages/production/matterSelect/matterSelect.vue?7f3f","webpack:///C:/Users/Administrator/Desktop/新建文件夹 (8)/wechat/pages/production/matterSelect/matterSelect.vue?e452","webpack:///C:/Users/Administrator/Desktop/新建文件夹 (8)/wechat/pages/production/matterSelect/matterSelect.vue?edaa","webpack:///C:/Users/Administrator/Desktop/新建文件夹 (8)/wechat/pages/production/matterSelect/matterSelect.vue?2fa6","webpack:///C:/Users/Administrator/Desktop/新建文件夹 (8)/wechat/pages/production/matterSelect/matterSelect.vue","webpack:///C:/Users/Administrator/Desktop/新建文件夹 (8)/wechat/pages/production/matterSelect/matterSelect.vue?12a8"],"names":["createPage","Page","renderjs","component","options","__file","components","render","_vm","this","_h","$createElement","l0","_self","_c","__map","productList","product","index","g0","JSON","stringify","$orig","__get_orig","_isMounted","e0","$event","showOptions","$mp","data","Object","assign","$root","recyclableRender","staticRenderFns","_withStripped","uid","that","products","search_products","all_products","search_text","page_size","page_num","search_count","loading","uniNavBar","faIcon","uniIcon","uniPagination","identity","uni","getStorageSync","selectd_model","models_good","models_good_key","url","checked_option","category","stock","type","is_selected","onLoad","option","handle_data","id","get_productList","onShow","length","onUnload","removeStorageSync","methods","hide_mask","change_page","e","current","shaixuan","confirm","detail","value","confrim_this","go_goodsconfrim","option_reset","option_confrim","selectd","radioChange","concat","reduce","a","b","Array","from","Set","console","log","showToast","title","icon","confrim_next","item","parse","num","total_money","costPrice","really_total_money","modify_retailPrice","retailPrice","setStorageSync","navigateTo","query","Bmob","Query","include","equalTo","objectId","query1","query2","or","limit","skip","order","find","then","res","key","checked","reserve","toFixed","show_float"],"mappings":"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","file":"pages/production/matterSelect/matterSelect.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'\nimport Page from './pages/production/matterSelect/matterSelect.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./matterSelect.vue?vue&type=template&id=793e16f9&\"\nvar renderjs\nimport script from \"./matterSelect.vue?vue&type=script&lang=js&\"\nexport * from \"./matterSelect.vue?vue&type=script&lang=js&\"\nimport style0 from \"./matterSelect.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"新建文件夹 (8)/wechat/pages/production/matterSelect/matterSelect.vue\"\nexport default component.exports","export * from \"-!../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./matterSelect.vue?vue&type=template&id=793e16f9&\"","var components = {\n  \"uni-nav-bar\": function() {\n    return import(\n      /* webpackChunkName: \"components/uni-nav-bar/uni-nav-bar\" */ \"@/components/uni-nav-bar/uni-nav-bar.vue\"\n    )\n  },\n  \"uni-icon\": function() {\n    return import(\n      /* webpackChunkName: \"components/uni-icon/uni-icon\" */ \"@/components/uni-icon/uni-icon.vue\"\n    )\n  },\n  \"uni-pagination\": function() {\n    return import(\n      /* webpackChunkName: \"components/uni-pagination/uni-pagination\" */ \"@/components/uni-pagination/uni-pagination.vue\"\n    )\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 = _vm.__map(_vm.productList, function(product, index) {\n    var g0 = JSON.stringify(product)\n    return {\n      $orig: _vm.__get_orig(product),\n      g0: g0\n    }\n  })\n\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      _vm.showOptions = false\n    }\n  }\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./matterSelect.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./matterSelect.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport Bmob from \"hydrogen-js-sdk\";\nimport faIcon from \"@/components/kilvn-fa-icon/fa-icon.vue\"\nimport loading from \"@/components/Loading/index.vue\"\nimport uniNavBar from '@/components/uni-nav-bar/uni-nav-bar.vue'\nimport uniIcon from '@/components/uni-icon/uni-icon.vue'\nimport uniPagination from \"@/components/uni-pagination/uni-pagination.vue\"\n\nlet products = [];\nlet search_products = [];\nlet all_products = [];\nlet uid;\nlet that;\nlet search_text = '';\nlet page_size = 30;\nlet page_num = 1;\nlet search_count = 1;\nexport default {\n\tcomponents: {\n\t\tloading,\n\t\tuniNavBar,\n\t\tfaIcon,\n\t\tuniIcon,\n\t\tuniPagination\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tidentity: uni.getStorageSync(\"identity\"),\n\t\t\tselectd_model: '',\n\t\t\tmodels_good: '',\n\t\t\tmodels_good_key: '',\n\t\t\tpage_num: 1,\n\t\t\tsearch_text: '',\n\t\t\turl: null,\n\t\t\tshowOptions: false, //是否显示筛选\n\t\t\tloading: true,\n\t\t\tproductList: null,\n\t\t\tchecked_option: 'createdAt', //tab的筛选条件\n\t\t\tcategory: \"\", //选择的类别\n\t\t\tstock: \"\", //选择的店仓\n\t\t\ttype: '', //操作类型\n\t\t\tis_selected: false, //是否筛选\n\t\t}\n\t},\n\n\tonLoad(option) {\n\t\tthat = this;\n\t\tthis.handle_data();\n\n\t\tif (option.type == \"entering\") {\n\t\t\tthis.url = \"../matterEnter/matterEnter?type=entering\"\n\t\t} else if (option.type == \"production\") {\n\t\t\tthis.url = \"../matterEnter/matterEnter?type=production&id=\"+option.id\n\t\t}\n\n\t\tthis.type = option.type\n\n\t\tuid = uni.getStorageSync('uid');\n\t\tthat.get_productList();\n\t},\n\n\tonShow() {\n\t\tif (uni.getStorageSync(\"category\")) {\n\t\t\tthat.showOptions = true;\n\t\t\tthat.category = uni.getStorageSync(\"category\")\n\t\t}\n\n\t\tif (uni.getStorageSync(\"warehouse\")) {\n\t\t\tthat.showOptions = true;\n\t\t\tthat.stock = uni.getStorageSync(\"warehouse\")[uni.getStorageSync(\"warehouse\").length - 1].stock\n\t\t}\n\n\t\t//操作完成后刷新数据\n\t\tif (uni.getStorageSync(\"is_option\")) {\n\t\t\tsearch_text = '';\n\t\t\tpage_size = 30;\n\t\t\tsearch_count = 1;\n\t\t\tall_products = [];\n\t\t\tproducts = [];\n\t\t\tsearch_products = [];\n\t\t\tthis.productList = []\n\t\t\tthat.get_productList();\n\t\t}\n\t},\n\n\tonUnload() {\n\t\t//数据重置\n\t\tsearch_text = '';\n\t\tpage_size = 30;\n\t\tsearch_count = 1;\n\t\tall_products = [];\n\t\tproducts = [];\n\t\tsearch_products = [];\n\t\tuni.removeStorageSync(\"is_option\"); //用于判断是否进行了操作\n\t},\n\n\tmethods: {\n\n\t\thide_mask() {\n\t\t\tthat.models_good = ''\n\t\t},\n\n\t\t//分页点击\n\t\tchange_page(e) {\n\t\t\tpage_num = e.current\n\t\t\tif (search_text && page_num > 1) {\n\t\t\t\tsearch_count += 1\n\t\t\t}\n\n\t\t\tthat.get_productList();\n\t\t},\n\n\t\t//筛选点击\n\t\tshaixuan() {\n\t\t\tthat.showOptions = true;\n\t\t},\n\n\t\t//输入框输入点击确定\n\t\tconfirm(e) {\n\t\t\tsearch_text = e.detail.value\n\t\t\tthat.search_text = e.detail.value\n\t\t\tthat.page_num = 1\n\t\t\tpage_num = 1\n\t\t\tsearch_count += 1\n\n\t\t\tthat.get_productList()\n\t\t},\n\n\t\t//确定点击\n\t\tconfrim_this() {\n\t\t\tthis.go_goodsconfrim();\n\t\t},\n\n\t\t//modal重置的确认点击\n\t\toption_reset() {\n\t\t\tthis.productList = [];\n\t\t\tuni.removeStorageSync(\"category\");\n\t\t\tuni.removeStorageSync(\"warehouse\");\n\t\t\tthat.category = \"\";\n\t\t\tthat.stock = \"\";\n\t\t\tthat.showOptions = false;\n\t\t\tthat.get_productList()\n\t\t},\n\n\t\t//modal筛选的确认点击\n\t\toption_confrim() {\n\t\t\tif (uni.getStorageSync(\"category\")) {\n\t\t\t\tsearch_count += 1\n\t\t\t\tthat.is_selected = true;\n\t\t\t\tthat.category = uni.getStorageSync(\"category\")\n\t\t\t}\n\n\t\t\tif (uni.getStorageSync(\"warehouse\")) {\n\t\t\t\tsearch_count += 1\n\t\t\t\tthat.is_selected = true;\n\t\t\t\tthat.stock = uni.getStorageSync(\"warehouse\")[uni.getStorageSync(\"warehouse\").length - 1].stock\n\t\t\t}\n\t\t\tthat.showOptions = false;\n\t\t\tthat.get_productList()\n\t\t},\n\n\t\t//头部的options选择\n\t\tselectd(type) {\n\t\t\tpage_size = 30;\n\t\t\tthat.checked_option = type;\n\t\t\tthat.get_productList();\n\t\t},\n\n\t\t//多选选择触发\n\t\tradioChange: function(e) {\n\t\t\t//console.log(e)\n\t\t\tlet current = []\n\t\t\tlet key = 0\n\t\t\tif (search_text || that.is_selected) {\n\t\t\t\tsearch_products[search_count - 1] = e.detail.value\n\t\t\t} else {\n\t\t\t\tproducts[page_num - 1] = e.detail.value\n\t\t\t}\n\t\t\tall_products = search_products.concat(products)\n\t\t\tall_products = all_products.reduce(function(a, b) {\n\t\t\t\treturn a.concat(b)\n\t\t\t})\n\t\t\tall_products = Array.from(new Set(all_products))\n\t\t\t//console.log(all_products)\n\t\t},\n\n\t\t//点击去到添加物料\n\t\tgo_goodsconfrim() {\n\t\t\tconsole.log(all_products)\n\t\t\tif (all_products.length == 0) {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: \"请选择物料\",\n\t\t\t\t\ticon: \"none\"\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\tthis.confrim_next()\n\t\t\t}\n\t\t},\n\n\t\tconfrim_next() {\n\t\t\tlet index = 0;\n\t\t\tif (this.type == \"entering\") {\n\t\t\t\tfor (let item of all_products) {\n\t\t\t\t\tall_products[index] = (typeof item == 'object') ? item : JSON.parse(item)\n\t\t\t\t\tall_products[index].num = 1;\n\t\t\t\t\tall_products[index].total_money = 1 * all_products[index].costPrice;\n\t\t\t\t\tall_products[index].really_total_money = 1 * all_products[index].costPrice;\n\t\t\t\t\tall_products[index].modify_retailPrice = all_products[index].costPrice;\n\t\t\t\t\tindex += 1;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfor (let item of all_products) {\n\t\t\t\t\tall_products[index] = (typeof item == 'object') ? item : JSON.parse(item)\n\t\t\t\t\tall_products[index].num = 0;\n\t\t\t\t\tall_products[index].total_money = 0 * all_products[index].retailPrice;\n\t\t\t\t\tall_products[index].really_total_money = 0 * all_products[index].retailPrice;\n\t\t\t\t\tall_products[index].modify_retailPrice = all_products[index].retailPrice;\n\t\t\t\t\tindex += 1;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tuni.setStorageSync(\"products\", all_products);\n\t\t\tuni.navigateTo({\n\t\t\t\turl: this.url\n\t\t\t})\n\t\t},\n\n\t\t//查询物料列表\n\t\tget_productList() {\n\t\t\tthat.productList = []\n\t\t\tconst query = Bmob.Query(\"Matters\");\n\t\t\tquery.include(\"stocks\");\n\t\t\tquery.equalTo(\"userId\", \"==\", uid);\n\t\t\tquery.equalTo(\"stocks\", \"==\", that.stock.objectId);\n\t\t\tquery.equalTo(\"status\", \"!=\", -1);\n\n\t\t\tif (that.category.type == 1) {\n\t\t\t\tquery.equalTo(\"fristClass\", \"==\", that.category.objectId);\n\t\t\t} else {\n\t\t\t\tquery.equalTo(\"secondClass\", \"==\", that.category.objectId);\n\t\t\t}\n\t\t\tconst query1 = query.equalTo(\"goodsName\", \"==\", {\n\t\t\t\t\"$regex\": \"\" + search_text + \".*\"\n\t\t\t});\n\t\t\tconst query2 = query.equalTo(\"regNumber\", \"==\", {\n\t\t\t\t\"$regex\": \"\" + search_text + \".*\"\n\t\t\t});\n\t\t\tquery.or(query1, query2);\n\t\t\tquery.limit(page_size);\n\t\t\tquery.skip(page_size * (page_num - 1));\n\t\t\tquery.order(\"-\" + that.checked_option); //按照条件降序\n\t\t\tquery.find().then(res => {\n\t\t\t\tconsole.log(all_products)\n\t\t\t\tlet key = 0;\n\t\t\t\tif (all_products.length >= 1 && that.showOptions == false && that.is_selected == false && that.search_text == '') {\n\t\t\t\t\tfor (let item of all_products) {\n\t\t\t\t\t\tfor (let product of res) {\n\t\t\t\t\t\t\tif (product.objectId == (typeof item == 'object' ? item.objectId : JSON.parse(item).objectId)) {\n\t\t\t\t\t\t\t\tproduct.checked = true\n\t\t\t\t\t\t\t\tproduct.key = key\n\t\t\t\t\t\t\t\tproduct.reserve = product.reserve.toFixed(uni.getStorageSync(\"setting\") ? uni.getStorageSync(\"setting\").show_float :\n\t\t\t\t\t\t\t\t\t0)\n\t\t\t\t\t\t\t\tkey += 1\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tfor (let product of res) {\n\t\t\t\t\t\tproduct.key = key\n\t\t\t\t\t\tproduct.reserve = product.reserve.toFixed(uni.getStorageSync(\"setting\") ? uni.getStorageSync(\"setting\").show_float :\n\t\t\t\t\t\t\t0)\n\t\t\t\t\t\tkey += 1\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthis.productList = res;\n\t\t\t\tthis.loading = false;\n\t\t\t});\n\t\t},\n\n\t\t//数据重置\n\t\thandle_data() {\n\t\t\tuni.removeStorageSync(\"products\");\n\t\t\tuni.removeStorageSync(\"category\");\n\t\t\tuni.removeStorageSync(\"warehouse\");\n\t\t\tuni.removeStorageSync(\"out_warehouse\");\n\t\t\tuni.removeStorageSync(\"shop\");\n\n\t\t\tsearch_text = '';\n\t\t\tpage_size = 30;\n\t\t\tsearch_count = 1;\n\t\t},\n\n\t}\n}\n","import mod from \"-!../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-2!../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./matterSelect.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-2!../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./matterSelect.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}