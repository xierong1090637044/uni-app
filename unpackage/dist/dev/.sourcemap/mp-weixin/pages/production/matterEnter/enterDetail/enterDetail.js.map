{"version":3,"sources":["webpack:///C:/Users/Administrator/Desktop/wechat/kcb_all/main.js","webpack:///C:/Users/Administrator/Desktop/wechat/kcb_all/pages/production/matterEnter/enterDetail/enterDetail.vue?de1b","webpack:///C:/Users/Administrator/Desktop/wechat/kcb_all/pages/production/matterEnter/enterDetail/enterDetail.vue?3f15","webpack:///C:/Users/Administrator/Desktop/wechat/kcb_all/pages/production/matterEnter/enterDetail/enterDetail.vue?1807","webpack:///C:/Users/Administrator/Desktop/wechat/kcb_all/pages/production/matterEnter/enterDetail/enterDetail.vue?c68f","webpack:///C:/Users/Administrator/Desktop/wechat/kcb_all/pages/production/matterEnter/enterDetail/enterDetail.vue","webpack:///C:/Users/Administrator/Desktop/wechat/kcb_all/pages/production/matterEnter/enterDetail/enterDetail.vue?d471"],"names":["createPage","Page","renderjs","component","options","__file","components","render","_vm","this","_h","$createElement","g0","_self","_c","othercurrent","indexOf","g1","$mp","data","Object","assign","$root","recyclableRender","staticRenderFns","_withStripped","uid","that","shopId","shop","user","uni","getStorageSync","identity","Images","stock","shop_name","products","button_disabled","beizhu_text","real_money","all_money","really_total_money","producer","outType","pickerTypes","desc","type","expressNum","total_num","onLoad","i","length","Number","total_money","toFixed","num","rights","onShow","name","pointer","Bmob","Pointer","set","objectId","methods","scan_code","scanCode","onlyFromCamera","success","res","console","log","scanType","result","removeImg","index","splice","upload_image","is_vip","chooseImage","count","sizeType","sourceType","file","timestamp","Date","parse","tempFilePaths","item","File","save","then","push","url","showToast","title","icon","select_outType","e","detail","value","formSubmit","formId","extraType","target","dataset","showLoading","stockId","billsObj","Array","detailObj","reserve","detailBills","tempBills","Query","pointer1","tempGoods_id","masterId","pointer2","poiID2","goodsName","modify_retailPrice","toString","goodsId","retailPrice","costPrice","selectd_model","selected_model","models","saveAll","bills","poiID","poiID1","query","input_beizhu","producerID","get","debt","operationId","hideLoading","duration","complete","enterAddGoodNum","setTimeout","common","nickName","setStorageSync","removeStorageSync","navigateBack","delta","params","createdAt","send_temp","send_in_noconfrim","error","Promise","resolve","reject","model","id","warning_num","catch","err"],"mappings":"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","file":"pages/production/matterEnter/enterDetail/enterDetail.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\nimport Vue from 'vue'\nimport Page from './pages/production/matterEnter/enterDetail/enterDetail.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./enterDetail.vue?vue&type=template&id=a440f034&\"\nvar renderjs\nimport script from \"./enterDetail.vue?vue&type=script&lang=js&\"\nexport * from \"./enterDetail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./enterDetail.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\Downloads\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"C:/Users/Administrator/Desktop/wechat/kcb_all/pages/production/matterEnter/enterDetail/enterDetail.vue\"\nexport default component.exports","export * from \"-!D:\\\\Downloads\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\Downloads\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\Downloads\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\Downloads\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\Downloads\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Downloads\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./enterDetail.vue?vue&type=template&id=a440f034&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 = _vm.othercurrent.indexOf(\"1\")\n  var g1 = _vm.othercurrent.indexOf(\"1\")\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0,\n        g1: g1\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\Downloads\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\Downloads\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\Downloads\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\Downloads\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Downloads\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./enterDetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\Downloads\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\Downloads\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\Downloads\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\Downloads\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Downloads\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./enterDetail.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport Bmob from \"hydrogen-js-sdk\";\nimport common from '@/utils/common.js';\nimport _goods from '@/utils/goods.js';\nimport send_temp from '@/utils/send_temp.js';\nimport print from '@/utils/print.js';\n\nlet uid;\nlet that;\nlet shopId;\nlet shop; //门店\n\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tuser: uni.getStorageSync(\"user\"),\n\t\t\tidentity: uni.getStorageSync(\"identity\"),\n\t\t\tothercurrent: '',\n\t\t\tImages: [], //上传凭证图\n\t\t\tstock: '', //店仓\n\t\t\tshop_name: '',\n\t\t\tproducts: null,\n\t\t\tbutton_disabled: false,\n\t\t\tbeizhu_text: \"\",\n\t\t\treal_money: 0, //实际付款金额\n\t\t\tall_money: 0, //总价\n\t\t\treally_total_money: 0, //实际的总价\n\t\t\tproducer: null, //制造商\n\t\t\toutType: '', //发货方式\n\t\t\tpickerTypes: [{\n\t\t\t\t\tdesc: \"自提\",\n\t\t\t\t\ttype: 1\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tdesc: \"快递\",\n\t\t\t\t\ttype: 2\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tdesc: \"物流\",\n\t\t\t\t\ttype: 3\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tdesc: \"送货上门\",\n\t\t\t\t\ttype: 4\n\t\t\t\t},\n\t\t\t],\n\t\t\texpressNum: '', //快递单号\n\t\t\ttotal_num: 0, //实际的总数量\n\t\t}\n\t},\n\tonLoad() {\n\t\tthat = this;\n\t\tuid = uni.getStorageSync(\"uid\");\n\t\tthis.products = uni.getStorageSync(\"products\");\n\t\tfor (let i = 0; i < this.products.length; i++) {\n\t\t\tthis.all_money = Number((this.products[i].total_money + this.all_money).toFixed(2))\n\t\t\tthis.really_total_money = Number((this.products[i].really_total_money + this.really_total_money).toFixed(2))\n\t\t\tthis.total_num += Number(this.products[i].num)\n\t\t}\n\t\tthis.real_money = Number(this.all_money.toFixed(2))\n\n\t\tif (that.user.rights && that.user.rights.othercurrent) {\n\t\t\tthat.othercurrent = that.user.rights.othercurrent\n\t\t}\n\t},\n\n\tonShow() {\n\t\tthat.producer = uni.getStorageSync(\"producer\")\n\t\tshop = uni.getStorageSync(\"shop\");\n\n\t\tif (shop) {\n\t\t\tthat.shop_name = shop.name\n\n\t\t\tconst pointer = Bmob.Pointer('shops');\n\t\t\tshopId = pointer.set(shop.objectId);\n\t\t}\n\n\t\tthat.stock = uni.getStorageSync(\"warehouse\") ? uni.getStorageSync(\"warehouse\")[0].stock : ''\n\t},\n\tmethods: {\n\n\t\t//扫码操作\n\t\tscan_code() {\n\n\n\n\n\n\n\n\t\t\tuni.scanCode({\n\t\t\t\tonlyFromCamera: true,\n\t\t\t\tsuccess: function(res) {\n\t\t\t\t\tconsole.log('条码类型：' + res.scanType);\n\t\t\t\t\tconsole.log('条码内容：' + res.result);\n\t\t\t\t\tthat.expressNum = res.result\n\t\t\t\t}\n\t\t\t});\n\n\t\t},\n\n\t\t//移除此张照片\n\t\tremoveImg(index) {\n\t\t\tthat.Images.splice(index, 1)\n\t\t\tthat.Images = that.Images\n\t\t},\n\n\t\t//上传凭证图\n\t\tupload_image() {\n\t\t\tif (that.user.is_vip) {\n\t\t\t\tuni.chooseImage({\n\t\t\t\t\tcount: 3, //默认9\n\t\t\t\t\tsizeType: ['compressed'], //可以指定是原图还是压缩图，默认二者都有\n\t\t\t\t\tsourceType: ['album', 'camera'], //从相册选择\n\t\t\t\t\tsuccess: function(res) {\n\t\t\t\t\t\t//console.log(res);\n\t\t\t\t\t\tlet timestamp = Date.parse(new Date());\n\t\t\t\t\t\tlet tempFilePaths = res.tempFilePaths\n\t\t\t\t\t\tlet file;\n\t\t\t\t\t\tfor (let item of tempFilePaths) {\n\t\t\t\t\t\t\tfile = Bmob.File(timestamp + '.jpg', item);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tfile.save().then(res => {\n\t\t\t\t\t\t\tfor (let item of res) {\n\t\t\t\t\t\t\t\tthat.Images.push(item.url);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: \"您还不是会员，无法使用\",\n\t\t\t\t\ticon: 'none'\n\t\t\t\t})\n\t\t\t}\n\t\t},\n\n\t\t//选择物流方式\n\t\tselect_outType(e) {\n\t\t\t//console.log(e)\n\t\t\tthat.outType = that.pickerTypes[e.detail.value]\n\t\t\tif (that.outType.type != 2 || that.outType.type != 3) {\n\t\t\t\tthat.expressNum = ''\n\t\t\t}\n\t\t},\n\n\t\t//表单提交\n\t\tformSubmit: function(e) {\n\t\t\tlet identity = uni.getStorageSync(\"identity\") // 身份识别标志\n\n\t\t\t//console.log(e)\n\t\t\tthis.button_disabled = true;\n\t\t\tlet fromid = e.detail.formId\n\n\t\t\tlet extraType = Number(e.detail.target.dataset.type) // 判断是采购还是入库  2是入库  1是采购\n\n\n\n\n\t\t\tuni.showLoading({\n\t\t\t\ttitle: \"上传中...\"\n\t\t\t});\n\t\t\tconst pointer = Bmob.Pointer('stocks');\n\t\t\tlet stockId = pointer.set(that.stock ? that.stock.objectId : '');\n\n\t\t\tlet billsObj = new Array();\n\t\t\tlet detailObj = [];\n\t\t\tfor (let i = 0; i < this.products.length; i++) {\n\t\t\t\tlet num = Number(this.products[i].reserve) + this.products[i].num;\n\n\t\t\t\t//单据\n\t\t\t\tlet detailBills = {}\n\t\t\t\tlet tempBills = Bmob.Query('Bills');\n\n\t\t\t\tlet pointer = Bmob.Pointer('_User')\n\t\t\t\tlet user = pointer.set(uid)\n\t\t\t\tlet pointer1 = Bmob.Pointer('Matters')\n\t\t\t\tlet tempGoods_id = pointer1.set(this.products[i].objectId);\n\n\t\t\t\tlet masterId = uni.getStorageSync(\"masterId\");\n\t\t\t\tlet pointer2 = Bmob.Pointer('_User')\n\t\t\t\tlet poiID2 = pointer2.set(masterId);\n\n\t\t\t\ttempBills.set('goodsName', this.products[i].goodsName);\n\t\t\t\ttempBills.set('retailPrice', (this.products[i].modify_retailPrice).toString());\n\t\t\t\ttempBills.set('num', Number(this.products[i].num));\n\t\t\t\ttempBills.set('total_money', this.products[i].total_money);\n\t\t\t\ttempBills.set('really_total_money', this.products[i].really_total_money);\n\t\t\t\ttempBills.set('mattersId', tempGoods_id);\n\t\t\t\ttempBills.set('userId', user);\n\t\t\t\ttempBills.set(\"opreater\", poiID2);\n\t\t\t\ttempBills.set('type', 4);\n\t\t\t\ttempBills.set('extra_type', extraType);\n\t\t\t\t(shop) ? tempBills.set(\"shop\", shopId): '';\n\t\t\t\ttempBills.set(\"stock\", stockId);\n\t\t\t\tif (identity == 1) {\n\t\t\t\t\ttempBills.set(\"status\", true); // 操作单详情\n\t\t\t\t} else if (identity == 2) {\n\t\t\t\t\ttempBills.set(\"status\", (extraType == 2) ? true : false); // 操作单详情\n\t\t\t\t}\n\n\t\t\t\tlet goodsId = {}\n\t\t\t\tdetailBills.goodsName = this.products[i].goodsName\n\t\t\t\tdetailBills.modify_retailPrice = (this.products[i].modify_retailPrice).toString()\n\t\t\t\tdetailBills.retailPrice = this.products[i].retailPrice\n\t\t\t\tdetailBills.total_money = this.products[i].total_money\n\t\t\t\tgoodsId.costPrice = this.products[i].costPrice\n\t\t\t\tgoodsId.retailPrice = this.products[i].retailPrice\n\t\t\t\tgoodsId.objectId = this.products[i].objectId\n\t\t\t\tgoodsId.reserve = num\n\t\t\t\tif (this.products[i].selectd_model) {\n\t\t\t\t\tgoodsId.selected_model = this.products[i].selected_model\n\t\t\t\t\tgoodsId.models = this.products[i].models\n\t\t\t\t}\n\t\t\t\tdetailBills.goodsId = goodsId\n\t\t\t\tdetailBills.num = this.products[i].num\n\t\t\t\tdetailBills.type = 4\n\n\t\t\t\tbillsObj.push(tempBills)\n\t\t\t\tdetailObj.push(detailBills)\n\n\t\t\t}\n\t\t\t//插入单据\n\t\t\tBmob.Query('Bills').saveAll(billsObj).then(function(res) {\n\t\t\t\t\t//console.log(\"批量新增单据成功\", res);\n\t\t\t\t\tlet bills = []\n\t\t\t\t\tfor (let i = 0; i < res.length; i++) {\n\t\t\t\t\t\tbills.push(res[i].success.objectId)\n\t\t\t\t\t}\n\n\n\t\t\t\t\tlet pointer = Bmob.Pointer('_User')\n\t\t\t\t\tlet poiID = pointer.set(uid);\n\n\t\t\t\t\tlet masterId = uni.getStorageSync(\"masterId\");\n\t\t\t\t\tlet pointer1 = Bmob.Pointer('_User')\n\t\t\t\t\tlet poiID1 = pointer1.set(masterId);\n\n\t\t\t\t\tlet query = Bmob.Query('order_opreations');\n\t\t\t\t\t//query.set(\"relations\", relID);\n\t\t\t\t\tquery.set(\"beizhu\", e.detail.value.input_beizhu);\n\t\t\t\t\tquery.set(\"detail\", detailObj);\n\t\t\t\t\tquery.set(\"real_num\", that.total_num);\n\t\t\t\t\tquery.set(\"type\", 4);\n\t\t\t\t\tquery.set(\"extra_type\", extraType);\n\t\t\t\t\tquery.set(\"bills\", bills);\n\t\t\t\t\tquery.set(\"opreater\", poiID1);\n\t\t\t\t\tquery.set(\"master\", poiID);\n\t\t\t\t\tquery.set(\"stock\", stockId);\n\t\t\t\t\tquery.set('goodsName', that.products[0].goodsName);\n\t\t\t\t\tquery.set('real_money', Number(that.real_money));\n\t\t\t\t\tquery.set('debt', that.all_money - Number(that.real_money));\n\n\t\t\t\t\tif (that.producer) {\n\t\t\t\t\t\tlet producer = Bmob.Pointer('producers');\n\t\t\t\t\t\tlet producerID = producer.set(that.producer.objectId);\n\t\t\t\t\t\tquery.set(\"producer\", producerID);\n\n\t\t\t\t\t\t//如果客户有欠款\n\t\t\t\t\t\tif ((that.all_money - Number(that.real_money)) > 0) {\n\t\t\t\t\t\t\tlet query = Bmob.Query('producers');\n\t\t\t\t\t\t\tquery.get(that.producer.objectId).then(res => {\n\t\t\t\t\t\t\t\tvar debt = (res.debt == null) ? 0 : res.debt;\n\t\t\t\t\t\t\t\tdebt = debt + (that.all_money - Number(that.real_money));\n\t\t\t\t\t\t\t\t//console.log(debt);\n\t\t\t\t\t\t\t\tlet query = Bmob.Query('producers');\n\t\t\t\t\t\t\t\tquery.get(that.producer.objectId).then(res => {\n\t\t\t\t\t\t\t\t\tres.set('debt', debt)\n\t\t\t\t\t\t\t\t\tres.save()\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (that.outType) {\n\t\t\t\t\t\tquery.set(\"typeDesc\", that.outType.desc);\n\t\t\t\t\t\tquery.set(\"expressNum\", that.expressNum);\n\t\t\t\t\t}\n\t\t\t\t\tquery.set(\"all_money\", that.all_money);\n\t\t\t\t\tquery.set(\"Images\", that.Images);\n\t\t\t\t\tif (identity == 1) {\n\t\t\t\t\t\tquery.set(\"status\", true); // 操作单详情\n\t\t\t\t\t} else if (identity == 2) {\n\t\t\t\t\t\tquery.set(\"status\", (extraType == 2) ? true : false); // 操作单详情\n\t\t\t\t\t}\n\t\t\t\t\tquery.save().then(res => {\n\t\t\t\t\t\tlet operationId = res.objectId\n\t\t\t\t\t\t//console.log(\"添加操作历史记录成功\", res);\n\t\t\t\t\t\tuni.hideLoading();\n\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: '物料采购成功',\n\t\t\t\t\t\t\ticon: 'success',\n\t\t\t\t\t\t\tduration: 1000,\n\t\t\t\t\t\t\tcomplete: function() {\n\t\t\t\t\t\t\t\t//common.enterAddGoodNum(that.products) //添加物料数量\n\t\t\t\t\t\t\t\tif (identity == 1) {\n\t\t\t\t\t\t\t\t\tthat.enterAddGoodNum(that.products).then(result => { //添加物料数量\n\t\t\t\t\t\t\t\t\t\tsetTimeout(() => {\n\n\t\t\t\t\t\t\t\t\t\t\tcommon.log(uni.getStorageSync(\"user\").nickName + \"采购了'\" + that.products[0].goodsName + \"'等\" +\n\t\t\t\t\t\t\t\t\t\t\t\tthat.products\n\t\t\t\t\t\t\t\t\t\t\t\t.length + \"物料\", 4, operationId);\n\n\t\t\t\t\t\t\t\t\t\t\t//自动打印\n\t\t\t\t\t\t\t\t\t\t\t/*if (uni.getStorageSync(\"setting\").auto_print) {\n\t\t\t\t\t\t\t\t\t\t\t\tprint.autoPrint(operationId);\n\t\t\t\t\t\t\t\t\t\t\t}*/\n\n\t\t\t\t\t\t\t\t\t\t\tthat.button_disabled = false;\n\t\t\t\t\t\t\t\t\t\t\tuni.setStorageSync(\"is_option\", true);\n\t\t\t\t\t\t\t\t\t\t\tuni.removeStorageSync(\"_warehouse\")\n\t\t\t\t\t\t\t\t\t\t\tuni.removeStorageSync(\"out_warehouse\")\n\t\t\t\t\t\t\t\t\t\t\tuni.removeStorageSync(\"category\")\n\t\t\t\t\t\t\t\t\t\t\tuni.removeStorageSync(\"warehouse\")\n\t\t\t\t\t\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\t\t\t\t\t\tuni.navigateBack({\n\t\t\t\t\t\t\t\t\t\t\t\t\tdelta: 2\n\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t}, 500)\n\t\t\t\t\t\t\t\t\t\t}, 500)\n\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\t\t\tcommon.log(uni.getStorageSync(\"user\").nickName + \"采购了'\" + that.products[0].goodsName + \"'等\" + that.products\n\t\t\t\t\t\t\t\t\t\t\t.length + \"物料\", 4, operationId);\n\n\t\t\t\t\t\t\t\t\t\tlet params = {\n\t\t\t\t\t\t\t\t\t\t\t\"frist\": uni.getStorageSync(\"user\").nickName + \"采购了'\" + that.products[0].goodsName + \"'等\" + that.products\n\t\t\t\t\t\t\t\t\t\t\t\t.length + \"物料\",\n\t\t\t\t\t\t\t\t\t\t\t\"data1\": operationId,\n\t\t\t\t\t\t\t\t\t\t\t\"data2\": uni.getStorageSync(\"user\").nickName,\n\t\t\t\t\t\t\t\t\t\t\t\"data3\": \"未审核\",\n\t\t\t\t\t\t\t\t\t\t\t\"data4\": res.createdAt,\n\t\t\t\t\t\t\t\t\t\t\t\"remark\": e.detail.value.input_beizhu ? e.detail.value.input_beizhu : \"未填写\",\n\t\t\t\t\t\t\t\t\t\t\t\"url\": \"https://www.jimuzhou.com/h5/pages/report/EnteringHistory/detail/detail?id=\" + operationId,\n\t\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\t\tsend_temp.send_in_noconfrim(params);\n\n\t\t\t\t\t\t\t\t\t\t/*let params1 = {\n\t\t\t\t\t\t\t\t\t\t\t\"keyword1\": {\n\t\t\t\t\t\t\t\t\t\t\t\t\"value\": that.products[0].goodsName + \"'等\",\n\t\t\t\t\t\t\t\t\t\t\t\t\"color\": \"#173177\"\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\"keyword2\": {\n\t\t\t\t\t\t\t\t\t\t\t\t\"value\": e.detail.value.input_beizhu ? e.detail.value.input_beizhu : \"未填写\",\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\"keyword3\": {\n\t\t\t\t\t\t\t\t\t\t\t\t\"value\": res.createdAt\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\"keyword4\": {\n\t\t\t\t\t\t\t\t\t\t\t\t\"value\": uni.getStorageSync(\"user\").nickName,\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tparams1.form_Id = fromid\n\t\t\t\t\t\t\t\t\t\tparams1.id = operationId\n\t\t\t\t\t\t\t\t\t\tsend_temp.send_in_mini(params1);*/\n\n\t\t\t\t\t\t\t\t\t\t//自动打印\n\t\t\t\t\t\t\t\t\t\t/*if (uni.getStorageSync(\"setting\").auto_print) {\n\t\t\t\t\t\t\t\t\t\t\tprint.autoPrint(operationId);\n\t\t\t\t\t\t\t\t\t\t}*/\n\n\t\t\t\t\t\t\t\t\t\tthat.button_disabled = false;\n\t\t\t\t\t\t\t\t\t\tuni.setStorageSync(\"is_option\", true);\n\t\t\t\t\t\t\t\t\t\tuni.removeStorageSync(\"_warehouse\")\n\t\t\t\t\t\t\t\t\t\tuni.removeStorageSync(\"out_warehouse\")\n\t\t\t\t\t\t\t\t\t\tuni.removeStorageSync(\"category\")\n\t\t\t\t\t\t\t\t\t\tuni.removeStorageSync(\"warehouse\")\n\t\t\t\t\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\t\t\t\t\tuni.navigateBack({\n\t\t\t\t\t\t\t\t\t\t\t\tdelta: 2\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t}, 500)\n\t\t\t\t\t\t\t\t\t}, 500)\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t})\n\n\t\t\t\t},\n\t\t\t\tfunction(error) {\n\t\t\t\t\t// 批量新增异常处理\n\t\t\t\t\tconsole.log(\"异常处理\");\n\t\t\t\t});\n\t\t},\n\t\t\n\t\t//入库时增加物料数量\n\t\tenterAddGoodNum(products){\n\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\tfor (let i = 0; i < products.length; i++) {\n\t\t\t\t\tlet num = 0;\n\t\t\t\t\tconst query = Bmob.Query('Matters');\n\t\t\t\t\tquery.get(products[i].objectId).then(res => {\n\t\t\t\t\t\tconsole.log(products[i])\n\t\t\t\t\n\t\t\t\t\t\tif (products[i].selectd_model) {\n\t\t\t\t\t\t\tfor (let model of products[i].selected_model) {\n\t\t\t\t\t\t\t\tfor (let item of products[i].models) {\n\t\t\t\t\t\t\t\t\tif (item.id == model.id) {\n\t\t\t\t\t\t\t\t\t\titem.reserve = Number(item.reserve) + Number(model.num)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tdelete item.num   // 清除没用的属行\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tnum = Number(products[i].reserve) + Number(products[i].num);\n\t\t\t\t\t\t\tres.set('models', products[i].models)\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tnum = Number(products[i].reserve) + Number(products[i].num);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tres.set('reserve', num)\n\t\t\t\t\t\tres.set('stocktype', (num > products[i].warning_num) ? 1 : 0)\n\t\t\t\t\t\tres.save()\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(i == products.length - 1){\n\t\t\t\t\t\t\tresolve(true)\n\t\t\t\t\t\t}\n\t\t\t\t\t}).catch(err => {\n\t\t\t\t\t\tconsole.log(err)\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t}\n\t\n}\n","import mod from \"-!D:\\\\Downloads\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\Downloads\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\Downloads\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\Downloads\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\Downloads\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\Downloads\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Downloads\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./enterDetail.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!D:\\\\Downloads\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\Downloads\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\Downloads\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\Downloads\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\Downloads\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\Downloads\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Downloads\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./enterDetail.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}