{"version":3,"sources":["webpack:///C:/Users/Administrator/Desktop/新建文件夹 (8)/wechat/main.js","webpack:///C:/Users/Administrator/Desktop/新建文件夹 (8)/wechat/pages/commonNew/goods_out/gooSellNew/gooSellNew.vue?bc20","webpack:///C:/Users/Administrator/Desktop/新建文件夹 (8)/wechat/pages/commonNew/goods_out/gooSellNew/gooSellNew.vue?68a4","webpack:///C:/Users/Administrator/Desktop/新建文件夹 (8)/wechat/pages/commonNew/goods_out/gooSellNew/gooSellNew.vue?fa82","webpack:///C:/Users/Administrator/Desktop/新建文件夹 (8)/wechat/pages/commonNew/goods_out/gooSellNew/gooSellNew.vue?e7b2","webpack:///C:/Users/Administrator/Desktop/新建文件夹 (8)/wechat/pages/commonNew/goods_out/gooSellNew/gooSellNew.vue","webpack:///C:/Users/Administrator/Desktop/新建文件夹 (8)/wechat/pages/commonNew/goods_out/gooSellNew/gooSellNew.vue?8cf8"],"names":["createPage","Page","renderjs","component","options","__file","components","render","_vm","this","_h","$createElement","m0","_self","_c","Number","real_money","m1","haveGetMoney","m2","discountMoney","m3","otherMoney","g0","nowDay","split","m4","m5","m6","$mp","data","Object","assign","$root","recyclableRender","staticRenderFns","_withStripped","uid","that","user","uni","getStorageSync","identity","othercurrent","Images","stock","shop_name","products","button_disabled","beizhu_text","all_money","allCostPrice","really_total_money","custom","account","outType","discount","pickerTypes","desc","type","expressNum","total_num","common","getDay","sellLaterOrderId","onLoad","id","rights","i","length","total_money","toFixed","num","costPrice","onShow","removeStorageSync","onUnload","methods","inputOtherMoney","e","detail","value","inputDiscountMoney","bindDateChange","scan_code","scanCode","onlyFromCamera","success","res","console","log","scanType","result","removeImg","index","splice","upload_image","is_vip","chooseImage","count","sizeType","sourceType","file","timestamp","Date","parse","tempFilePaths","item","Bmob","File","save","then","push","url","showToast","title","icon","select_outType","formSubmit","formId","extraType","showLoading","undefined","billsObj","Array","detailObj","pointer3","Pointer","customId","set","objectId","pointer","stockId","finalRealMoney","finalDebt","finalProft","reserve","tempBills","Query","detailBills","pointer2","operater","pointer1","tempGoods_id","goodsName","modify_retailPrice","goodsId","stock_name","toString","retailPrice","selectd_model","selected_model","models","warning_num","saveAll","bills","poiID","masterId","poiID1","query","input_beizhu","pointer4","accountId","accountQuery","get","money","debt","operationId","outRedGoodNumNew","hideLoading","setStorageSync","setTimeout","navigateBack","delta","nickName","duration","redirectTo","error"],"mappings":"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","file":"pages/commonNew/goods_out/gooSellNew/gooSellNew.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'\nimport Page from './pages/commonNew/goods_out/gooSellNew/gooSellNew.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./gooSellNew.vue?vue&type=template&id=71fcdd6e&\"\nvar renderjs\nimport script from \"./gooSellNew.vue?vue&type=script&lang=js&\"\nexport * from \"./gooSellNew.vue?vue&type=script&lang=js&\"\nimport style0 from \"./gooSellNew.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"Desktop/新建文件夹 (8)/wechat/pages/commonNew/goods_out/gooSellNew/gooSellNew.vue\"\nexport default component.exports","export * from \"-!../../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./gooSellNew.vue?vue&type=template&id=71fcdd6e&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var m0 = Number(_vm.real_money)\n  var m1 = Number(_vm.haveGetMoney)\n  var m2 = Number(_vm.discountMoney)\n  var m3 = Number(_vm.otherMoney)\n  var g0 = _vm.nowDay.split(\" \")\n  var m4 = Number(_vm.real_money)\n  var m5 = Number(_vm.discountMoney)\n  var m6 = Number(_vm.otherMoney)\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        m0: m0,\n        m1: m1,\n        m2: m2,\n        m3: m3,\n        g0: g0,\n        m4: m4,\n        m5: m5,\n        m6: m6\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./gooSellNew.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./gooSellNew.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport Bmob from \"hydrogen-js-sdk\";\nimport common from '@/utils/common.js';\nimport send_temp from '@/utils/send_temp.js';\nimport print from '@/utils/print.js';\nimport _goods from '@/utils/goods.js';\n\nlet uid;\nlet that;\nlet shopId;\nlet shop; //门店\n\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tuser: uni.getStorageSync(\"user\"),\n\t\t\tidentity: uni.getStorageSync(\"identity\"),\n\t\t\tothercurrent: '',\n\t\t\tImages: [], //上传凭证图\n\t\t\tstock: '', //店仓\n\t\t\tshop_name: '',\n\t\t\tproducts: null,\n\t\t\tbutton_disabled: false,\n\t\t\tbeizhu_text: \"\",\n\t\t\treal_money: 0, //实际付款金额\n\t\t\tall_money: 0, //总价\n\t\t\tallCostPrice: 0, //成本总额\n\t\t\treally_total_money: 0,\n\t\t\tcustom: null, //制造商\n\t\t\taccount: '', //收款账户\n\t\t\toutType: '', //发货方式\n\t\t\tdiscount: '', //会员率\n\t\t\tpickerTypes: [{\n\t\t\t\t\tdesc: \"自提\",\n\t\t\t\t\ttype: 1\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tdesc: \"快递\",\n\t\t\t\t\ttype: 2\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tdesc: \"物流\",\n\t\t\t\t\ttype: 3\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tdesc: \"送货上门\",\n\t\t\t\t\ttype: 4\n\t\t\t\t},\n\t\t\t],\n\t\t\texpressNum: '', //快递单号\n\t\t\ttotal_num: 0, //实际的总数量\n\n\t\t\tnowDay: common.getDay(0, true, true), //时间\n\t\t\totherMoney: 0, //其他金额 +\n\t\t\tdiscountMoney: 0, //优惠金额 -\n\t\t\thaveGetMoney: 0, //预付款 -\n\t\t\tsellLaterOrderId: '', //预付订单id\n\t\t}\n\t},\n\tonLoad(options) {\n\t\tthat = this;\n\t\tuid = uni.getStorageSync(\"uid\");\n\t\tthat.products = uni.getStorageSync(\"products\");\n\t\tthat.sellLaterOrderId = options.id || ''\n\n\t\tif (that.user.rights && that.user.rights.othercurrent) {\n\t\t\tthat.othercurrent = that.user.rights.othercurrent\n\t\t}\n\n\t\tfor (let i = 0; i < that.products.length; i++) {\n\t\t\tthat.all_money = Number((that.products[i].total_money + that.all_money).toFixed(2)) //修改价格后的总价\n\t\t\tthat.really_total_money = Number((that.products[i].really_total_money + that.really_total_money).toFixed(2)) //未修改价格时的总价\n\t\t\tthat.total_num += Number(that.products[i].num)\n\t\t\tthat.allCostPrice = that.allCostPrice + (Number(that.products[i].num) * Number(that.products[i].costPrice)) //总成本价\n\t\t}\n\t\tthat.real_money = Number(that.all_money.toFixed(2))\n\t\tthat.haveGetMoney = Number(that.all_money.toFixed(2))\n\t},\n\tonShow() {\n\t\tthat.custom = uni.getStorageSync(\"custom\")\n\t\tthat.account = uni.getStorageSync(\"account\")\n\t\tthat.stock = uni.getStorageSync(\"warehouse\") ? uni.getStorageSync(\"warehouse\")[0].stock : ''\n\n\t\tif (uni.getStorageSync(\"haveGetMoney\")) {\n\t\t\tthat.haveGetMoney = Number(uni.getStorageSync(\"haveGetMoney\").toFixed(2))\n\t\t\tuni.removeStorageSync(\"haveGetMoney\")\n\t\t}\n\t\tif (uni.getStorageSync(\"otherMoney\")) {\n\t\t\tthat.otherMoney = Number(uni.getStorageSync(\"otherMoney\").toFixed(2))\n\t\t\tthat.haveGetMoney = that.haveGetMoney+that.otherMoney \n\t\t\tuni.removeStorageSync(\"otherMoney\")\n\t\t}\n\t},\n\n\tonUnload() {\n\t\tuni.removeStorageSync(\"haveGetMoney\")\n\t\tuni.removeStorageSync(\"otherMoney\")\n\t\tuni.removeStorageSync(\"products\")\n\t},\n\n\tmethods: {\n\n\t\tinputOtherMoney(e) {\n\t\t\tthat.haveGetMoney = Number(that.all_money.toFixed(2)) + Number(e.detail.value) - Number(that.discountMoney)\n\t\t},\n\n\t\tinputDiscountMoney(e) {\n\t\t\tthat.haveGetMoney = Number(that.all_money.toFixed(2)) + Number(that.otherMoney) - Number(e.detail.value)\n\t\t},\n\n\t\t//选择时间\n\t\tbindDateChange(e) {\n\t\t\tthat.nowDay = e.detail.value + \" 00:00:00\"\n\t\t},\n\n\t\t//扫码操作\n\t\tscan_code() {\n\n\n\n\n\n\n\n\t\t\tuni.scanCode({\n\t\t\t\tonlyFromCamera: true,\n\t\t\t\tsuccess: function(res) {\n\t\t\t\t\tconsole.log('条码类型：' + res.scanType);\n\t\t\t\t\tconsole.log('条码内容：' + res.result);\n\t\t\t\t\tthat.expressNum = res.result\n\t\t\t\t}\n\t\t\t});\n\n\t\t},\n\n\t\t//移除此张照片\n\t\tremoveImg(index) {\n\t\t\tthat.Images.splice(index, 1)\n\t\t\tthat.Images = that.Images\n\t\t},\n\n\t\t//上传凭证图\n\t\tupload_image() {\n\t\t\tif (that.user.is_vip) {\n\t\t\t\tuni.chooseImage({\n\t\t\t\t\tcount: 3, //默认9\n\t\t\t\t\tsizeType: ['compressed'], //可以指定是原图还是压缩图，默认二者都有\n\t\t\t\t\tsourceType: ['album', 'camera'], //从相册选择\n\t\t\t\t\tsuccess: function(res) {\n\t\t\t\t\t\tconsole.log(res);\n\t\t\t\t\t\tlet timestamp = Date.parse(new Date());\n\t\t\t\t\t\tlet tempFilePaths = res.tempFilePaths\n\t\t\t\t\t\tlet file;\n\t\t\t\t\t\tfor (let item of tempFilePaths) {\n\t\t\t\t\t\t\tfile = Bmob.File(timestamp + '.jpg', item);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tfile.save().then(res => {\n\t\t\t\t\t\t\tfor (let item of res) {\n\t\t\t\t\t\t\t\tthat.Images.push(item.url);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: \"您还不是会员，无法使用\",\n\t\t\t\t\ticon: 'none'\n\t\t\t\t})\n\t\t\t}\n\t\t},\n\n\t\t//选择物流方式\n\t\tselect_outType(e) {\n\t\t\t//console.log(e)\n\t\t\tthat.outType = that.pickerTypes[e.detail.value]\n\n\t\t\tif (that.outType.type != 2 || that.outType.type != 3) {\n\t\t\t\tthat.expressNum = ''\n\t\t\t}\n\t\t},\n\n\t\tformSubmit: function(e) {\n\t\t\t//console.log(e)\n\t\t\t//console.log(res)\n\t\t\tlet identity = uni.getStorageSync(\"identity\") // 身份识别标志\n\t\t\tthis.button_disabled = true;\n\t\t\tlet fromid = e.detail.formId\n\t\t\tlet extraType = 1 // 判断是销售还是出库\n\n\t\t\tuni.showLoading({\n\t\t\t\ttitle: \"上传中...\"\n\t\t\t});\n\n\t\t\tif (uni.getStorageSync(\"custom\") == \"\" || uni.getStorageSync(\"custom\") == undefined) {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ticon: \"none\",\n\t\t\t\t\ttitle: \"请选择客户\"\n\t\t\t\t});\n\t\t\t\tthis.button_disabled = false;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlet billsObj = new Array();\n\t\t\tlet detailObj = [];\n\n\t\t\tlet pointer3 = Bmob.Pointer('customs')\n\t\t\tlet customId = pointer3.set(uni.getStorageSync(\"custom\").objectId)\n\n\t\t\tlet pointer = Bmob.Pointer('stocks');\n\t\t\tlet stockId = '';\n\t\t\tif (that.stock && that.stock.objectId) {\n\t\t\t\tstockId = pointer.set(that.stock.objectId);\n\t\t\t}\n\n\t\t\tlet finalRealMoney = Number(that.real_money) - Number(that.discountMoney) + Number(that.otherMoney); //最终应付款\n\t\t\tlet finalDebt = finalRealMoney - Number(that.haveGetMoney) // 最终欠款\n\t\t\tlet finalProft = finalRealMoney - that.allCostPrice // 最终盈利\n\t\t\tfor (let i = 0; i < this.products.length; i++) {\n\t\t\t\tlet num = Number(this.products[i].reserve) - this.products[i].num;\n\n\t\t\t\t//单据\n\t\t\t\tlet tempBills = Bmob.Query('Bills');\n\t\t\t\tlet detailBills = {}\n\n\t\t\t\tlet pointer = Bmob.Pointer('_User')\n\t\t\t\tlet user = pointer.set(uid)\n\t\t\t\tlet pointer2 = Bmob.Pointer('_User')\n\t\t\t\tlet operater = pointer2.set(uni.getStorageSync(\"masterId\"))\n\t\t\t\tlet pointer1 = Bmob.Pointer('Goods')\n\t\t\t\tlet tempGoods_id = pointer1.set(this.products[i].objectId);\n\n\t\t\t\ttempBills.set('custom', customId);\n\t\t\t\ttempBills.set('goodsName', this.products[i].goodsName);\n\t\t\t\ttempBills.set('retailPrice', this.products[i].modify_retailPrice);\n\t\t\t\ttempBills.set('num', Number(this.products[i].num));\n\t\t\t\ttempBills.set('total_money', this.products[i].total_money);\n\t\t\t\ttempBills.set('really_total_money', this.products[i].really_total_money);\n\t\t\t\ttempBills.set('allCostPrice', Number(that.products[i].num) * Number(that.products[i].costPrice));\n\t\t\t\ttempBills.set('goodsId', tempGoods_id);\n\t\t\t\ttempBills.set('userId', user);\n\t\t\t\ttempBills.set('type', -1);\n\t\t\t\ttempBills.set('extra_type', extraType);\n\t\t\t\ttempBills.set('opreater', operater);\n\t\t\t\ttempBills.set(\"createdTime\", {\n\t\t\t\t\t\"__type\": \"Date\",\n\t\t\t\t\t\"iso\": that.nowDay\n\t\t\t\t});\n\n\t\t\t\tlet goodsId = {}\n\t\t\t\tif (that.stock && that.stock.objectId) {\n\t\t\t\t\ttempBills.set(\"status\", true); // 操作单详情\n\t\t\t\t\ttempBills.set(\"stock\", stockId);\n\t\t\t\t\tdetailBills.stock = that.stock.stock_name\n\t\t\t\t} else {\n\t\t\t\t\ttempBills.set(\"status\", false);\n\t\t\t\t}\n\t\t\t\tdetailBills.goodsName = this.products[i].goodsName\n\t\t\t\tdetailBills.modify_retailPrice = (this.products[i].modify_retailPrice).toString()\n\t\t\t\tdetailBills.retailPrice = this.products[i].retailPrice\n\t\t\t\tdetailBills.total_money = this.products[i].total_money\n\t\t\t\tgoodsId.costPrice = this.products[i].costPrice\n\t\t\t\tgoodsId.retailPrice = this.products[i].retailPrice\n\t\t\t\tgoodsId.objectId = this.products[i].objectId\n\t\t\t\tgoodsId.reserve = num\n\t\t\t\tif (this.products[i].selectd_model) {\n\t\t\t\t\tgoodsId.selected_model = this.products[i].selected_model\n\t\t\t\t\tgoodsId.models = this.products[i].models\n\t\t\t\t}\n\t\t\t\tdetailBills.goodsId = goodsId\n\t\t\t\tdetailBills.type = -1\n\t\t\t\tdetailBills.num = this.products[i].num\n\t\t\t\tdetailBills.warning_num = this.products[i].warning_num\n\n\t\t\t\t/*if (shop) {\n\t\t\t\t\ttempBills.set(\"shop\", shopId);\n\t\t\t\t\tcommon.record_shopOut(shop.objectId, shop.have_out + this.products[i].num)\n\t\t\t\t}*/\n\n\t\t\t\tbillsObj.push(tempBills)\n\t\t\t\tdetailObj.push(detailBills)\n\t\t\t}\n\t\t\t//插入单据\n\t\t\tBmob.Query('Bills').saveAll(billsObj).then(function(res) {\n\t\t\t\t\t//console.log(\"批量新增单据成功\", res);\n\t\t\t\t\tlet bills = []\n\t\t\t\t\tfor (let i = 0; i < res.length; i++) {\n\t\t\t\t\t\tbills.push(res[i].success.objectId)\n\t\t\t\t\t}\n\n\t\t\t\t\tlet pointer = Bmob.Pointer('_User')\n\t\t\t\t\tlet poiID = pointer.set(uid);\n\n\t\t\t\t\tlet masterId = uni.getStorageSync(\"masterId\");\n\t\t\t\t\tlet pointer1 = Bmob.Pointer('_User')\n\t\t\t\t\tlet poiID1 = pointer1.set(masterId);\n\n\t\t\t\t\tlet query = Bmob.Query('order_opreations');\n\t\t\t\t\t//query.set(\"relations\", relID);\n\t\t\t\t\tquery.set(\"detail\", detailObj);\n\t\t\t\t\tquery.set(\"bills\", bills);\n\t\t\t\t\tquery.set(\"beizhu\", e.detail.value.input_beizhu);\n\t\t\t\t\tquery.set(\"type\", -1);\n\t\t\t\t\tquery.set('extra_type', extraType);\n\t\t\t\t\tquery.set(\"opreater\", poiID1);\n\t\t\t\t\tquery.set(\"master\", poiID);\n\t\t\t\t\tquery.set(\"real_num\", that.total_num);\n\t\t\t\t\tquery.set('goodsName', that.products[0].goodsName);\n\n\t\t\t\t\tquery.set(\"all_money\", that.all_money); //实际产品零售价X数量\n\t\t\t\t\tquery.set(\"allCostPrice\", that.allCostPrice);\n\t\t\t\t\tquery.set(\"profit\", finalProft);\n\t\t\t\t\tquery.set('otherMoney', Number(that.otherMoney)); //其他金额 +\n\t\t\t\t\tquery.set('discountMoney', Number(that.discountMoney)); //优惠金额 -\n\t\t\t\t\tquery.set('haveGetMoney', Number(that.haveGetMoney)); //预付款 -\n\t\t\t\t\tquery.set('real_money', finalRealMoney);\n\t\t\t\t\tquery.set('debt', finalDebt);\n\t\t\t\t\t//if (shop) query.set(\"shop\", shopId);\n\t\t\t\t\tif (that.account) {\n\t\t\t\t\t\tlet pointer4 = Bmob.Pointer('accounts')\n\t\t\t\t\t\tlet accountId = pointer4.set(that.account.objectId)\n\t\t\t\t\t\tquery.set(\"account\", accountId);\n\n\t\t\t\t\t\tconst accountQuery = Bmob.Query('accounts');\n\t\t\t\t\t\taccountQuery.get(that.account.objectId).then(res => {\n\t\t\t\t\t\t\tres.set('money', res.money + Number(that.haveGetMoney));\n\t\t\t\t\t\t\tres.save().then(res => {})\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t\tquery.set(\"recordType\", \"new\"); //\"new\"代表新版的销售记录\n\t\t\t\t\tquery.set(\"createdTime\", {\n\t\t\t\t\t\t\"__type\": \"Date\",\n\t\t\t\t\t\t\"iso\": that.nowDay\n\t\t\t\t\t});\n\n\n\t\t\t\t\tquery.set(\"custom\", customId);\n\t\t\t\t\tif (finalDebt > 0) {\n\t\t\t\t\t\tlet query = Bmob.Query('customs');\n\t\t\t\t\t\tquery.get(that.custom.objectId).then(res => {\n\t\t\t\t\t\t\tvar debt = (res.debt == null) ? 0 : res.debt;\n\t\t\t\t\t\t\tdebt = debt + finalDebt;\n\t\t\t\t\t\t\tquery.get(that.custom.objectId).then(res => {\n\t\t\t\t\t\t\t\tres.set('debt', debt)\n\t\t\t\t\t\t\t\tres.save()\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\n\t\t\t\t\tif (that.outType) {\n\t\t\t\t\t\tquery.set(\"typeDesc\", that.outType.desc);\n\t\t\t\t\t\tquery.set(\"expressNum\", that.expressNum);\n\t\t\t\t\t}\n\t\t\t\t\tquery.set(\"Images\", that.Images);\n\t\t\t\t\tif (that.stock) {\n\t\t\t\t\t\tquery.set(\"status\", true); // 操作单详情\n\t\t\t\t\t\tquery.set(\"stock\", stockId);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tquery.set(\"status\", false); // 操作单详情\n\t\t\t\t\t}\n\t\t\t\t\tquery.save().then(res => {\n\t\t\t\t\t\t//console.log(\"添加操作历史记录成功\", res);\n\t\t\t\t\t\tlet operationId = res.objectId;\n\n\t\t\t\t\t\tif (that.stock && that.stock.objectId) {\n\t\t\t\t\t\t\tcommon.outRedGoodNumNew(that.products).then(res => {\n\t\t\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\t\t\tuni.removeStorageSync(\"customs\"); //移除这个缓存\n\t\t\t\t\t\t\t\tuni.removeStorageSync(\"_warehouse\")\n\t\t\t\t\t\t\t\tuni.removeStorageSync(\"out_warehouse\")\n\t\t\t\t\t\t\t\tuni.removeStorageSync(\"category\")\n\t\t\t\t\t\t\t\tuni.setStorageSync(\"is_option\", true);\n\n\n\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\ttitle: \"销售出库成功\"\n\t\t\t\t\t\t\t\t})\n\n\t\t\t\t\t\t\t\tsetTimeout(function() {\n\n\t\t\t\t\t\t\t\t\tif (that.sellLaterOrderId) {\n\n\t\t\t\t\t\t\t\t\t\tquery.set('id', that.sellLaterOrderId) //需要修改的objectId\n\t\t\t\t\t\t\t\t\t\tquery.set('orderSellId', operationId) //需要修改的objectId\n\t\t\t\t\t\t\t\t\t\tquery.set(\"status\", true)\n\t\t\t\t\t\t\t\t\t\tquery.save().then(res => {\n\t\t\t\t\t\t\t\t\t\t\tuni.navigateBack({\n\t\t\t\t\t\t\t\t\t\t\t\tdelta: 2\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\tthat.button_disabled = false;\n\t\t\t\t\t\t\t\t\t\t\tcommon.log(uni.getStorageSync(\"user\").nickName + \"销售了'\" + that.products[0].goodsName + \"'等\" +\n\t\t\t\t\t\t\t\t\t\t\t\tthat.products\n\t\t\t\t\t\t\t\t\t\t\t\t.length + \"商品，已经出库\", -11, operationId);\n\t\t\t\t\t\t\t\t\t\t\tconsole.log(res)\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tuni.navigateBack({\n\t\t\t\t\t\t\t\t\t\t\tdelta: 2\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\tthat.button_disabled = false;\n\t\t\t\t\t\t\t\t\t\tcommon.log(uni.getStorageSync(\"user\").nickName + \"销售了'\" + that.products[0].goodsName + \"'等\" + that.products\n\t\t\t\t\t\t\t\t\t\t\t.length + \"商品，已经出库\", -11, operationId);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}, 500)\n\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle: '产品销售成功',\n\t\t\t\t\t\t\t\ticon: 'success',\n\t\t\t\t\t\t\t\tduration: 500,\n\t\t\t\t\t\t\t\tsuccess: function() {\n\t\t\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\t\t\t\t\tuni.removeStorageSync(\"customs\"); //移除这个缓存\n\t\t\t\t\t\t\t\t\t\tuni.removeStorageSync(\"_warehouse\")\n\t\t\t\t\t\t\t\t\t\tuni.removeStorageSync(\"out_warehouse\")\n\t\t\t\t\t\t\t\t\t\tuni.removeStorageSync(\"category\")\n\t\t\t\t\t\t\t\t\t\tuni.setStorageSync(\"is_option\", true);\n\n\t\t\t\t\t\t\t\t\t\tif (that.sellLaterOrderId) {\n\t\t\t\t\t\t\t\t\t\t\tquery.set('id', that.sellLaterOrderId) //需要修改的objectId\n\t\t\t\t\t\t\t\t\t\t\tquery.set('orderSellId', operationId) //需要修改的objectId\n\t\t\t\t\t\t\t\t\t\t\tquery.set(\"status\", true)\n\t\t\t\t\t\t\t\t\t\t\tquery.save().then(res => {\n\t\t\t\t\t\t\t\t\t\t\t\tthat.button_disabled = false;\n\t\t\t\t\t\t\t\t\t\t\t\tcommon.log(uni.getStorageSync(\"user\").nickName + \"销售了'\" + that.products[0].goodsName + \"'等\" +\n\t\t\t\t\t\t\t\t\t\t\t\t\tthat.products\n\t\t\t\t\t\t\t\t\t\t\t\t\t.length + \"商品，暂未出库\", -11, operationId);\n\t\t\t\t\t\t\t\t\t\t\t\tuni.redirectTo({\n\t\t\t\t\t\t\t\t\t\t\t\t\turl: '/pages/report/EnteringHistory/SellDetail/SellDetail?id=' + operationId,\n\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tthat.button_disabled = false;\n\t\t\t\t\t\t\t\t\t\t\tcommon.log(uni.getStorageSync(\"user\").nickName + \"销售了'\" + that.products[0].goodsName + \"'等\" + that\n\t\t\t\t\t\t\t\t\t\t\t\t.products\n\t\t\t\t\t\t\t\t\t\t\t\t.length + \"商品，暂未出库\", -11, operationId);\n\t\t\t\t\t\t\t\t\t\t\tuni.redirectTo({\n\t\t\t\t\t\t\t\t\t\t\t\turl: '/pages/report/EnteringHistory/SellDetail/SellDetail?id=' + operationId,\n\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t}, 500)\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\n\t\t\t\t\t})\n\t\t\t\t},\n\t\t\t\tfunction(error) {\n\t\t\t\t\t// 批量新增异常处理\n\t\t\t\t\tconsole.log(\"异常处理\");\n\t\t\t\t});\n\n\t\t}\n\t}\n}\n","import mod from \"-!../../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-2!../../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./gooSellNew.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-2!../../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./gooSellNew.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}