{"version":3,"sources":["webpack:///C:/Users/Administrator/Desktop/新建文件夹 (8)/wechat/main.js","webpack:///C:/Users/Administrator/Desktop/新建文件夹 (8)/wechat/pages/finance/outRecord/outRecord.vue?6946","webpack:///C:/Users/Administrator/Desktop/新建文件夹 (8)/wechat/pages/finance/outRecord/outRecord.vue?9d78","webpack:///C:/Users/Administrator/Desktop/新建文件夹 (8)/wechat/pages/finance/outRecord/outRecord.vue?ecb9","webpack:///C:/Users/Administrator/Desktop/新建文件夹 (8)/wechat/pages/finance/outRecord/outRecord.vue?5459","webpack:///C:/Users/Administrator/Desktop/新建文件夹 (8)/wechat/pages/finance/outRecord/outRecord.vue","webpack:///C:/Users/Administrator/Desktop/新建文件夹 (8)/wechat/pages/finance/outRecord/outRecord.vue?0877"],"names":["createPage","Page","renderjs","component","options","__file","components","render","_vm","this","_h","$createElement","g0","_self","_c","nowDay","split","$mp","data","Object","assign","$root","recyclableRender","staticRenderFns","_withStripped","uid","that","fristClassId","secondClassId","producer","user","uni","getStorageSync","identity","Images","account","button_disabled","beizhu_text","real_money","common","getDay","type","category","onLoad","removeStorageSync","onShow","pointer2","Bmob","Pointer","set","parent","objectId","pointer3","methods","bindDateChange","e","detail","value","removeImg","index","splice","upload_image","is_vip","chooseImage","count","sizeType","sourceType","success","res","file","timestamp","Date","parse","tempFilePaths","item","File","save","then","push","url","showToast","title","icon","formSubmit","undefined","query","Query","get","money","Number","accountID","pointer","poiID","masterId","pointer1","poiID1","log","nickName","navigateBack","delta","setTimeout","catch","err","console","debt","producerID","producers","producer_detail","producer_name"],"mappings":"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","file":"pages/finance/outRecord/outRecord.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'\nimport Page from './pages/finance/outRecord/outRecord.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./outRecord.vue?vue&type=template&id=67a0d52c&\"\nvar renderjs\nimport script from \"./outRecord.vue?vue&type=script&lang=js&\"\nexport * from \"./outRecord.vue?vue&type=script&lang=js&\"\nimport style0 from \"./outRecord.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"新建文件夹 (8)/wechat/pages/finance/outRecord/outRecord.vue\"\nexport default component.exports","export * from \"-!../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./outRecord.vue?vue&type=template&id=67a0d52c&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 = _vm.nowDay.split(\" \")\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./outRecord.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./outRecord.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport Bmob from \"hydrogen-js-sdk\";\nimport common from '@/utils/common.js';\nimport producers from '@/utils/producers.js';\n\nlet uid;\nlet that;\nlet fristClassId\nlet secondClassId\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tproducer: {},\n\t\t\tuser: uni.getStorageSync(\"user\"),\n\t\t\tidentity: uni.getStorageSync(\"identity\"),\n\t\t\tImages: [], //上传凭证图\n\t\t\taccount: '',\n\t\t\tbutton_disabled: false,\n\t\t\tbeizhu_text: \"\",\n\t\t\treal_money: '',\n\t\t\tnowDay: common.getDay(0, true, true), //时间\n\t\t\ttype: '', //'record'代表记一笔\n\t\t\tcategory: '', //选择的类别\n\t\t}\n\t},\n\tonLoad(options) {\n\t\tthat = this;\n\t\tuid = uni.getStorageSync(\"uid\");\n\t\tthat.type = options.type || ''\n\n\t\tif (options.type == \"record\") {\n\t\t\tuni.removeStorageSync(\"producer\")\n\t\t}\n\t},\n\n\tonShow() {\n\t\tthat.producer = uni.getStorageSync(\"producer\")\n\t\tthat.account = uni.getStorageSync(\"account\")\n\n\t\tif (uni.getStorageSync(\"category\")) {\n\t\t\tthat.category = uni.getStorageSync(\"category\")\n\n\t\t\tif (that.category.type == 2) {\n\t\t\t\tlet pointer2 = Bmob.Pointer('financeFristClass')\n\t\t\t\tfristClassId = pointer2.set(that.category.parent.objectId) //一级分类id关联\n\n\t\t\t\tlet pointer3 = Bmob.Pointer('financeSecondClass')\n\t\t\t\tsecondClassId = pointer3.set(that.category.objectId) //二级分类关联\n\n\t\t\t} else {\n\t\t\t\tlet pointer2 = Bmob.Pointer('financeFristClass')\n\t\t\t\tfristClassId = pointer2.set(that.category.objectId) //一级分类id关联\n\t\t\t}\n\t\t}\n\t},\n\tmethods: {\n\t\t//选择时间\n\t\tbindDateChange(e) {\n\t\t\tthat.nowDay = e.detail.value + \" 00:00:00\"\n\t\t},\n\n\t\t//移除此张照片\n\t\tremoveImg(index) {\n\t\t\tthat.Images.splice(index, 1)\n\t\t\tthat.Images = that.Images\n\t\t},\n\n\t\t//上传凭证图\n\t\tupload_image() {\n\t\t\tif (that.user.is_vip) {\n\t\t\t\tuni.chooseImage({\n\t\t\t\t\tcount: 3, //默认9\n\t\t\t\t\tsizeType: ['compressed'], //可以指定是原图还是压缩图，默认二者都有\n\t\t\t\t\tsourceType: ['album', 'camera'], //从相册选择\n\t\t\t\t\tsuccess: function(res) {\n\t\t\t\t\t\t//console.log(res);\n\t\t\t\t\t\tlet timestamp = Date.parse(new Date());\n\t\t\t\t\t\tlet tempFilePaths = res.tempFilePaths\n\t\t\t\t\t\tlet file;\n\t\t\t\t\t\tfor (let item of tempFilePaths) {\n\t\t\t\t\t\t\tfile = Bmob.File(timestamp + '.jpg', item);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tfile.save().then(res => {\n\t\t\t\t\t\t\tfor (let item of res) {\n\t\t\t\t\t\t\t\tthat.Images.push(item.url);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: \"您还不是会员，无法使用\",\n\t\t\t\t\ticon: 'none'\n\t\t\t\t})\n\t\t\t}\n\t\t},\n\n\t\t//表单提交\n\t\tformSubmit: function(e) {\n\t\t\tthat.button_disabled = true;\n\n\t\t\tif (that.type == \"record\") {\n\t\t\t\tif (uni.getStorageSync(\"category\") == \"\" || uni.getStorageSync(\"category\") == undefined) {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ticon: \"none\",\n\t\t\t\t\t\ttitle: \"请选择支出类别\"\n\t\t\t\t\t});\n\t\t\t\t\tthis.button_disabled = false;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (uni.getStorageSync(\"producer\") == \"\" || uni.getStorageSync(\"producer\") == undefined) {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ticon: \"none\",\n\t\t\t\t\t\ttitle: \"请选择供货商\"\n\t\t\t\t\t});\n\t\t\t\t\tthis.button_disabled = false;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (uni.getStorageSync(\"account\") == \"\" || uni.getStorageSync(\"account\") == undefined) {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ticon: \"none\",\n\t\t\t\t\ttitle: \"请选择付款账户\"\n\t\t\t\t});\n\t\t\t\tthis.button_disabled = false;\n\t\t\t\treturn;\n\t\t\t} else if (that.real_money == \"\") {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ticon: \"none\",\n\t\t\t\t\ttitle: \"请输入本次实付\"\n\t\t\t\t});\n\t\t\t\tthis.button_disabled = false;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (that.type == \"record\") {\n\t\t\t\tconst query = Bmob.Query('accounts');\n\t\t\t\tquery.get(that.account.objectId).then(res => {\n\t\t\t\t\tres.set('money', res.money - Number(that.real_money));\n\t\t\t\t\tres.save().then(res => {\n\t\t\t\t\t\t\n\t\t\t\t\t\tlet account = Bmob.Pointer('accounts');\n\t\t\t\t\t\tlet accountID = account.set(that.account.objectId);\n\t\t\t\t\t\tlet pointer = Bmob.Pointer('_User')\n\t\t\t\t\t\tlet poiID = pointer.set(uid);\n\t\t\t\t\t\tlet masterId = uni.getStorageSync(\"masterId\");\n\t\t\t\t\t\tlet pointer1 = Bmob.Pointer('_User')\n\t\t\t\t\t\tlet poiID1 = pointer1.set(masterId);\n\n\t\t\t\t\t\tconst query = Bmob.Query('order_opreations');\n\t\t\t\t\t\tquery.set(\"account\", accountID)\n\t\t\t\t\t\tquery.set(\"master\", poiID);\n\t\t\t\t\t\tquery.set(\"opreater\", poiID1)\n\t\t\t\t\t\tquery.set(\"real_money\", Number(that.real_money))\n\t\t\t\t\t\tquery.set(\"beizhu\", that.beizhu_text)\n\t\t\t\t\t\tquery.set(\"createdTime\", {\n\t\t\t\t\t\t\t\"__type\": \"Date\",\n\t\t\t\t\t\t\t\"iso\": that.nowDay\n\t\t\t\t\t\t}); // 操作单详情\n\t\t\t\t\t\tquery.set(\"type\", 1);\n\t\t\t\t\t\tquery.set(\"extra_type\", 6);\n\t\t\t\t\t\tquery.set(\"Images\", that.Images);\n\t\t\t\t\t\tif (that.category.type == 1) {\n\t\t\t\t\t\t\tquery.set(\"fristClass\", fristClassId)\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tquery.set(\"secondClass\", secondClassId)\n\t\t\t\t\t\t}\n\t\t\t\t\t\tquery.save().then(res => {\n\t\t\t\t\t\t\tthis.button_disabled = false;\n\n\t\t\t\t\t\t\tuni.removeStorageSync(\"account\")\n\t\t\t\t\t\t\tthat.producer = res\n\t\t\t\t\t\t\tcommon.log(uni.getStorageSync(\"user\").nickName + \"记录了付款￥\" + that.real_money + \"元\", 6, res.objectId);\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tuni.navigateBack({\n\t\t\t\t\t\t\t\tdelta: 1\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\ticon: \"none\",\n\t\t\t\t\t\t\t\t\ttitle: '付款成功',\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}, 1000)\n\n\t\t\t\t\t\t}).catch(err => {\n\t\t\t\t\t\t\tconsole.log(err)\n\t\t\t\t\t\t})\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\tconst query = Bmob.Query('producers');\n\t\t\t\tquery.get(that.producer.objectId).then(res => {\n\t\t\t\t\tif (res.debt - Number(that.real_money) < 0) {\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ticon: \"none\",\n\t\t\t\t\t\t\ttitle: '付款金额过大',\n\t\t\t\t\t\t})\n\t\t\t\t\t\tthis.button_disabled = false;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tres.set('debt', res.debt - Number(that.real_money));\n\t\t\t\t\t\tres.save().then(res => {\n\t\t\t\t\t\t\tconst query = Bmob.Query('accounts');\n\t\t\t\t\t\t\tquery.get(that.account.objectId).then(res => {\n\t\t\t\t\t\t\t\tres.set('money', res.money - Number(that.real_money));\n\t\t\t\t\t\t\t\tres.save().then(res => {\n\t\t\t\t\t\t\t\t\tlet producer = Bmob.Pointer('producers');\n\t\t\t\t\t\t\t\t\tlet producerID = producer.set(that.producer.objectId);\n\t\t\t\t\t\t\t\t\tlet account = Bmob.Pointer('accounts');\n\t\t\t\t\t\t\t\t\tlet accountID = account.set(that.account.objectId);\n\t\t\t\t\t\t\t\t\tlet pointer = Bmob.Pointer('_User')\n\t\t\t\t\t\t\t\t\tlet poiID = pointer.set(uid);\n\t\t\t\t\t\t\t\t\tlet masterId = uni.getStorageSync(\"masterId\");\n\t\t\t\t\t\t\t\t\tlet pointer1 = Bmob.Pointer('_User')\n\t\t\t\t\t\t\t\t\tlet poiID1 = pointer1.set(masterId);\n\n\t\t\t\t\t\t\t\t\tconst query = Bmob.Query('order_opreations');\n\t\t\t\t\t\t\t\t\tquery.set(\"account\", accountID)\n\t\t\t\t\t\t\t\t\tquery.set(\"producer\", producerID)\n\t\t\t\t\t\t\t\t\tquery.set(\"master\", poiID);\n\t\t\t\t\t\t\t\t\tquery.set(\"opreater\", poiID1)\n\t\t\t\t\t\t\t\t\tquery.set(\"real_money\", Number(that.real_money))\n\t\t\t\t\t\t\t\t\tquery.set(\"beizhu\", that.beizhu_text)\n\t\t\t\t\t\t\t\t\tquery.set(\"debt\", that.producer.debt || 0)\n\t\t\t\t\t\t\t\t\tquery.set(\"createdTime\", {\n\t\t\t\t\t\t\t\t\t\t\"__type\": \"Date\",\n\t\t\t\t\t\t\t\t\t\t\"iso\": that.nowDay\n\t\t\t\t\t\t\t\t\t}); // 操作单详情\n\t\t\t\t\t\t\t\t\tquery.set(\"type\", 1);\n\t\t\t\t\t\t\t\t\tquery.set(\"extra_type\", 5);\n\t\t\t\t\t\t\t\t\tquery.set(\"Images\", that.Images);\n\t\t\t\t\t\t\t\t\tquery.save().then(res => {\n\t\t\t\t\t\t\t\t\t\tthis.button_disabled = false;\n\n\t\t\t\t\t\t\t\t\t\tproducers.producer_detail(that.producer.objectId).then(res => {\n\t\t\t\t\t\t\t\t\t\t\tuni.removeStorageSync(\"account\")\n\t\t\t\t\t\t\t\t\t\t\tthat.producer = res\n\t\t\t\t\t\t\t\t\t\t\tcommon.log(uni.getStorageSync(\"user\").nickName + \"操作'\" + that.producer.producer_name +\n\t\t\t\t\t\t\t\t\t\t\t\t\"'供货商付款￥\" + that.real_money + \"元\", 6, res.objectId);\n\n\t\t\t\t\t\t\t\t\t\t\tuni.navigateBack({\n\t\t\t\t\t\t\t\t\t\t\t\tdelta: 1\n\t\t\t\t\t\t\t\t\t\t\t})\n\n\t\t\t\t\t\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\t\t\t\ticon: \"none\",\n\t\t\t\t\t\t\t\t\t\t\t\t\ttitle: '付款成功',\n\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t}, 1000)\n\t\t\t\t\t\t\t\t\t\t})\n\n\t\t\t\t\t\t\t\t\t}).catch(err => {\n\t\t\t\t\t\t\t\t\t\tconsole.log(err)\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t})\n\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t}).catch(err => {\n\t\t\t\t\tconsole.log(err)\n\t\t\t\t})\n\t\t\t}\n\n\n\n\t\t},\n\t}\n}\n","import mod from \"-!../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-2!../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./outRecord.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-2!../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./outRecord.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}