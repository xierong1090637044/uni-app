{"version":3,"sources":["webpack:///C:/Users/Administrator/Desktop/新建文件夹/uni-app/pages/report/EnteringHistory/detail/detail.vue?8795","webpack:///C:/Users/Administrator/Desktop/新建文件夹/uni-app/pages/report/EnteringHistory/detail/detail.vue?f36f","webpack:///C:/Users/Administrator/Desktop/新建文件夹/uni-app/pages/report/EnteringHistory/detail/detail.vue?896b","webpack:///C:/Users/Administrator/Desktop/新建文件夹/uni-app/pages/report/EnteringHistory/detail/detail.vue?af10","webpack:///C:/Users/Administrator/Desktop/新建文件夹/uni-app/pages/report/EnteringHistory/detail/detail.vue","webpack:///C:/Users/Administrator/Desktop/新建文件夹/uni-app/pages/report/EnteringHistory/detail/detail.vue?d1f5","webpack:///C:/Users/Administrator/Desktop/新建文件夹/uni-app/pages/report/EnteringHistory/detail/detail.vue?a664"],"names":["that","id","components","loading","data","products","detail","onLoad","options","console","log","getdetail","methods","query","Bmob","Query","include","get","then","res","field","objectId","relation","results","catch","err","revoke","wx","showModal","title","content","success","confirm","uni","showLoading","destroy","i","length","delete_bill","product","query1","set","goodsId","type","reserve","num","save","hideLoading","navigateBack","delta","setTimeout","showToast"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAqF;AAC3B;AACL;AACa;;;AAGlE;AAC8K;AAC9K,gBAAgB,gLAAU;AAC1B,EAAE,4EAAM;AACR,EAAE,iFAAM;AACR,EAAE,0FAAe;AACjB;AACA;AACA;AACA;;AAEA;;AAEA;AACA,IAAI,KAAU,EAAE,YAiBf;AACD;AACe,gF;;;;;;;;;;;;ACvCf;AAAA;AAAA;AAAA;AAA8pB,CAAgB,qpBAAG,EAAC,C;;;;;;;;;;;;ACAlrB;AAAA;AAAA;AAAA;AAA0+B,CAAgB,k7BAAG,EAAC,C;;;;;;;;;;;;ACA9/B;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACsGA,qI,8FAtGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;wRAKA,IAAIA,IAAJ,CACA,IAAIC,EAAJ,C,eACe,EACdC,UAAU,EAAE,EACXC,OAAO,EAAPA,OADW,EADE,EAIdC,IAJc,kBAIP,CACN,OAAO,EACND,OAAO,EAAC,IADF,EAENE,QAAQ,EAAC,IAFH,EAGNC,MAAM,EAAC,IAHD,EAAP,CAKA,CAVa,EAWd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","file":"pages/report/EnteringHistory/detail/detail.js","sourcesContent":["import { render, staticRenderFns } from \"./detail.vue?vue&type=template&id=48bccf16&\"\nimport script from \"./detail.vue?vue&type=script&lang=js&\"\nexport * from \"./detail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./detail.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../Downloads/HBuilderX.2.0.1.20190614.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX.2.0.1.20190614.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('48bccf16', component.options)\n    } else {\n      api.reload('48bccf16', component.options)\n    }\n    module.hot.accept(\"./detail.vue?vue&type=template&id=48bccf16&\", function () {\n      api.rerender('48bccf16', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"Desktop/新建文件夹/uni-app/pages/report/EnteringHistory/detail/detail.vue\"\nexport default component.exports","import mod from \"-!../../../../../../../Downloads/HBuilderX.2.0.1.20190614.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Downloads/HBuilderX.2.0.1.20190614.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Downloads/HBuilderX.2.0.1.20190614.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Downloads/HBuilderX.2.0.1.20190614.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./detail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../Downloads/HBuilderX.2.0.1.20190614.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Downloads/HBuilderX.2.0.1.20190614.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Downloads/HBuilderX.2.0.1.20190614.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Downloads/HBuilderX.2.0.1.20190614.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./detail.vue?vue&type=script&lang=js&\"","import mod from \"-!../../../../../../../Downloads/HBuilderX.2.0.1.20190614.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../Downloads/HBuilderX.2.0.1.20190614.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../../../Downloads/HBuilderX.2.0.1.20190614.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../../../Downloads/HBuilderX.2.0.1.20190614.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Downloads/HBuilderX.2.0.1.20190614.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../Downloads/HBuilderX.2.0.1.20190614.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./detail.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../../Downloads/HBuilderX.2.0.1.20190614.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../Downloads/HBuilderX.2.0.1.20190614.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../../../Downloads/HBuilderX.2.0.1.20190614.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../../../Downloads/HBuilderX.2.0.1.20190614.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Downloads/HBuilderX.2.0.1.20190614.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../Downloads/HBuilderX.2.0.1.20190614.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./detail.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!../../../../../../../Downloads/HBuilderX.2.0.1.20190614.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../Downloads/HBuilderX.2.0.1.20190614.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../../Downloads/HBuilderX.2.0.1.20190614.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../Downloads/HBuilderX.2.0.1.20190614.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./detail.vue?vue&type=template&id=48bccf16&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport Bmob from '@/utils/bmob.js';\nimport loading from \"@/components/Loading/index.vue\"\n\nlet that;\nlet id;\nexport default {\n\tcomponents: {\n\t\tloading,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tloading:true,\n\t\t\tproducts:null,\n\t\t\tdetail:null\n\t\t}\n\t},\n\tonLoad(options) {\n\t\tconsole.log(options)\n\t\tthat = this;\n\t\tid = options.id;\n\t\tthat.getdetail(id);\n\t},\n\tmethods: {\n\t\tgetdetail:function(id)\n\t\t{\n\t\t  const query = Bmob.Query('order_opreations');\n\t\t  query.include(\"opreater\", \"custom\",\"producer\");\n\t\t  query.get(id).then(res => {\n\t\t    //console.log(res);\n\t\t\t\tthat.detail = res;\n\t\t    const query = Bmob.Query('order_opreations');\n\t\t    query.include(\"goodsId\");\n\t\t    query.field('relations',res.objectId);\n\t\t    query.relation('Bills').then(res => {\n\t\t      //console.log(res);\n\t\t\t\t\tthat.products = res.results;\n\t\t\t\t\tthat.loading =false;\n\t\t    })\n\t\t  }).catch(err => {\n\t\t    console.log(err)\n\t\t  })\n\t\t},\n\t\t\n\t\t//数据撤销点击\n\t\trevoke:function()\n\t\t{\n\t\t  wx.showModal({\n\t\t    title: '提示',\n\t\t    content: '数据撤销后不可恢复，请谨慎撤销！',\n\t\t    success(res) {\n\t\t      if (res.confirm) {\n\t\t        uni.showLoading({ title: '撤销中...'})\n\t\t        const query = Bmob.Query('order_opreations');\n\t\t        query.destroy(that.detail.objectId).then(res => {\n\t\t          for (var i = 0; i < that.products.length; i++) {\n\t\t            that.delete_bill(i);\n\t\t          }\n\t\t        }).catch(err => {\n\t\t          console.log(err)\n\t\t        })\n\t\t      }\n\t\t    }\n\t\t  })\n\t\t  \n\t\t},\n\t\t\n\t\tdelete_bill:function(i)\n\t\t{\n\t\t  var product = that.products[i];\n\t\t\n\t\t  const query = Bmob.Query('Bills');\n\t\t  query.destroy(product.objectId).then(res => {\n\t\t    const query1 = Bmob.Query('Goods');\n\t\t    query1.set('id', product.goodsId.objectId);\n\t\t    if (product.type == 1) {\n\t\t      query1.set('reserve', product.goodsId.reserve - product.num);\n\t\t    } else if (product.type == -1) {\n\t\t      query1.set('reserve', product.goodsId.reserve + product.num);\n\t\t    }\n\t\t    query1.save().then(res => {\n\t\t      if (i == (that.products.length - 1))\n\t\t      {\n\t\t        uni.hideLoading();\n\t\t        uni.navigateBack({ delta: 1 })\n\t\t        setTimeout(function () {\n\t\t          uni.showToast({ title: '撤销成功' })\n\t\t        }, 1000);\n\t\t      }\n\t\t    })\n\t\t  });\n\t\t}\n\n\t}\n}\n","// extracted by mini-css-extract-plugin","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 = _vm.products.map(function(item, index) {\n    var g0 = item.total_money.toFixed(2)\n    return {\n      $orig: _vm.__get_orig(item),\n      g0: g0\n    }\n  })\n  var g1 = _vm.detail.all_money.toFixed(2)\n  var g2 = _vm.detail.real_money.toFixed(2)\n  var g3 = _vm.detail.real_money.toFixed(2)\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0,\n        g1: g1,\n        g2: g2,\n        g3: g3\n      }\n    }\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }"],"sourceRoot":""}