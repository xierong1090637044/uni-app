{"version":3,"sources":["webpack:///C:/Users/Administrator/Desktop/新建文件夹 (8)/wechat/pages/report/EnteringHistory/detail/detail.vue?09dc","webpack:///C:/Users/Administrator/Desktop/新建文件夹 (8)/wechat/pages/report/EnteringHistory/detail/detail.vue?b6a5","webpack:///C:/Users/Administrator/Desktop/新建文件夹 (8)/wechat/pages/report/EnteringHistory/detail/detail.vue?4d76","webpack:///C:/Users/Administrator/Desktop/新建文件夹 (8)/wechat/pages/report/EnteringHistory/detail/detail.vue?4f5d","webpack:///C:/Users/Administrator/Desktop/新建文件夹 (8)/wechat/pages/report/EnteringHistory/detail/detail.vue","webpack:///C:/Users/Administrator/Desktop/新建文件夹 (8)/wechat/pages/report/EnteringHistory/detail/detail.vue?b43b","webpack:///C:/Users/Administrator/Desktop/新建文件夹 (8)/wechat/pages/report/EnteringHistory/detail/detail.vue?4f56"],"names":["that","id","components","loading","data","products","detail","onLoad","options","console","log","getdetail","methods","query","Bmob","Query","include","get","then","res","field","objectId","relation","results","catch","err","revoke","wx","showModal","title","content","success","confirm","uni","showLoading","destroy","i","length","delete_bill","product","query1","set","goodsId","type","reserve","num","save","hideLoading","navigateBack","delta","setTimeout","showToast"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAqF;AAC3B;AACL;AACa;;;AAGlE;AAC8K;AAC9K,gBAAgB,gLAAU;AAC1B,EAAE,4EAAM;AACR,EAAE,iFAAM;AACR,EAAE,0FAAe;AACjB;AACA;AACA;AACA;;AAEA;;AAEA;AACA,IAAI,KAAU,EAAE,YAiBf;AACD;AACe,gF;;;;;;;;;;;;ACvCf;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACNA;AAAA;AAAA;AAAA;AAAkzB,CAAgB,mxBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC+Ht0B,kF,8FA/HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;wNAKA,IAAIA,IAAJ,CACA,IAAIC,EAAJ,C,eACe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","file":"pages/report/EnteringHistory/detail/detail.js","sourcesContent":["import { render, staticRenderFns } from \"./detail.vue?vue&type=template&id=7197fedc&\"\nimport script from \"./detail.vue?vue&type=script&lang=js&\"\nexport * from \"./detail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./detail.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX.1.9.9.20190522.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('7197fedc', component.options)\n    } else {\n      api.reload('7197fedc', component.options)\n    }\n    module.hot.accept(\"./detail.vue?vue&type=template&id=7197fedc&\", function () {\n      api.rerender('7197fedc', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"Desktop/新建文件夹 (8)/wechat/pages/report/EnteringHistory/detail/detail.vue\"\nexport default component.exports","export * from \"-!../../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detail.vue?vue&type=template&id=7197fedc&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detail.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport Bmob from '@/utils/bmob.js';\nimport loading from \"@/components/Loading/index.vue\"\n\nlet that;\nlet id;\nexport default {\n\tcomponents: {\n\t\tloading,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tloading: true,\n\t\t\tproducts: null,\n\t\t\tdetail: null\n\t\t}\n\t},\n\tonLoad(options) {\n\t\tconsole.log(options)\n\t\tthat = this;\n\t\tid = options.id;\n\t\tthat.getdetail(id);\n\t},\n\tmethods: {\n\t\tgetdetail: function(id) {\n\t\t\tconst query = Bmob.Query('order_opreations');\n\t\t\tquery.include(\"opreater\", \"custom\", \"producer\");\n\t\t\tquery.get(id).then(res => {\n\t\t\t\t//console.log(res);\n\t\t\t\tthat.detail = res;\n\t\t\t\tconst query = Bmob.Query('order_opreations');\n\t\t\t\tquery.include(\"goodsId\");\n\t\t\t\tquery.field('relations', res.objectId);\n\t\t\t\tquery.relation('Bills').then(res => {\n\t\t\t\t\t//console.log(res);\n\t\t\t\t\tthat.products = res.results;\n\t\t\t\t\tthat.loading = false;\n\t\t\t\t})\n\t\t\t}).catch(err => {\n\t\t\t\tconsole.log(err)\n\t\t\t})\n\t\t},\n\n\t\t//数据撤销点击\n\t\trevoke: function() {\n\t\t\twx.showModal({\n\t\t\t\ttitle: '提示',\n\t\t\t\tcontent: '数据撤销后不可恢复，请谨慎撤销！',\n\t\t\t\tsuccess(res) {\n\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\tuni.showLoading({\n\t\t\t\t\t\t\ttitle: '撤销中...'\n\t\t\t\t\t\t})\n\t\t\t\t\t\tconst query = Bmob.Query('order_opreations');\n\t\t\t\t\t\tquery.destroy(that.detail.objectId).then(res => {\n\t\t\t\t\t\t\tfor (var i = 0; i < that.products.length; i++) {\n\t\t\t\t\t\t\t\tthat.delete_bill(i);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}).catch(err => {\n\t\t\t\t\t\t\tconsole.log(err)\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\n\t\t},\n\n\t\tdelete_bill: function(i) {\n\t\t\tvar product = that.products[i];\n\n\t\t\tconst query = Bmob.Query('Bills');\n\t\t\tquery.destroy(product.objectId).then(res => {\n\t\t\t\tconst query1 = Bmob.Query('Goods');\n\t\t\t\tquery1.set('id', product.goodsId.objectId);\n\t\t\t\tif (product.type == 1) {\n\t\t\t\t\tquery1.set('reserve', product.goodsId.reserve - product.num);\n\t\t\t\t} else if (product.type == -1) {\n\t\t\t\t\tquery1.set('reserve', product.goodsId.reserve + product.num);\n\t\t\t\t}\n\t\t\t\tquery1.save().then(res => {\n\t\t\t\t\tif (i == (that.products.length - 1)) {\n\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\tuni.navigateBack({\n\t\t\t\t\t\t\tdelta: 1\n\t\t\t\t\t\t})\n\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle: '撤销成功'\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}, 1000);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t});\n\t\t}\n\n\t}\n}\n","import mod from \"-!../../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detail.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Downloads/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detail.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}