{"version":3,"sources":["webpack:///C:/Users/Administrator/Desktop/testdd/kcb_all/main.js","webpack:///C:/Users/Administrator/Desktop/testdd/kcb_all/pages/report/EnteringHistory/detail/detail.vue?5ba4","webpack:///C:/Users/Administrator/Desktop/testdd/kcb_all/pages/report/EnteringHistory/detail/detail.vue?4816","webpack:///C:/Users/Administrator/Desktop/testdd/kcb_all/pages/report/EnteringHistory/detail/detail.vue?d69b","webpack:///C:/Users/Administrator/Desktop/testdd/kcb_all/pages/report/EnteringHistory/detail/detail.vue?af57","webpack:///C:/Users/Administrator/Desktop/testdd/kcb_all/pages/report/EnteringHistory/detail/detail.vue","webpack:///C:/Users/Administrator/Desktop/testdd/kcb_all/pages/report/EnteringHistory/detail/detail.vue?90ce","webpack:///C:/Users/Administrator/Desktop/testdd/kcb_all/pages/report/EnteringHistory/detail/detail.vue?6ea2"],"names":["createPage","Page","that","id","uid","uni","getStorageSync","components","loading","uniNavBar","data","user","identity","othercurrent","bills","products","detail","stock","onLoad","options","console","log","rights","getdetail","onShow","onShareAppMessage","res","from","target","title","path","methods","gotoexpressDet","navigateTo","url","expressNum","priview","previewImage","current","urls","Images","show_options","showActionSheet","itemList","success","tapIndex","confrimCount","revoke","fail","errMsg","status","showToast","icon","pointer","Bmob","Pointer","checkerId","set","objectId","query","Query","save","then","opreatioGoods","i","num","Number","get","query1","equalTo","header","statTo","find","now_reserve","_sumReserve","warning_num","length","common","nickName","goodsName","containedIn","todos","saveAll","hideLoading","setTimeout","catch","err","include","wx","showModal","content","confirm","showLoading","destroy","destroyAll","type","delete_bill","navigateBack","delta","confrimOrder","stockId","count","item","addOrReduceGoodReserve","ReduceGoodReserve","product","goodsId","headerGood","reserve","costPrice","retailPrice","upload_good_withNoCan","bill"],"mappings":";;;;;;;;;;kDAAA,wCAAmB;;AAEnB;AACA,uH;AACAA,UAAU,CAACC,eAAD,CAAV,C;;;;;;;;;;;;;ACJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAmH;AACnH;AAC0D;AACL;AACa;;;AAGlE;AAC+M;AAC/M,gBAAgB,uNAAU;AAC1B,EAAE,4EAAM;AACR,EAAE,iFAAM;AACR,EAAE,0FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,qFAAU;AACZ;AACA;;AAEA;AACA,IAAI,KAAU,EAAE,YAiBf;AACD;AACe,gF;;;;;;;;;;;;AC1Cf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAkzB,CAAgB,k0BAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC2Ot0B;AACA;AACA,uF,8FA7OA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;kdASA,IAAIC,IAAJ,CACA,IAAIC,EAAJ,CACA,IAAIC,GAAG,GAAGC,GAAG,CAACC,cAAJ,CAAmB,KAAnB,CAAV,C,eACe,EACdC,UAAU,EAAE,EACXC,OAAO,EAAPA,OADW,EAEXC,SAAS,EAATA,SAFW,EADE,EAKdC,IALc,kBAKP,CACN,OAAO,EACNC,IAAI,EAAEN,GAAG,CAACC,cAAJ,CAAmB,MAAnB,CADA,EAENM,QAAQ,EAAEP,GAAG,CAACC,cAAJ,CAAmB,UAAnB,CAFJ,EAGNO,YAAY,EAAE,EAHR,EAINC,KAAK,EAAE,EAJD,EAKNN,OAAO,EAAE,IALH,EAMNO,QAAQ,EAAE,IANJ,EAONC,MAAM,EAAE,IAPF,EAQNC,KAAK,EAAE,EARD,CAQK;AARL,KAAP,CAUA,CAhBa,EA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","file":"pages/report/EnteringHistory/detail/detail.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'            \nimport Page from './pages/report/EnteringHistory/detail/detail.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./detail.vue?vue&type=template&id=5bd63f74&\"\nvar renderjs\nimport script from \"./detail.vue?vue&type=script&lang=js&\"\nexport * from \"./detail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./detail.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\Downloads\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\Downloads\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('5bd63f74')) {\n      api.createRecord('5bd63f74', component.options)\n    } else {\n      api.reload('5bd63f74', component.options)\n    }\n    module.hot.accept(\"./detail.vue?vue&type=template&id=5bd63f74&\", function () {\n      api.rerender('5bd63f74', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"C:/Users/Administrator/Desktop/testdd/kcb_all/pages/report/EnteringHistory/detail/detail.vue\"\nexport default component.exports","export * from \"-!D:\\\\Downloads\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\Downloads\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\Downloads\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\Downloads\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\Downloads\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Downloads\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./detail.vue?vue&type=template&id=5bd63f74&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\Downloads\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\Downloads\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\Downloads\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\Downloads\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Downloads\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./detail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\Downloads\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\Downloads\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\Downloads\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\Downloads\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Downloads\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./detail.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport Bmob from \"hydrogen-js-sdk\";\nimport print from \"@/utils/print.js\"\nimport common from \"@/utils/common.js\"\n\nimport loading from \"@/components/Loading/index.vue\"\nimport uniNavBar from '@/components/uni-nav-bar/uni-nav-bar.vue'\n\nlet that;\nlet id;\nlet uid = uni.getStorageSync(\"uid\");\nexport default {\n\tcomponents: {\n\t\tloading,\n\t\tuniNavBar\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tuser: uni.getStorageSync(\"user\"),\n\t\t\tidentity: uni.getStorageSync(\"identity\"),\n\t\t\tothercurrent: '',\n\t\t\tbills: [],\n\t\t\tloading: true,\n\t\t\tproducts: null,\n\t\t\tdetail: null,\n\t\t\tstock: '', //仓库\n\t\t}\n\t},\n\tonLoad(options) {\n\n\n\n\n\t\tconsole.log(options)\n\t\tthat = this;\n\t\tid = options.id;\n\t\tif (that.user.rights && that.user.rights.othercurrent) {\n\t\t\tthat.othercurrent = that.user.rights.othercurrent\n\t\t}\n\t\tthat.getdetail(id);\n\t},\n\n\tonShow() {\n\t\tthat.stock = uni.getStorageSync(\"warehouse\") ? uni.getStorageSync(\"warehouse\")[0].stock : ''\n\t},\n\n\t//分享\n\tonShareAppMessage: function(res) {\n\t\tif (res.from === 'button') {\n\t\t\t// 来自页面内转发按钮\n\t\t\tconsole.log(res.target)\n\t\t}\n\t\treturn {\n\t\t\ttitle: '高明燃气库存管理-操作单详情',\n\t\t\tpath: '/pages/report/EnteringHistory/detail/detail?id=' + id\n\t\t}\n\t},\n\n\tmethods: {\n\n\t\tgotoexpressDet() {\n\t\t\tuni.navigateTo({\n\t\t\t\turl: \"../expressDet/expressDet?number=\" + that.detail.expressNum\n\t\t\t})\n\t\t},\n\n\t\t//预览图片\n\t\tpriview(url) {\n\t\t\tuni.previewImage({\n\t\t\t\tcurrent: url,\n\t\t\t\turls: that.detail.Images,\n\t\t\t});\n\t\t},\n\n\t\t//点击显示操作菜单\n\t\tshow_options() {\n\t\t\tlet options = ['审核','撤销'];\n\t\t\tuni.showActionSheet({\n\t\t\t\titemList: options,\n\t\t\t\tsuccess: function(res) {\n\t\t\t\t\tif (res.tapIndex == 0) {\n\t\t\t\t\t\t that.confrimCount()\n\t\t\t\t\t}else if(res.tapIndex == 1){\n\t\t\t\t\t\tthat.revoke()\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tfail: function(res) {\n\t\t\t\t\tconsole.log(res.errMsg);\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\t/*if (that.detail.type == -1 || that.detail.type == 1) {\n\t\t\t\tif (that.othercurrent.indexOf(\"3\") != -1 || that.identity == 1 && that.detail.extra_type == 1) {\n\n\t\t\t\t\toptions = (that.detail.type == -1) ? ['销售出库', '撤销', '打印'] : ['采购入库', '撤销', '打印']\n\n\t\t\t\t\tuni.showActionSheet({\n\t\t\t\t\t\titemList: options,\n\t\t\t\t\t\tsuccess: function(res) {\n\t\t\t\t\t\t\tif (res.tapIndex == 0) {\n\t\t\t\t\t\t\t\tif (that.detail.type == 1) {\n\t\t\t\t\t\t\t\t\tif (that.detail.status) {\n\t\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\t\ttitle: \"该笔采购单已入库\",\n\t\t\t\t\t\t\t\t\t\t\ticon: \"none\"\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tif (uni.getStorageSync(\"warehouse\") == \"\" || uni.getStorageSync(\"warehouse\") == undefined) {\n\t\t\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\t\t\ticon: \"none\",\n\t\t\t\t\t\t\t\t\t\t\t\ttitle: \"请选择仓库\"\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tthat.confrimOrder()\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} else if (that.detail.type == -1) {\n\t\t\t\t\t\t\t\t\tif (that.detail.status) {\n\t\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\t\ttitle: \"该笔销售单已出库\",\n\t\t\t\t\t\t\t\t\t\t\ticon: \"none\"\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tif (uni.getStorageSync(\"warehouse\") == \"\" || uni.getStorageSync(\"warehouse\") == undefined) {\n\t\t\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\t\t\ticon: \"none\",\n\t\t\t\t\t\t\t\t\t\t\t\ttitle: \"请选择仓库\"\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tthat.confrimOrder()\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tuni.setStorageSync(\"is_option\", true)\n\t\t\t\t\t\t\t} else if (res.tapIndex == 1) {\n\t\t\t\t\t\t\t\tthat.revoke()\n\t\t\t\t\t\t\t\tuni.setStorageSync(\"is_option\", true)\n\t\t\t\t\t\t\t} else if (res.tapIndex == 2) {\n\t\t\t\t\t\t\t\tprint.print_operations(that.detail, that.products)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfail: function(res) {\n\t\t\t\t\t\t\tconsole.log(res.errMsg);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t} else {\n\t\t\t\t\toptions = ['撤销', '打印']\n\t\t\t\t\tuni.showActionSheet({\n\t\t\t\t\t\titemList: options,\n\t\t\t\t\t\tsuccess: function(res) {\n\t\t\t\t\t\t\tif (res.tapIndex == 0) {\n\t\t\t\t\t\t\t\tthat.revoke()\n\t\t\t\t\t\t\t\tuni.setStorageSync(\"is_option\", true)\n\t\t\t\t\t\t\t} else if (res.tapIndex == 1) {\n\t\t\t\t\t\t\t\tprint.print_operations(that.detail, that.products)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfail: function(res) {\n\t\t\t\t\t\t\tconsole.log(res.errMsg);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}*/\n\t\t},\n\t\t\n\t\t//审核盘点单\n\t\tconfrimCount(){\n\t\t\t\n\t\t\tif(that.detail.status){\n\t\t\t\tuni.showToast({\n\t\t\t\t\ticon:'none',\n\t\t\t\t\ttitle: '已经审核过了'\n\t\t\t\t})\n\t\t\t\t\n\t\t\t\treturn\n\t\t\t}\n\t\t\t\n\t\t\tconst pointer = Bmob.Pointer('_User');\n\t\t\tlet checkerId = pointer.set(uni.getStorageSync(\"user\").objectId);\n\t\t\t\n\t\t\tconst query = Bmob.Query('order_opreations');\n\t\t\tquery.set('id', that.detail.objectId) //需要修改的objectId\n\t\t\tquery.set('status', true)\n\t\t\tquery.set('checker', checkerId)\n\t\t\tquery.save().then(res => {\n\t\t\t\tlet products = that.detail.opreatioGoods\n\t\t\t\tfor(let i=0;i<products.length;i++){\n\t\t\t\t\tlet num = Number(products[i].num);\n\t\t\t\t\tconst query = Bmob.Query(\"NGoods\");\n\t\t\t\t\tquery.get(products[i].objectId).then(res => {\n\t\t\t\t\t\tres.set('reserve', num)\n\t\t\t\t\t\tres.save()\n\t\t\t\t\t\t\n\t\t\t\t\t\tconst query1 = Bmob.Query(\"NGoods\");\n\t\t\t\t\t\tquery1.equalTo(\"header\", \"==\", products[i].header.objectId);\n\t\t\t\t\t\tquery1.equalTo(\"order\", \"==\", 1);\n\t\t\t\t\t\tquery1.statTo(\"sum\", \"reserve\");\n\t\t\t\t\t\tquery1.find().then(res => {\n\t\t\t\t\t\t\t//console.log(\"dasds\", res)\n\t\t\t\t\t\t\tlet now_reserve = res[0]._sumReserve\n\t\t\t\t\t\t\tconst query = Bmob.Query('NGoods');\n\t\t\t\t\t\t\tquery.get(products[i].header.objectId).then(res => {\n\t\t\t\t\t\t\t\tres.set('reserve', now_reserve)\n\t\t\t\t\t\t\t\tres.set('stocktype', (now_reserve > products[i].warning_num) ? 1 : 0)\n\t\t\t\t\t\t\t\tres.save()\n\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tif (i == (products.length - 1)) {\n\t\t\t\t\t\t\t\t\tcommon.log(uni.getStorageSync(\"user\").nickName + \"盘点了'\" + products[0].goodsName +\"'等\" + products.length + \"商品\", 3, that.detail.objectId);\n\t\t\t\t\t\t\t\t\tconsole.log(that.bills)\n\t\t\t\t\t\t\t\t\tconst query = Bmob.Query('NBills');\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\tquery.containedIn(\"objectId\", that.bills);\n\t\t\t\t\t\t\t\t\tquery.find().then(todos => {\n\t\t\t\t\t\t\t\t\t\ttodos.set('status', true);\n\t\t\t\t\t\t\t\t\t\ttodos.saveAll().then(res => {\n\t\t\t\t\t\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\tthat.getdetail(that.detail.objectId);\n\t\t\t\t\t\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\t\t\t\ticon:'none',\n\t\t\t\t\t\t\t\t\t\t\t\t\ttitle: '盘点单审核成功'\n\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t}, 1000);\n\t\t\t\t\t\t\t\t\t\t\t//console.log(res, 'ok')\n\t\t\t\t\t\t\t\t\t\t}).catch(err => {\n\t\t\t\t\t\t\t\t\t\t\tconsole.log(err)\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t});\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t})\n\t\t\t\n\t\t},\n\n\t\tgetdetail: function(id) {\n\t\t\tconst query = Bmob.Query('order_opreations');\n\t\t\tquery.include(\"opreater\", \"custom\", \"producer\", \"stock\",\"checker\");\n\t\t\tquery.get(id).then(res => {\n\t\t\t\tconsole.log(res);\n\t\t\t\tthat.detail = res;\n\t\t\t\tthat.products = res.detail;\n\t\t\t\tthat.bills = res.bills;\n\t\t\t\tthat.loading = false;\n\t\t\t}).catch(err => {\n\t\t\t\tconsole.log(err)\n\t\t\t})\n\t\t},\n\n\t\t//数据撤销点击\n\t\trevoke: function() {\n\t\t\twx.showModal({\n\t\t\t\ttitle: '提示',\n\t\t\t\tcontent: '数据撤销后不可恢复，请谨慎撤销！',\n\t\t\t\tsuccess(res) {\n\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(that.detail.status == false){\n\t\t\t\t\t\t\tuni.showLoading({\n\t\t\t\t\t\t\t\ttitle: '撤销中...'\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\tconst query = Bmob.Query('order_opreations');\n\t\t\t\t\t\t\tquery.destroy(that.detail.objectId).then(res => {\n\t\t\t\t\t\t\t\tconst query = Bmob.Query('NBills');\n\t\t\t\t\t\t\t\tquery.containedIn(\"objectId\", that.bills);\n\t\t\t\t\t\t\t\tquery.find().then(todos => {\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\ttodos.destroyAll().then(res => {\n\t\t\t\t\t\t\t\t\t\t// 成功批量修改\n\t\t\t\t\t\t\t\t\t\tif (that.detail.type !=3) {\n\t\t\t\t\t\t\t\t\t\t\tfor (var i = 0; i < that.products.length; i++) {\n\t\t\t\t\t\t\t\t\t\t\t\tthat.delete_bill(i);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\t\t\t\t\t\tuni.navigateBack({\n\t\t\t\t\t\t\t\t\t\t\t\tdelta: 1\n\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\t\t\t\ttitle: '撤销成功'\n\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t}, 1000);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t}).catch(err => {\n\t\t\t\t\t\t\t\t\t\tconsole.log(err)\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}).catch(err => {\n\t\t\t\t\t\t\t\tconsole.log(err)\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ticon:'none',\n\t\t\t\t\t\t\t\ttitle: '审核成功后，暂不支持撤销'\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\n\t\t//审核订单\n\t\tconfrimOrder() {\n\t\t\twx.showModal({\n\t\t\t\ttitle: '提示',\n\t\t\t\tcontent: '确定进行此操作！',\n\t\t\t\tsuccess(res) {\n\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\tuni.showLoading({\n\t\t\t\t\t\t\ttitle: '操作中，请勿退出该页面...'\n\t\t\t\t\t\t})\n\t\t\t\t\t\tconst pointer = Bmob.Pointer('stocks');\n\t\t\t\t\t\tlet stockId = pointer.set(that.stock.objectId);\n\n\t\t\t\t\t\tconst query = Bmob.Query('order_opreations');\n\t\t\t\t\t\tquery.set('id', id) //需要修改的objectId\n\t\t\t\t\t\tquery.set(\"stock\", stockId);\n\t\t\t\t\t\tquery.set('status', true)\n\t\t\t\t\t\tquery.save().then(res => {\n\t\t\t\t\t\t\t//console.log(res)\n\t\t\t\t\t\t\tlet count = 0\n\t\t\t\t\t\t\tif (that.detail.type == 1) {\n\t\t\t\t\t\t\t\tfor (let item of that.products) {\n\t\t\t\t\t\t\t\t\tthat.addOrReduceGoodReserve(item, count);\n\t\t\t\t\t\t\t\t\tcount += 1;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else if (that.detail.type == -1) {\n\t\t\t\t\t\t\t\tfor (let item of that.products) {\n\t\t\t\t\t\t\t\t\tthat.ReduceGoodReserve(item, count);\n\t\t\t\t\t\t\t\t\tcount += 1;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}).catch(err => {\n\t\t\t\t\t\t\tconsole.log(err)\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\n\t\t//采购单确定采购入库之后改变产品库存\n\t\taddOrReduceGoodReserve(product, count) {\n\n\t\t\tconst query = Bmob.Query('NGoods');\n\t\t\tquery.get(product.goodsId.objectId).then(res => {\n\t\t\t\tconsole.log(\"当前主产品\", res)\n\t\t\t\tlet headerGood = res;\n\t\t\t\tres.set('reserve', res.reserve + product.num);\n\t\t\t\tres.save().then(res => {\n\t\t\t\t\tconst query = Bmob.Query(\"NGoods\");\n\t\t\t\t\tquery.equalTo(\"userId\", \"==\", uid);\n\t\t\t\t\tquery.equalTo(\"header\", \"==\", product.goodsId.objectId);\n\t\t\t\t\tquery.equalTo(\"stocks\", \"==\", that.stock.objectId);\n\t\t\t\t\tquery.find().then(res => {\n\t\t\t\t\t\tconsole.log(\"仓库里的产品\", res)\n\t\t\t\t\t\tif (res.length == 0) {\n\t\t\t\t\t\t\tproduct.objectId = product.goodsId.objectId\n\t\t\t\t\t\t\tproduct.costPrice = headerGood.costPrice\n\t\t\t\t\t\t\tproduct.retailPrice = headerGood.retailPrice\n\t\t\t\t\t\t\tcommon.upload_good_withNoCan(product, that.stock, Number(product.num)).then(res => {\n\t\t\t\t\t\t\t\tconsole.log(res)\n\t\t\t\t\t\t\t\tif (count == (that.products.length - 1)) {\n\t\t\t\t\t\t\t\t\tconst pointer = Bmob.Pointer('stocks');\n\t\t\t\t\t\t\t\t\tlet stockId = pointer.set(that.stock.objectId);\n\n\t\t\t\t\t\t\t\t\tconst query = Bmob.Query('NBills');\n\t\t\t\t\t\t\t\t\tquery.containedIn(\"objectId\", that.bills);\n\t\t\t\t\t\t\t\t\tquery.find().then(todos => {\n\t\t\t\t\t\t\t\t\t\ttodos.set('status', true);\n\t\t\t\t\t\t\t\t\t\ttodos.set(\"stock\", stockId);\n\t\t\t\t\t\t\t\t\t\ttodos.saveAll().then(res => {\n\t\t\t\t\t\t\t\t\t\t\tuni.hideLoading();\n\n\t\t\t\t\t\t\t\t\t\t\tthat.getdetail(id);\n\t\t\t\t\t\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\t\t\t\ttitle: '采购入库成功'\n\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t}, 1000);\n\t\t\t\t\t\t\t\t\t\t\t//console.log(res, 'ok')\n\t\t\t\t\t\t\t\t\t\t}).catch(err => {\n\t\t\t\t\t\t\t\t\t\t\tconsole.log(err)\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconst query1 = Bmob.Query('NGoods');\n\t\t\t\t\t\t\tquery1.get(res[0].objectId).then(res => {\n\t\t\t\t\t\t\t\t//console.log(res)\n\t\t\t\t\t\t\t\t/*if (product.goodsId.selected_model) {\n\t\t\t\t\t\t\t\t\tlet num = 0;\n\t\t\t\t\t\t\t\t\tfor (let model of product.goodsId.selected_model) {\n\t\t\t\t\t\t\t\t\t\tfor (let item of res.models) {\n\t\t\t\t\t\t\t\t\t\t\tif (item.id == model.id) {\n\t\t\t\t\t\t\t\t\t\t\t\titem.reserve = Number(item.reserve) + Number(model.num)\n\t\t\t\t\t\t\t\t\t\t\t\t//console.log(item.reserve)\n\t\t\t\t\t\t\t\t\t\t\t\tnum += Number(model.num)\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t//console.log(res.models)\n\t\t\t\t\t\t\t\t\tres.set('models', res.models)\n\t\t\t\t\t\t\t\t\tres.set('reserve', res.reserve + num);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tres.set('reserve', res.reserve + product.num);\n\t\t\t\t\t\t\t\t}*/\n\n\t\t\t\t\t\t\t\tres.set('reserve', res.reserve + product.num);\n\t\t\t\t\t\t\t\tres.save().then(res => {\n\t\t\t\t\t\t\t\t\tconst pointer = Bmob.Pointer('stocks');\n\t\t\t\t\t\t\t\t\tlet stockId = pointer.set(that.stock.objectId);\n\n\t\t\t\t\t\t\t\t\tif (count == (that.products.length - 1)) {\n\t\t\t\t\t\t\t\t\t\tconst query = Bmob.Query('NBills');\n\t\t\t\t\t\t\t\t\t\tquery.containedIn(\"objectId\", that.bills);\n\t\t\t\t\t\t\t\t\t\tquery.find().then(todos => {\n\t\t\t\t\t\t\t\t\t\t\ttodos.set('status', true);\n\t\t\t\t\t\t\t\t\t\t\ttodos.set(\"stock\", stockId);\n\t\t\t\t\t\t\t\t\t\t\ttodos.saveAll().then(res => {\n\t\t\t\t\t\t\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\t\t\t\t\t\t\t/*uni.navigateBack({\n\t\t\t\t\t\t\t\t\t\t\t\t\tdelta: 1\n\t\t\t\t\t\t\t\t\t\t\t\t})*/\n\t\t\t\t\t\t\t\t\t\t\t\tthat.getdetail(id);\n\t\t\t\t\t\t\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttitle: '采购入库成功'\n\t\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t\t}, 1000);\n\t\t\t\t\t\t\t\t\t\t\t\t//console.log(res, 'ok')\n\t\t\t\t\t\t\t\t\t\t\t}).catch(err => {\n\t\t\t\t\t\t\t\t\t\t\t\tconsole.log(err)\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t})\n\t\t},\n\n\t\t//销售单确认审核之后减少库存\n\t\tReduceGoodReserve(product, count) {\n\t\t\tconst query = Bmob.Query('NGoods');\n\t\t\tquery.get(product.goodsId.objectId).then(res => {\n\t\t\t\tconsole.log(\"当前主产品\", res)\n\t\t\t\tres.set('reserve', res.reserve - product.num);\n\t\t\t\tres.save().then(res => {\n\t\t\t\t\tconst query = Bmob.Query(\"NGoods\");\n\t\t\t\t\tquery.equalTo(\"userId\", \"==\", uid);\n\t\t\t\t\tquery.equalTo(\"header\", \"==\", product.goodsId.objectId);\n\t\t\t\t\tquery.equalTo(\"stocks\", \"==\", that.stock.objectId);\n\t\t\t\t\tquery.find().then(res => {\n\t\t\t\t\t\tconsole.log(\"仓库里的产品\", res)\n\t\t\t\t\t\tif (res.length == 0) {\n\t\t\t\t\t\t\tproduct.objectId = product.goodsId.objectId\n\t\t\t\t\t\t\tproduct.costPrice = headerGood.costPrice\n\t\t\t\t\t\t\tproduct.retailPrice = headerGood.retailPrice\n\t\t\t\t\t\t\tcommon.upload_good_withNoCan(product, that.stock, 0 - Number(product.num)).then(res => {\n\t\t\t\t\t\t\t\tconsole.log(res)\n\t\t\t\t\t\t\t\tif (count == (that.products.length - 1)) {\n\t\t\t\t\t\t\t\t\tconst pointer = Bmob.Pointer('stocks');\n\t\t\t\t\t\t\t\t\tlet stockId = pointer.set(that.stock.objectId);\n\n\t\t\t\t\t\t\t\t\tconst query = Bmob.Query('NBills');\n\t\t\t\t\t\t\t\t\tquery.containedIn(\"objectId\", that.bills);\n\t\t\t\t\t\t\t\t\tquery.find().then(todos => {\n\t\t\t\t\t\t\t\t\t\ttodos.set('status', true);\n\t\t\t\t\t\t\t\t\t\ttodos.set('stock', stockId);\n\t\t\t\t\t\t\t\t\t\ttodos.saveAll().then(res => {\n\t\t\t\t\t\t\t\t\t\t\tuni.hideLoading();\n\n\t\t\t\t\t\t\t\t\t\t\tthat.getdetail(id);\n\t\t\t\t\t\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\t\t\t\ttitle: '销售出库成功'\n\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t}, 1000);\n\t\t\t\t\t\t\t\t\t\t\t//console.log(res, 'ok')\n\t\t\t\t\t\t\t\t\t\t}).catch(err => {\n\t\t\t\t\t\t\t\t\t\t\tconsole.log(err)\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconst query1 = Bmob.Query('NGoods');\n\t\t\t\t\t\t\tquery1.get(res[0].objectId).then(res => {\n\t\t\t\t\t\t\t\t//console.log(res)\n\t\t\t\t\t\t\t\t/*if (product.goodsId.selected_model) {\n\t\t\t\t\t\t\t\t\tlet num = 0;\n\t\t\t\t\t\t\t\t\tfor (let model of product.goodsId.selected_model) {\n\t\t\t\t\t\t\t\t\t\tfor (let item of res.models) {\n\t\t\t\t\t\t\t\t\t\t\tif (item.id == model.id) {\n\t\t\t\t\t\t\t\t\t\t\t\titem.reserve = Number(item.reserve) + Number(model.num)\n\t\t\t\t\t\t\t\t\t\t\t\t//console.log(item.reserve)\n\t\t\t\t\t\t\t\t\t\t\t\tnum += Number(model.num)\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t//console.log(res.models)\n\t\t\t\t\t\t\t\t\tres.set('models', res.models)\n\t\t\t\t\t\t\t\t\tres.set('reserve', res.reserve + num);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tres.set('reserve', res.reserve + product.num);\n\t\t\t\t\t\t\t\t}*/\n\n\t\t\t\t\t\t\t\tres.set('reserve', res.reserve - product.num);\n\t\t\t\t\t\t\t\tres.save().then(res => {\n\t\t\t\t\t\t\t\t\tif (count == (that.products.length - 1)) {\n\t\t\t\t\t\t\t\t\t\tconst pointer = Bmob.Pointer('stocks');\n\t\t\t\t\t\t\t\t\t\tlet stockId = pointer.set(that.stock.objectId);\n\n\t\t\t\t\t\t\t\t\t\tconst query = Bmob.Query('NBills');\n\t\t\t\t\t\t\t\t\t\tquery.containedIn(\"objectId\", that.bills);\n\t\t\t\t\t\t\t\t\t\tquery.find().then(todos => {\n\t\t\t\t\t\t\t\t\t\t\ttodos.set('status', true);\n\t\t\t\t\t\t\t\t\t\t\ttodos.set('stock', stockId);\n\t\t\t\t\t\t\t\t\t\t\ttodos.saveAll().then(res => {\n\t\t\t\t\t\t\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\t\t\t\t\t\t\t/*uni.navigateBack({\n\t\t\t\t\t\t\t\t\t\t\t\t\tdelta: 1\n\t\t\t\t\t\t\t\t\t\t\t\t})*/\n\n\t\t\t\t\t\t\t\t\t\t\t\tthat.getdetail(id);\n\t\t\t\t\t\t\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttitle: '销售出库成功'\n\t\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t\t}, 1000);\n\t\t\t\t\t\t\t\t\t\t\t\t//console.log(res, 'ok')\n\t\t\t\t\t\t\t\t\t\t\t}).catch(err => {\n\t\t\t\t\t\t\t\t\t\t\t\tconsole.log(err)\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t})\n\t\t},\n\n\t\tdelete_bill: function(i) {\n\t\t\tlet product = that.products[i];\n\t\t\tlet bill = that.bills[i]\n\n\t\t\tconst query1 = Bmob.Query('NGoods');\n\t\t\tquery1.set('id', product.goodsId.objectId);\n\t\t\tif (product.type == 1) {\n\t\t\t\tquery1.set('reserve', product.goodsId.reserve - product.num);\n\t\t\t} else if (product.type == -1) {\n\t\t\t\tquery1.set('reserve', product.goodsId.reserve + product.num);\n\t\t\t}\n\t\t\tquery1.save().then(res => {\n\t\t\t\tif (i == (that.products.length - 1)) {\n\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\tuni.navigateBack({\n\t\t\t\t\t\tdelta: 1\n\t\t\t\t\t})\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: '撤销成功'\n\t\t\t\t\t\t})\n\t\t\t\t\t}, 1000);\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\n\t}\n}\n","import mod from \"-!D:\\\\Downloads\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\Downloads\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-1!D:\\\\Downloads\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\Downloads\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\Downloads\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\Downloads\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Downloads\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./detail.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!D:\\\\Downloads\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\Downloads\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-1!D:\\\\Downloads\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\Downloads\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\Downloads\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\Downloads\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Downloads\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./detail.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}