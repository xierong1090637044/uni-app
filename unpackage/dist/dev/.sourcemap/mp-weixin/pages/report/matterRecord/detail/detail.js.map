{"version":3,"sources":["webpack:///C:/Users/Administrator/Desktop/testdd/kcb_all/main.js","webpack:///C:/Users/Administrator/Desktop/testdd/kcb_all/pages/report/matterRecord/detail/detail.vue?5feb","webpack:///C:/Users/Administrator/Desktop/testdd/kcb_all/pages/report/matterRecord/detail/detail.vue?3f9b","webpack:///C:/Users/Administrator/Desktop/testdd/kcb_all/pages/report/matterRecord/detail/detail.vue?9021","webpack:///C:/Users/Administrator/Desktop/testdd/kcb_all/pages/report/matterRecord/detail/detail.vue?e098","webpack:///C:/Users/Administrator/Desktop/testdd/kcb_all/pages/report/matterRecord/detail/detail.vue","webpack:///C:/Users/Administrator/Desktop/testdd/kcb_all/pages/report/matterRecord/detail/detail.vue?01e9","webpack:///C:/Users/Administrator/Desktop/testdd/kcb_all/pages/report/matterRecord/detail/detail.vue?f225"],"names":["createPage","Page","that","id","components","loading","uniNavBar","data","user","uni","getStorageSync","identity","othercurrent","bills","products","detail","onLoad","options","console","log","rights","getdetail","methods","gotoexpressDet","is_vip","navigateTo","url","expressNum","showToast","title","icon","priview","previewImage","current","urls","Images","show_options","type","indexOf","extra_type","showActionSheet","itemList","success","res","tapIndex","status","confrimOrder","setStorageSync","revoke","print","print_operations","fail","errMsg","query","Bmob","Query","include","get","then","catch","err","wx","showModal","content","confirm","showLoading","destroy","objectId","containedIn","find","todos","destroyAll","i","length","delete_bill","hideLoading","navigateBack","delta","setTimeout","set","save","count","item","addOrReduceGoodReserve","ReduceGoodReserve","product","query1","goodsId","selected_model","num","model","models","reserve","Number","saveAll","now_reserve","warning_num","common","goodsName","bill"],"mappings":";;;;;;;;;;kDAAA,wCAAmB;;AAEnB;AACA,oH;AACAA,UAAU,CAACC,eAAD,CAAV,C;;;;;;;;;;;;;ACJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAmH;AACnH;AAC0D;AACL;AACa;;;AAGlE;AAC+M;AAC/M,gBAAgB,uNAAU;AAC1B,EAAE,4EAAM;AACR,EAAE,iFAAM;AACR,EAAE,0FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,qFAAU;AACZ;AACA;;AAEA;AACA,IAAI,KAAU,EAAE,YAiBf;AACD;AACe,gF;;;;;;;;;;;;AC1Cf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAkzB,CAAgB,k0BAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC6Nt0B;AACA;AACA,uF,8FA/NA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;kdASA,IAAIC,IAAJ,CACA,IAAIC,EAAJ,C,eACe,EACdC,UAAU,EAAE,EACXC,OAAO,EAAPA,OADW,EAEXC,SAAS,EAATA,SAFW,EADE,EAKdC,IALc,kBAKP,CACN,OAAO,EACNC,IAAI,EAAEC,GAAG,CAACC,cAAJ,CAAmB,MAAnB,CADA,EAENC,QAAQ,EAACF,GAAG,CAACC,cAAJ,CAAmB,UAAnB,CAFH,EAGNE,YAAY,EAAC,EAHP,EAINC,KAAK,EAAE,EAJD,EAKNR,OAAO,EAAE,IALH,EAMNS,QAAQ,EAAE,IANJ,EAONC,MAAM,EAAE,IAPF,EAAP,CASA,CAfa,EAgBdC,MAhBc,kBAgBPC,OAhBO,EAgBE,CACfC,OAAO,CAACC,GAAR,CAAYF,OAAZ,EACAf,IAAI,GAAG,IAAP,CACAC,EAAE,GAAGc,OAAO,CAACd,EAAb,CACA,IAAGD,IAAI,CAACM,IAAL,CAAUY,MAAV,IAAoBlB,IAAI,CA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","file":"pages/report/matterRecord/detail/detail.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'            \nimport Page from './pages/report/matterRecord/detail/detail.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./detail.vue?vue&type=template&id=420c7578&\"\nvar renderjs\nimport script from \"./detail.vue?vue&type=script&lang=js&\"\nexport * from \"./detail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./detail.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\Downloads\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\Downloads\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('420c7578')) {\n      api.createRecord('420c7578', component.options)\n    } else {\n      api.reload('420c7578', component.options)\n    }\n    module.hot.accept(\"./detail.vue?vue&type=template&id=420c7578&\", function () {\n      api.rerender('420c7578', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"C:/Users/Administrator/Desktop/testdd/kcb_all/pages/report/matterRecord/detail/detail.vue\"\nexport default component.exports","export * from \"-!D:\\\\Downloads\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\Downloads\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\Downloads\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\Downloads\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\Downloads\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Downloads\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./detail.vue?vue&type=template&id=420c7578&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\Downloads\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\Downloads\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\Downloads\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\Downloads\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Downloads\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./detail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\Downloads\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\Downloads\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\Downloads\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\Downloads\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Downloads\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./detail.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport Bmob from \"hydrogen-js-sdk\";\nimport print from \"@/utils/print.js\"\nimport common from \"@/utils/common.js\"\n\nimport loading from \"@/components/Loading/index.vue\"\nimport uniNavBar from '@/components/uni-nav-bar/uni-nav-bar.vue'\n\nlet that;\nlet id;\nexport default {\n\tcomponents: {\n\t\tloading,\n\t\tuniNavBar\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tuser: uni.getStorageSync(\"user\"),\n\t\t\tidentity:uni.getStorageSync(\"identity\"),\n\t\t\tothercurrent:'',\n\t\t\tbills: [],\n\t\t\tloading: true,\n\t\t\tproducts: null,\n\t\t\tdetail: null,\n\t\t}\n\t},\n\tonLoad(options) {\n\t\tconsole.log(options)\n\t\tthat = this;\n\t\tid = options.id;\n\t\tif(that.user.rights && that.user.rights.othercurrent){\n\t\t\tthat.othercurrent = that.user.rights.othercurrent\n\t\t}\n\t\tthat.getdetail(id);\n\t},\n\tmethods: {\n\n\t\tgotoexpressDet() {\n\t\t\tif (that.user.is_vip) {\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl: \"../expressDet/expressDet?number=\" + that.detail.expressNum\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: \"您还不是会员，无法使用\",\n\t\t\t\t\ticon: 'none'\n\t\t\t\t})\n\t\t\t}\n\t\t},\n\n\t\t//预览图片\n\t\tpriview(url) {\n\t\t\tuni.previewImage({\n\t\t\t\tcurrent: url,\n\t\t\t\turls: that.detail.Images,\n\t\t\t});\n\t\t},\n\n\t\t//点击显示操作菜单\n\t\tshow_options() {\n\t\t\tlet options = ['打印'];\n\t\t\tif (that.detail.type == -1 || that.detail.type == 1) {\n\t\t\t\tif(that.othercurrent.indexOf(\"3\") !=-1 || that.identity==1 && that.detail.extra_type == 1){\n\t\t\t\t\toptions = ['审核', '撤销', '打印']\n\t\t\t\t\t\n\t\t\t\t\tuni.showActionSheet({\n\t\t\t\t\t\titemList: options,\n\t\t\t\t\t\tsuccess: function(res) {\n\t\t\t\t\t\t\tif (res.tapIndex == 0) {\n\t\t\t\t\t\t\t\tif (that.detail.type == 1) {\n\t\t\t\t\t\t\t\t\tif (that.detail.status) {\n\t\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\t\ttitle: \"该笔采购单已审核\",\n\t\t\t\t\t\t\t\t\t\t\ticon: \"none\"\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tthat.confrimOrder()\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} else if (that.detail.type == -1) {\n\t\t\t\t\t\t\t\t\tif (that.detail.status) {\n\t\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\t\ttitle: \"该笔销售单已审核\",\n\t\t\t\t\t\t\t\t\t\t\ticon: \"none\"\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tthat.confrimOrder()\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tuni.setStorageSync(\"is_option\", true)\n\t\t\t\t\t\t\t} else if (res.tapIndex == 1) {\n\t\t\t\t\t\t\t\tthat.revoke()\n\t\t\t\t\t\t\t\tuni.setStorageSync(\"is_option\", true)\n\t\t\t\t\t\t\t} else if (res.tapIndex == 2) {\n\t\t\t\t\t\t\t\tprint.print_operations(that.detail, that.products)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfail: function(res) {\n\t\t\t\t\t\t\tconsole.log(res.errMsg);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t}else{\n\t\t\t\t\toptions = ['撤销', '打印']\n\t\t\t\t\tuni.showActionSheet({\n\t\t\t\t\t\titemList: options,\n\t\t\t\t\t\tsuccess: function(res) {\n\t\t\t\t\t\t\tif (res.tapIndex == 0) {\n\t\t\t\t\t\t\t\tthat.revoke()\n\t\t\t\t\t\t\t\tuni.setStorageSync(\"is_option\", true)\n\t\t\t\t\t\t\t} else if (res.tapIndex == 1) {\n\t\t\t\t\t\t\t\tprint.print_operations(that.detail, that.products)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfail: function(res) {\n\t\t\t\t\t\t\tconsole.log(res.errMsg);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\toptions = ['撤销', '打印']\n\t\t\t\tuni.showActionSheet({\n\t\t\t\t\titemList: options,\n\t\t\t\t\tsuccess: function(res) {\n\t\t\t\t\t\tif (res.tapIndex == 0) {\n\t\t\t\t\t\t\tthat.revoke()\n\t\t\t\t\t\t\tuni.setStorageSync(\"is_option\", true)\n\t\t\t\t\t\t} else if (res.tapIndex == 1) {\n\t\t\t\t\t\t\tprint.print_operations(that.detail, that.products)\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tfail: function(res) {\n\t\t\t\t\t\tconsole.log(res.errMsg);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\n\t\tgetdetail: function(id) {\n\t\t\tconst query = Bmob.Query('order_opreations');\n\t\t\tquery.include(\"opreater\", \"custom\", \"producer\", \"stock\");\n\t\t\tquery.get(id).then(res => {\n\t\t\t\tconsole.log(res);\n\t\t\t\tthat.detail = res;\n\t\t\t\tthat.products = res.detail;\n\t\t\t\tthat.bills = res.bills;\n\t\t\t\tthat.loading = false;\n\t\t\t}).catch(err => {\n\t\t\t\tconsole.log(err)\n\t\t\t})\n\t\t},\n\n\t\t//数据撤销点击\n\t\trevoke: function() {\n\t\t\twx.showModal({\n\t\t\t\ttitle: '提示',\n\t\t\t\tcontent: '数据撤销后不可恢复，请谨慎撤销！',\n\t\t\t\tsuccess(res) {\n\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\tuni.showLoading({\n\t\t\t\t\t\t\ttitle: '撤销中...'\n\t\t\t\t\t\t})\n\t\t\t\t\t\tconst query = Bmob.Query('order_opreations');\n\t\t\t\t\t\tquery.destroy(that.detail.objectId).then(res => {\n\t\t\t\t\t\t\tconst query = Bmob.Query('NBills');\n\t\t\t\t\t\t\tquery.containedIn(\"objectId\", that.bills);\n\t\t\t\t\t\t\tquery.find().then(todos => {\n\n\t\t\t\t\t\t\t\ttodos.destroyAll().then(res => {\n\t\t\t\t\t\t\t\t\t// 成功批量修改\n\t\t\t\t\t\t\t\t\tif (that.detail.status) {\n\t\t\t\t\t\t\t\t\t\tfor (var i = 0; i < that.products.length; i++) {\n\t\t\t\t\t\t\t\t\t\t\tthat.delete_bill(i);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\t\t\t\t\tuni.navigateBack({\n\t\t\t\t\t\t\t\t\t\t\tdelta: 1\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\t\t\ttitle: '撤销成功'\n\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t}, 1000);\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t}).catch(err => {\n\t\t\t\t\t\t\t\t\tconsole.log(err)\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}).catch(err => {\n\t\t\t\t\t\t\tconsole.log(err)\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\n\t\t//审核订单\n\t\tconfrimOrder() {\n\t\t\twx.showModal({\n\t\t\t\ttitle: '提示',\n\t\t\t\tcontent: '是否审核该笔操作单！',\n\t\t\t\tsuccess(res) {\n\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\tuni.showLoading({\n\t\t\t\t\t\t\ttitle: '审核中，请勿退出该页面...'\n\t\t\t\t\t\t})\n\t\t\t\t\t\tconst query = Bmob.Query('order_opreations');\n\t\t\t\t\t\tquery.set('id', id) //需要修改的objectId\n\t\t\t\t\t\tquery.set('status', true)\n\t\t\t\t\t\tquery.save().then(res => {\n\t\t\t\t\t\t\t//console.log(res)\n\t\t\t\t\t\t\tlet count = 0\n\t\t\t\t\t\t\tif (that.detail.type == 1) {\n\t\t\t\t\t\t\t\tfor (let item of that.products) {\n\t\t\t\t\t\t\t\t\tthat.addOrReduceGoodReserve(item, count);\n\t\t\t\t\t\t\t\t\tcount += 1;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else if (that.detail.type == -1) {\n\t\t\t\t\t\t\t\tfor (let item of that.products) {\n\t\t\t\t\t\t\t\t\tthat.ReduceGoodReserve(item, count);\n\t\t\t\t\t\t\t\t\tcount += 1;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}).catch(err => {\n\t\t\t\t\t\t\tconsole.log(err)\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\n\t\t//采购单确定审核之后改变物料库存\n\t\taddOrReduceGoodReserve(product, count) {\n\t\t\tconst query1 = Bmob.Query('Matters');\n\t\t\tquery1.get(product.goodsId.objectId).then(res => {\n\t\t\t\t//console.log(res)\n\t\t\t\tif (product.goodsId.selected_model) {\n\t\t\t\t\tlet num = 0;\n\t\t\t\t\tfor (let model of product.goodsId.selected_model) {\n\t\t\t\t\t\tfor (let item of res.models) {\n\t\t\t\t\t\t\tif (item.id == model.id) {\n\t\t\t\t\t\t\t\titem.reserve = Number(item.reserve) + Number(model.num)\n\t\t\t\t\t\t\t\t//console.log(item.reserve)\n\t\t\t\t\t\t\t\tnum += Number(model.num)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t//console.log(res.models)\n\t\t\t\t\tres.set('models', res.models)\n\t\t\t\t\tres.set('reserve', res.reserve + num);\n\t\t\t\t} else {\n\t\t\t\t\tres.set('reserve', res.reserve + product.num);\n\t\t\t\t}\n\n\t\t\t\tres.save().then(res => {\n\t\t\t\t\tif (count == (that.products.length - 1)) {\n\t\t\t\t\t\tconst query = Bmob.Query('NBills');\n\t\t\t\t\t\tquery.containedIn(\"objectId\", that.bills);\n\t\t\t\t\t\tquery.find().then(todos => {\n\t\t\t\t\t\t\ttodos.set('status', true);\n\t\t\t\t\t\t\ttodos.saveAll().then(res => {\n\t\t\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\t\t\tuni.navigateBack({\n\t\t\t\t\t\t\t\t\tdelta: 1\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\ttitle: '审核成功'\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}, 1000);\n\t\t\t\t\t\t\t\t//console.log(res, 'ok')\n\t\t\t\t\t\t\t}).catch(err => {\n\t\t\t\t\t\t\t\tconsole.log(err)\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t})\n\t\t},\n\n\t\t//销售单确认审核之后减少库存\n\t\tReduceGoodReserve(product, count) {\n\t\t\tconst query1 = Bmob.Query('Matters');\n\t\t\tlet now_reserve = 0;\n\t\t\tquery1.get(product.goodsId.objectId).then(res => {\n\t\t\t\t//console.log(res)\n\t\t\t\tif (product.goodsId.selected_model) {\n\t\t\t\t\tlet num = 0;\n\t\t\t\t\tfor (let model of product.goodsId.selected_model) {\n\t\t\t\t\t\tfor (let item of res.models) {\n\t\t\t\t\t\t\tif (item.id == model.id) {\n\t\t\t\t\t\t\t\titem.reserve = Number(item.reserve) - Number(model.num)\n\t\t\t\t\t\t\t\t//console.log(item.reserve)\n\t\t\t\t\t\t\t\tnum += Number(model.num)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t//console.log(res.models)\n\t\t\t\t\tres.set('models', res.models)\n\t\t\t\t\tres.set('reserve', res.reserve - num);\n\t\t\t\t\tnow_reserve = res.reserve - num\n\t\t\t\t} else {\n\t\t\t\t\tres.set('reserve', res.reserve - product.num);\n\t\t\t\t\tnow_reserve = res.reserve - product.num\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tconsole.log(product)\n\t\t\t\t\n\t\t\t\tres.save().then(res => {\n\t\t\t\t\t\n\t\t\t\t\tif (product.warning_num >= now_reserve) {\n\t\t\t\t\t\tcommon.log(product.goodsName + \"销售了\" + product.num + \"件，已经低于预警数量\" + product.warning_num, -2, product.goodsId.objectId);\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tif (count == (that.products.length - 1)) {\n\t\t\t\t\t\tconst query = Bmob.Query('NBills');\n\t\t\t\t\t\tquery.containedIn(\"objectId\", that.bills);\n\t\t\t\t\t\tquery.find().then(todos => {\n\t\t\t\t\t\t\ttodos.set('status', true);\n\t\t\t\t\t\t\ttodos.saveAll().then(res => {\n\t\t\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\t\t\tuni.navigateBack({\n\t\t\t\t\t\t\t\t\tdelta: 1\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\ttitle: '审核成功'\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}, 1000);\n\t\t\t\t\t\t\t\t//console.log(res, 'ok')\n\t\t\t\t\t\t\t}).catch(err => {\n\t\t\t\t\t\t\t\tconsole.log(err)\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t})\n\t\t},\n\n\t\tdelete_bill: function(i) {\n\t\t\tlet product = that.products[i];\n\t\t\tlet bill = that.bills[i]\n\n\t\t\tconst query1 = Bmob.Query('Matters');\n\t\t\tquery1.set('id', product.goodsId.objectId);\n\t\t\tif (product.type == 1) {\n\t\t\t\tquery1.set('reserve', product.goodsId.reserve - product.num);\n\t\t\t} else if (product.type == -1) {\n\t\t\t\tquery1.set('reserve', product.goodsId.reserve + product.num);\n\t\t\t}\n\t\t\tquery1.save().then(res => {\n\t\t\t\tif (i == (that.products.length - 1)) {\n\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\tuni.navigateBack({\n\t\t\t\t\t\tdelta: 1\n\t\t\t\t\t})\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: '撤销成功'\n\t\t\t\t\t\t})\n\t\t\t\t\t}, 1000);\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\n\t}\n}\n","import mod from \"-!D:\\\\Downloads\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\Downloads\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-1!D:\\\\Downloads\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\Downloads\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\Downloads\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\Downloads\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Downloads\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./detail.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!D:\\\\Downloads\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\Downloads\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-1!D:\\\\Downloads\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\Downloads\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\Downloads\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\Downloads\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Downloads\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./detail.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}