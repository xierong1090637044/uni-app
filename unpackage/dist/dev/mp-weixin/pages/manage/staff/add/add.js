(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/manage/staff/add/add"],{1194:
/*!***********************************************************************************************************!*\
  !*** C:/Users/Administrator/Desktop/wechat/kcb_all/main.js?{"page":"pages%2Fmanage%2Fstaff%2Fadd%2Fadd"} ***!
  \***********************************************************************************************************/
/*! no static exports found */function(t,e,n){"use strict";(function(t){n(/*! uni-pages */4),n(/*! @dcloudio/uni-stat */5);s(n(/*! vue */2));var e=s(n(/*! ./pages/manage/staff/add/add.vue */1195));function s(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1)["createPage"])},1195:
/*!************************************************************************************!*\
  !*** C:/Users/Administrator/Desktop/wechat/kcb_all/pages/manage/staff/add/add.vue ***!
  \************************************************************************************/
/*! no static exports found */function(t,e,n){"use strict";n.r(e);var s=n(/*! ./add.vue?vue&type=template&id=78f5786a& */1196),a=n(/*! ./add.vue?vue&type=script&lang=js& */1198);for(var o in a)"default"!==o&&function(t){n.d(e,t,(function(){return a[t]}))}(o);n(/*! ./add.vue?vue&type=style&index=0&lang=css& */1200);var r,f=n(/*! ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js */70),i=Object(f["default"])(a["default"],s["render"],s["staticRenderFns"],!1,null,null,null,!1,s["components"],r);i.options.__file="C:/Users/Administrator/Desktop/wechat/kcb_all/pages/manage/staff/add/add.vue",e["default"]=i.exports},1196:
/*!*******************************************************************************************************************!*\
  !*** C:/Users/Administrator/Desktop/wechat/kcb_all/pages/manage/staff/add/add.vue?vue&type=template&id=78f5786a& ***!
  \*******************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */function(t,e,n){"use strict";n.r(e);var s=n(/*! -!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./add.vue?vue&type=template&id=78f5786a& */1197);n.d(e,"render",(function(){return s["render"]})),n.d(e,"staticRenderFns",(function(){return s["staticRenderFns"]})),n.d(e,"recyclableRender",(function(){return s["recyclableRender"]})),n.d(e,"components",(function(){return s["components"]}))},1197:
/*!*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!C:/Users/Administrator/Desktop/wechat/kcb_all/pages/manage/staff/add/add.vue?vue&type=template&id=78f5786a& ***!
  \*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */function(t,e,n){"use strict";n.r(e),n.d(e,"render",(function(){return a})),n.d(e,"staticRenderFns",(function(){return r})),n.d(e,"recyclableRender",(function(){return o})),n.d(e,"components",(function(){return s}));var s={"uni-nav-bar":function(){return n.e(/*! import() | components/uni-nav-bar/uni-nav-bar */"components/uni-nav-bar/uni-nav-bar").then(n.bind(null,/*! @/components/uni-nav-bar/uni-nav-bar.vue */1333))}},a=function(){var t=this,e=t.$createElement;t._self._c},o=!1,r=[];a._withStripped=!0},1198:
/*!*************************************************************************************************************!*\
  !*** C:/Users/Administrator/Desktop/wechat/kcb_all/pages/manage/staff/add/add.vue?vue&type=script&lang=js& ***!
  \*************************************************************************************************************/
/*! no static exports found */function(t,e,n){"use strict";n.r(e);var s=n(/*! -!./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./add.vue?vue&type=script&lang=js& */1199),a=n.n(s);for(var o in s)"default"!==o&&function(t){n.d(e,t,(function(){return s[t]}))}(o);e["default"]=a.a},1199:
/*!********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!C:/Users/Administrator/Desktop/wechat/kcb_all/pages/manage/staff/add/add.vue?vue&type=script&lang=js& ***!
  \********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=a(n(/*! hydrogen-js-sdk */13));function a(t){return t&&t.__esModule?t:{default:t}}var o,r,f,i,d=function(){n.e(/*! require.ensure | components/kilvn-fa-icon/fa-icon */"components/kilvn-fa-icon/fa-icon").then(function(){return resolve(n(/*! @/components/kilvn-fa-icon/fa-icon.vue */1314))}.bind(null,n)).catch(n.oe)},c=function(){n.e(/*! require.ensure | components/uni-nav-bar/uni-nav-bar */"components/uni-nav-bar/uni-nav-bar").then(function(){return resolve(n(/*! @/components/uni-nav-bar/uni-nav-bar.vue */1333))}.bind(null,n)).catch(n.oe)},u={},l={components:{faIcon:d,uniNavBar:c},data:function(){return{stocks:t.getStorageSync("_warehouse"),modify_desc:"添加",disabled:!0,shop_name:"",staff_name:"",staff_address:"",staff_phone:"",staff_password:""}},onLoad:function(e){o=this,t.getStorageSync("uid")},onShow:function(){i=t.getStorageSync("staff"),f=t.getStorageSync("shop"),u=t.getStorageSync("staffRights")||{},i&&(t.setNavigationBarTitle({title:"修改员工信息"}),o.modify_desc="修改",o.shop_name=i.shop?i.shop.name:"",o.staff_name=i.nickName,o.staff_address=i.address,o.staff_phone=i.mobilePhoneNumber,o.staff_password=i.pwd||"",t.setStorageSync("staffRights",i.rights))},methods:{switchChange:function(t){o.disabled=t.detail.value},start_add:function(){null==this.staff_name?t.showToast({title:"请输入姓名",icon:"none"}):this.staff_phone.length<11?t.showToast({title:"账号不能少于11位",icon:"none"}):""==this.staff_password||null==this.staff_password||void 0==this.staff_password?t.showToast({title:"请输入密码",icon:"none"}):this.staff_password.length<6?t.showToast({title:"密码不能少于6位",icon:"none"}):o.add_data()},add_data:function(){if(t.showLoading({title:"上传中..."}),i){t.hideLoading();var e=t.getStorageSync("uid"),n=s.default.Pointer("_User"),a=n.set(e),d=s.default.Query("_User");d.set("username",o.staff_phone),d.set("nickName",o.staff_name),d.set("password",o.staff_password),d.set("pwd",o.staff_password),d.set("mobilePhoneNumber",o.staff_phone),d.set("rights",u),d.set("address",null==o.staff_address?"":o.staff_address),d.set("avatarUrl","http://bmob-cdn-23134.b0.upaiyun.com/2019/04/29/4705b31340bfff8080c068f52fd17e2c.png"),d.set("masterId",a),d.set("disabled",!o.disabled),d.set("stocks",u.select_stocks||[]),d.set("identity",2),d.set("id",i.objectId),d.save().then((function(e){o.select_stocks=[],t.removeStorageSync("staffRights"),setTimeout((function(){t.showToast({title:"修改成功"})}),1e3),t.navigateBack({delta:2})})).catch((function(t){console.log(t)}))}else{var c=s.default.Query("_User");c.equalTo("mobilePhoneNumber","==",o.staff_phone),c.find().then((function(e){if(console.log(e),0==e.length){t.hideLoading();var n=t.getStorageSync("uid"),a=s.default.Pointer("_User"),i=a.set(n),d=s.default.Query("_User");d.set("username",o.staff_phone),f&&d.set("shop",r),d.set("stocks",u.select_stocks||[]),d.set("nickName",o.staff_name),d.set("password",o.staff_password),d.set("pwd",o.staff_password),d.set("mobilePhoneNumber",o.staff_phone),d.set("rights",u),d.set("address",null==o.staff_address?"":o.staff_address),d.set("avatarUrl","http://bmob-cdn-23134.b0.upaiyun.com/2019/04/29/4705b31340bfff8080c068f52fd17e2c.png"),d.set("masterId",i),d.set("have_out",0),d.set("disabled",!o.disabled),d.save().then((function(e){console.log(e),t.showToast({title:"添加成功"}),o.select_stocks=[],t.removeStorageSync("staffRights")})).catch((function(e){209==e.code&&t.showToast({title:"已存在此账号",icon:"none"})}))}else t.hideLoading(),t.showToast({title:"已存在此账号",icon:"none"})}))}}}};e.default=l}).call(this,n(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1)["default"])},1200:
/*!*********************************************************************************************************************!*\
  !*** C:/Users/Administrator/Desktop/wechat/kcb_all/pages/manage/staff/add/add.vue?vue&type=style&index=0&lang=css& ***!
  \*********************************************************************************************************************/
/*! no static exports found */function(t,e,n){"use strict";n.r(e);var s=n(/*! -!./node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--6-oneOf-1-2!./node_modules/postcss-loader/src??ref--6-oneOf-1-3!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./add.vue?vue&type=style&index=0&lang=css& */1201),a=n.n(s);for(var o in s)"default"!==o&&function(t){n.d(e,t,(function(){return s[t]}))}(o);e["default"]=a.a},1201:
/*!*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--6-oneOf-1-2!./node_modules/postcss-loader/src??ref--6-oneOf-1-3!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!C:/Users/Administrator/Desktop/wechat/kcb_all/pages/manage/staff/add/add.vue?vue&type=style&index=0&lang=css& ***!
  \*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(t,e,n){}},[[1194,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../../../.sourcemap/mp-weixin/pages/manage/staff/add/add.js.map