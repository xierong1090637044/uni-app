(global.webpackJsonp=global.webpackJsonp||[]).push([["pages/manage/staff/add/add"],{937:
/*!***********************************************************************************************************!*\
  !*** C:/Users/Administrator/Desktop/wechat/kcb_all/main.js?{"page":"pages%2Fmanage%2Fstaff%2Fadd%2Fadd"} ***!
  \***********************************************************************************************************/
/*! no static exports found */function(t,e,s){"use strict";(function(t){s(/*! uni-pages */4),s(/*! @dcloudio/uni-stat */5);e(s(/*! vue */2));function e(t){return t&&t.__esModule?t:{default:t}}t(e(s(/*! ./pages/manage/staff/add/add.vue */938)).default)}).call(this,s(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1).createPage)},938:
/*!************************************************************************************!*\
  !*** C:/Users/Administrator/Desktop/wechat/kcb_all/pages/manage/staff/add/add.vue ***!
  \************************************************************************************/
/*! no static exports found */function(t,e,s){"use strict";s.r(e);var n=s(/*! ./add.vue?vue&type=template&id=78f5786a& */939),a=s(/*! ./add.vue?vue&type=script&lang=js& */941);for(var o in a)"default"!==o&&function(t){s.d(e,t,function(){return a[t]})}(o);s(/*! ./add.vue?vue&type=style&index=0&lang=css& */943);var f=s(/*! ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js */70),r=Object(f.default)(a.default,n.render,n.staticRenderFns,!1,null,null,null,!1,n.components,void 0);r.options.__file="C:/Users/Administrator/Desktop/wechat/kcb_all/pages/manage/staff/add/add.vue",e.default=r.exports},939:
/*!*******************************************************************************************************************!*\
  !*** C:/Users/Administrator/Desktop/wechat/kcb_all/pages/manage/staff/add/add.vue?vue&type=template&id=78f5786a& ***!
  \*******************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */function(t,e,s){"use strict";s.r(e);var n=s(/*! -!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./add.vue?vue&type=template&id=78f5786a& */940);s.d(e,"render",function(){return n.render}),s.d(e,"staticRenderFns",function(){return n.staticRenderFns}),s.d(e,"recyclableRender",function(){return n.recyclableRender}),s.d(e,"components",function(){return n.components})},940:
/*!*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!C:/Users/Administrator/Desktop/wechat/kcb_all/pages/manage/staff/add/add.vue?vue&type=template&id=78f5786a& ***!
  \*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */function(t,e,s){"use strict";s.r(e),s.d(e,"render",function(){return n}),s.d(e,"staticRenderFns",function(){return o}),s.d(e,"recyclableRender",function(){return a}),s.d(e,"components",function(){});var n=function(){var t=this.$createElement;this._self._c},a=!1,o=[];n._withStripped=!0},941:
/*!*************************************************************************************************************!*\
  !*** C:/Users/Administrator/Desktop/wechat/kcb_all/pages/manage/staff/add/add.vue?vue&type=script&lang=js& ***!
  \*************************************************************************************************************/
/*! no static exports found */function(t,e,s){"use strict";s.r(e);var n=s(/*! -!./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./add.vue?vue&type=script&lang=js& */942),a=s.n(n);for(var o in n)"default"!==o&&function(t){s.d(e,t,function(){return n[t]})}(o);e.default=a.a},942:
/*!********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!C:/Users/Administrator/Desktop/wechat/kcb_all/pages/manage/staff/add/add.vue?vue&type=script&lang=js& ***!
  \********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(t,e,s){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,a=(n=s(/*! hydrogen-js-sdk */13))&&n.__esModule?n:{default:n};var o,f,r,i,d={},c={components:{faIcon:function(){return s.e(/*! import() | components/kilvn-fa-icon/fa-icon */"components/kilvn-fa-icon/fa-icon").then(s.bind(null,/*! @/components/kilvn-fa-icon/fa-icon.vue */1049))},uniNavBar:function(){return s.e(/*! import() | components/uni-nav-bar/uni-nav-bar */"components/uni-nav-bar/uni-nav-bar").then(s.bind(null,/*! @/components/uni-nav-bar/uni-nav-bar.vue */1068))}},data:function(){return{stocks:t.getStorageSync("_warehouse"),modify_desc:"添加",disabled:!0,shop_name:"",staff_name:"",staff_address:"",staff_phone:"",staff_password:""}},onLoad:function(e){o=this,t.getStorageSync("uid")},onShow:function(){if(i=t.getStorageSync("staff"),r=t.getStorageSync("shop"),d=t.getStorageSync("staffRights")||{},i&&(t.setNavigationBarTitle({title:"修改员工信息"}),o.modify_desc="修改",o.shop_name=i.shop?i.shop.name:"",o.staff_name=i.nickName,o.staff_address=i.address,o.staff_phone=i.mobilePhoneNumber,o.staff_password=i.pwd||"",t.setStorageSync("staffRights",i.rights)),r){o.shop_name=r.name;var e=a.default.Pointer("shops");f=e.set(r.objectId)}},methods:{switchChange:function(t){o.disabled=t.detail.value},start_add:function(){null==this.staff_name?t.showToast({title:"请输入姓名",icon:"none"}):this.staff_phone.length<11?t.showToast({title:"账号不能少于11位",icon:"none"}):""==this.staff_password||null==this.staff_password||null==this.staff_password?t.showToast({title:"请输入密码",icon:"none"}):this.staff_password.length<6?t.showToast({title:"密码不能少于6位",icon:"none"}):o.add_data()},add_data:function(){if(t.showLoading({title:"上传中..."}),i){t.hideLoading();var e=t.getStorageSync("uid"),s=a.default.Pointer("_User").set(e),n=a.default.Query("_User");n.set("username",o.staff_phone),n.set("nickName",o.staff_name),n.set("password",o.staff_password),n.set("pwd",o.staff_password),n.set("mobilePhoneNumber",o.staff_phone),n.set("rights",d),n.set("address",null==o.staff_address?"":o.staff_address),n.set("avatarUrl","http://bmob-cdn-23134.b0.upaiyun.com/2019/04/29/4705b31340bfff8080c068f52fd17e2c.png"),n.set("masterId",s),n.set("disabled",!o.disabled),n.set("stocks",d.select_stocks||[]),n.set("identity",2),r&&n.set("shop",f),n.set("id",i.objectId),n.save().then(function(e){console.log(e),t.showToast({title:"修改成功"}),o.select_stocks=[],t.removeStorageSync("staffRights")}).catch(function(t){console.log(t)})}else{var c=a.default.Query("_User");c.equalTo("mobilePhoneNumber","==",o.staff_phone),c.find().then(function(e){if(console.log(e),0==e.length){t.hideLoading();var s=t.getStorageSync("uid"),n=a.default.Pointer("_User").set(s),i=a.default.Query("_User");i.set("username",o.staff_phone),r&&i.set("shop",f),i.set("stocks",d.select_stocks||[]),i.set("nickName",o.staff_name),i.set("password",o.staff_password),i.set("pwd",o.staff_password),i.set("mobilePhoneNumber",o.staff_phone),i.set("rights",d),i.set("address",null==o.staff_address?"":o.staff_address),i.set("avatarUrl","http://bmob-cdn-23134.b0.upaiyun.com/2019/04/29/4705b31340bfff8080c068f52fd17e2c.png"),i.set("masterId",n),i.set("have_out",0),i.set("disabled",!o.disabled),i.save().then(function(e){console.log(e),t.showToast({title:"添加成功"}),o.select_stocks=[],t.removeStorageSync("staffRights")}).catch(function(e){209==e.code&&t.showToast({title:"已存在此账号",icon:"none"})})}else t.hideLoading(),t.showToast({title:"已存在此账号",icon:"none"})})}}}};e.default=c}).call(this,s(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1).default)},943:
/*!*********************************************************************************************************************!*\
  !*** C:/Users/Administrator/Desktop/wechat/kcb_all/pages/manage/staff/add/add.vue?vue&type=style&index=0&lang=css& ***!
  \*********************************************************************************************************************/
/*! no static exports found */function(t,e,s){"use strict";s.r(e);var n=s(/*! -!./node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--6-oneOf-1-1!./node_modules/css-loader??ref--6-oneOf-1-2!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--6-oneOf-1-3!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./add.vue?vue&type=style&index=0&lang=css& */944),a=s.n(n);for(var o in n)"default"!==o&&function(t){s.d(e,t,function(){return n[t]})}(o);e.default=a.a},944:
/*!*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--6-oneOf-1-1!./node_modules/css-loader??ref--6-oneOf-1-2!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--6-oneOf-1-3!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!C:/Users/Administrator/Desktop/wechat/kcb_all/pages/manage/staff/add/add.vue?vue&type=style&index=0&lang=css& ***!
  \*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(t,e,s){}},[[937,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../../../.sourcemap/mp-weixin/pages/manage/staff/add/add.js.map