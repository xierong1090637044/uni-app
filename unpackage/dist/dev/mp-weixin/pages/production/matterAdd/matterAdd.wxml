<view class="page"><form data-event-opts="{{[['submit',[['formSubmit',['$event']]]]]}}" bindsubmit="__e"><scroll-view style="height:calc(100vh - 160rpx);" scroll-y><view class="frist"><view class="notice_text">物料图</view><view style="width:100%;padding:20rpx 0;"><view data-event-opts="{{[['tap',[['upload_image',['$event']]]]]}}" class="upload_image" bindtap="__e"><block wx:if="{{goodsIcon}}"><image style="width:180rpx;height:180rpx;" src="{{goodsIcon}}"></image></block><block wx:else><fa-icon style="height:180rpx;line-height:180rpx;" vue-id="1" type="plus-square-o" size="40" color="#426ab3" bind:__l="__l"></fa-icon></block></view><input hidden="{{!(false)}}" name="goodsIcon" value="{{goodsIcon}}"/></view></view><view class="frist" style="margin-bottom:20rpx;"><view class="notice_text">基本信息</view><view class="input_item"><view class="left_item">名称<text style="color:#aa2116;margin-left:4rpx;">*</text></view><view class="right_input1"><input placeholder="物料名称" name="goodsName" value="{{goodsName}}"/></view></view><navigator class="input_item2" hover-class="none" url="/pages/production/matterCategroy/matterCategroy?type=choose"><view style="display:flex;align-items:center;"><view class="left_item">类别</view><view class="right_input1"><input placeholder="物料类别" name="goodsClass" disabled="true" value="{{category.class_text}}"/></view></view><view><fa-icon vue-id="2" type="angle-right" size="20" color="#999" bind:__l="__l"></fa-icon></view></navigator><view class="input_item"><view class="left_item">进价</view><view class="right_input1"><input placeholder="进价" name="costPrice" type="digit" value="{{costPrice}}"/></view></view><view class="input_item"><view class="left_item">售价</view><view class="right_input1"><input placeholder="售价" name="retailPrice" type="digit" value="{{retailPrice}}"/></view></view><view class="input_item"><view class="left_item">规格</view><view class="right_input1"><input placeholder="规格" name="packageContent" value="{{packageContent}}"/></view></view><view class="input_item"><view class="left_item">包装单位</view><view class="right_input1"><input placeholder="包装单位" name="packingUnit" value="{{packingUnit}}"/></view></view><view class="input_item"><view class="left_item">材质</view><view class="right_input1"><input placeholder="材质" name="packingModel" value="{{packingModel}}"/></view></view><view class="input_item"><view class="left_item">编号</view><view class="right_input1"><input placeholder="编号" name="regNumber" value="{{regNumber}}"/></view></view><view class="input_item"><view class="left_item">物料简介</view><view class="right_input1"><input placeholder="物料简介" name="product_info" value="{{product_info}}"/></view></view></view><block wx:for="{{stocks}}" wx:for-item="item" wx:for-index="index" wx:key="index"><block wx:if="{{stocks.length>0}}"><view class="frist1"><view style="line-height:70rpx;"><view class="display_flex_bet"><view class="input_item" style="width:100%;"><view class="left_item">初始库存</view><input placeholder="初始库存" type="digit" name="reserve" data-event-opts="{{[['input',[['change_reserve',['$event',index]]]]]}}" value="{{item.reserve}}" bindinput="__e"/></view></view></view><view class="input_item"><view class="left_item">预警库存</view><view class="right_input1"><input placeholder="预警库存" name="warning_num" type="digit" data-event-opts="{{[['input',[['change_warningnum',['$event',index]]]]]}}" value="{{item.warning_num}}" bindinput="__e"/></view></view><view class="input_item2"><view style="display:flex;align-items:center;"><view class="left_item">仓库</view><view class="right_input1"><input placeholder="选择仓库" disabled="true" value="{{item.stock.stock_name}}"/></view></view><view data-event-opts="{{[['tap',[['remove_stock',[index]]]]]}}" style="color:#2ca879;font-weight:bold;" bindtap="__e">移除</view></view></view></block></block><navigator class="input_item2 frist1" style="margin-bottom:30rpx;justify-content:center;" hover-class="none" url="/pages/manage/warehouse/warehouse?type=choose_more"><view style="display:flex;align-items:center;"><view class="left_item" style="color:#2ca879;">选择仓库</view><fa-icon vue-id="3" type="angle-right" size="20" color="#2ca879" bind:__l="__l"></fa-icon></view></navigator></scroll-view><view class="display_flex_bet"><button class="submit_button" formType="submit">保存</button><button class="reset_button" formType="reset" data-event-opts="{{[['tap',[['e0',['$event']]]]]}}" bindtap="__e">重置</button></view></form></view>