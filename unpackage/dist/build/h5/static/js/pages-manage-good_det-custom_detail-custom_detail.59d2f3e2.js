(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-manage-good_det-custom_detail-custom_detail"],{"44a4":function(t,e,n){e=t.exports=n("2350")(!1),e.push([t.i,".page-body[data-v-fb1d8ccc]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex}.nav[data-v-fb1d8ccc]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;width:100%}.nav-left[data-v-fb1d8ccc]{width:30%;background:#fff;border-right:solid %?1?% #e0e0e0}.nav-left-item[data-v-fb1d8ccc]{height:%?100?%;border-bottom:solid %?1?% #e0e0e0;font-size:%?20?%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;color:#3d3d3d;font-weight:700}.nav-right[data-v-fb1d8ccc]{width:70%;background:#fff}.nav-right-item[data-v-fb1d8ccc]{width:calc(100% - %?44?%);float:left;text-align:center;padding:0 %?20?%;font-size:%?24?%}.active[data-v-fb1d8ccc]{color:#007aff}",""])},"4eac":function(t,e,n){var o=n("44a4");"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var i=n("4f06").default;i("548414fa",o,!0,{sourceMap:!1,shadowMode:!1})},"4f23":function(t,e,n){"use strict";var o=n("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("7514");var i,a,c=o(n("bba2")),s=o(n("00eb")),u=o(n("b841")),l=(uni.getStorageSync("uid"),{components:{faIcon:s.default,loading:u.default},data:function(){return{custom_list:[],categoryList:[],subCategoryList:[],height:0,categoryActive:0,scrollTop:0,scrollHeight:0}},methods:{scroll:function(t){this.scrollHeight=t.detail.scrollHeight},categoryClickMain:function(t,e){this.categoryActive=e,this.scrollTop=-this.scrollHeight*e,this.get_detail(t)},get_detail:function(t){var e=this,n=Bmob.Query("Bills");n.equalTo("type","==",-1),n.equalTo("goodsId","==",a),n.equalTo("custom","==",t),n.include("operater","goodsId"),n.find().then(function(t){console.log(t),e.subCategoryList=t})}},onLoad:function(t){a=t.id,i=this,c.default.get_customList().then(function(t){i.custom_list=t,i.get_detail(t[0].objectId)}),this.height=uni.getSystemInfoSync().windowHeight}});e.default=l},"589c":function(t,e,n){"use strict";n.r(e);var o=n("7527"),i=n("ff2f");for(var a in i)"default"!==a&&function(t){n.d(e,t,function(){return i[t]})}(a);n("c79e");var c=n("2877"),s=Object(c["a"])(i["default"],o["a"],o["b"],!1,null,"fb1d8ccc",null);e["default"]=s.exports},7527:function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"container"},[n("v-uni-view",{staticClass:"page-body"},[n("v-uni-scroll-view",{staticClass:"nav-left",style:"height:"+t.height+"px",attrs:{"scroll-y":""}},t._l(t.custom_list,function(e,o){return n("v-uni-view",{key:o,staticClass:"nav-left-item",class:o==t.categoryActive?"active":"",on:{click:function(n){n=t.$handleEvent(n),t.categoryClickMain(e.objectId,o)}}},[t._v(t._s(e.custom_name))])}),1),n("v-uni-scroll-view",{staticClass:"nav-right",style:"height:"+t.height+"px",attrs:{"scroll-y":"","scroll-top":t.scrollTop,"scroll-with-animation":""},on:{scroll:function(e){e=t.$handleEvent(e),t.scroll(e)}}},t._l(t.subCategoryList,function(e,o){return n("v-uni-view",{key:o,staticClass:"nav-right-item",attrs:{id:0===o?"first":""}},[n("v-uni-view",{staticStyle:{"text-align":"left","border-bottom":"solid 1rpx #E0E0E0",padding:"20rpx 0"}},[n("v-uni-view",[t._v("销售商品："+t._s(e.goodsName))]),n("v-uni-view",{staticClass:"display_flex_bet"},[n("v-uni-view",[t._v("实际单价："+t._s(e.goodsId.retailPrice))]),n("v-uni-view",[t._v("卖出单价："+t._s(e.retailPrice))])],1),n("v-uni-view",{staticClass:"display_flex_bet"},[n("v-uni-view",[t._v("数量："+t._s(e.num))])],1),n("v-uni-view",[t._v("操作者："+t._s(e.operater.nickName))]),n("v-uni-view",[t._v(t._s(e.createdAt))])],1)],1)}),1)],1)],1)},i=[];n.d(e,"a",function(){return o}),n.d(e,"b",function(){return i})},bba2:function(t,e,n){"use strict";var o=n("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("c5f6");var i=o(n("5d73"));n("7514");var a=o(n("795b")),c={get_customList:function(t,e){return new a.default(function(n,o){var i=uni.getStorageSync("uid"),a=Bmob.Query("customs");a.order("num"),a.equalTo("parent","==",i),a.equalTo("disabled","==",t),e&&a.equalTo("name","==",{$regex:e+".*"}),a.find().then(function(t){n(t)})})},get_customCount:function(){return new a.default(function(t,e){var n=uni.getStorageSync("uid"),o=Bmob.Query("customs");o.equalTo("parent","==",n),o.find().then(function(e){var n=e,o=!0,a=!1,c=void 0;try{for(var s,u=function(){var t=s.value,e=Bmob.Query("Bills");e.equalTo("type","==",-1),e.equalTo("custom","==",t.objectId),e.find().then(function(e){t.relations=e})},l=(0,i.default)(n);!(o=(s=l.next()).done);o=!0)u()}catch(r){a=!0,c=r}finally{try{o||null==l.return||l.return()}finally{if(a)throw c}}t(n)})})},add_custom:function(t){console.log(t);var e=JSON.parse(localStorage.getItem("bmob")).objectId;return new a.default(function(n,o){var i=Bmob.Pointer("_User"),a=i.set(e);if(t.objectId){var c=Bmob.Query("customs");c.set("custom_name",t.custom_name),c.set("debt",Number(t.debt)),c.set("custom_address",t.custom_address),c.set("custom_phone",t.custom_phone),c.set("parent",a),c.set("disabled",!t.disabled),c.set("id",t.objectId),c.save().then(function(t){n(t)}).catch(function(t){console.log(t)})}else{var s=Bmob.Query("customs");s.equalTo("parent","==",e),s.equalTo("name","==",t.custom_name),s.find().then(function(e){if(console.log(e),0==e.length){var o=Bmob.Query("customs");o.set("custom_name",t.custom_name),o.set("debt",Number(t.debt)),o.set("custom_address",t.custom_address),o.set("custom_phone",t.custom_phone),o.set("have_out",0),o.set("disabled",!t.disabled),o.set("parent",a),o.save().then(function(t){n(t)}).catch(function(t){console.log(t)})}else n(!1)})}})},delete_custom:function(t){return new a.default(function(e,n){var o=Bmob.Query("customs");o.destroy(t).then(function(t){e(t)}).catch(function(t){console.log(t)})})},custom_detail:function(t){return new a.default(function(e,n){var o=Bmob.Query("customs");o.get(t).then(function(t){e(t)}).catch(function(t){console.log(t)})})},get_moneyList:function(t){return new a.default(function(e,n){var o=Bmob.Query("debt_history");o.equalTo("custom","==",t),o.include("operater"),o.find().then(function(t){console.log(t),e(t)})})}};e.default=c},c79e:function(t,e,n){"use strict";var o=n("4eac"),i=n.n(o);i.a},ff2f:function(t,e,n){"use strict";n.r(e);var o=n("4f23"),i=n.n(o);for(var a in o)"default"!==a&&function(t){n.d(e,t,function(){return o[t]})}(a);e["default"]=i.a}}]);