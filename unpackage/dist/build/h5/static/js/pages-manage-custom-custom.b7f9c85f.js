(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-manage-custom-custom"],{"0a52":function(t,e,n){var i=n("b782");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=n("4f06").default;o("8e650e7e",i,!0,{sourceMap:!1,shadowMode:!1})},"209f":function(t,e,n){"use strict";var i=n("7342"),o=n.n(i);o.a},"61bd":function(t,e,n){e=t.exports=n("2350")(!1),e.push([t.i,"uni-page-body[data-v-581b5ce7]{background:#fafafa}.uni-common-mt[data-v-581b5ce7]{padding:%?30?%}.content[data-v-581b5ce7]{height:calc(100vh - %?214?%);background:#fff}.info_item[data-v-581b5ce7]{padding:%?20?% %?30?%;background:#fff}.item[data-v-581b5ce7]{border-bottom:%?1?% solid#ccc;padding-bottom:%?10?%;margin-bottom:%?10?%}body.?%PAGE?%[data-v-581b5ce7]{background:#fafafa}",""])},6812:function(t,e,n){"use strict";n.r(e);var i=n("d345"),o=n("fbed");for(var a in o)"default"!==a&&function(t){n.d(e,t,function(){return o[t]})}(a);n("209f");var c=n("f0c5"),r=Object(c["a"])(o["default"],i["a"],i["b"],!1,null,"581b5ce7",null);e["default"]=r.exports},6916:function(t,e,n){"use strict";var i=n("0a52"),o=n.n(i);o.a},"6edb":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("c5f6");var i={name:"UniSegmentedControl",props:{current:{type:Number,default:0},values:{type:Array,default:function(){return[]}},activeColor:{type:String,default:"#007aff"},styleType:{type:String,default:"button"}},data:function(){return{currentIndex:0}},watch:{current:function(t){t!==this.currentIndex&&(this.currentIndex=t)}},created:function(){this.currentIndex=this.current},methods:{_onClick:function(t){this.currentIndex!==t&&(this.currentIndex=t,this.$emit("clickItem",t))}}};e.default=i},7342:function(t,e,n){var i=n("61bd");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=n("4f06").default;o("65253c70",i,!0,{sourceMap:!1,shadowMode:!1})},"7c0b":function(t,e,n){"use strict";n.r(e);var i=n("6edb"),o=n.n(i);for(var a in i)"default"!==a&&function(t){n.d(e,t,function(){return i[t]})}(a);e["default"]=o.a},9604:function(t,e,n){"use strict";(function(t){var i=n("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("7514");var o,a,c,r=i(n("9546")),u=i(n("120a")),s=i(n("4d52")),d=i(n("c952")),l=i(n("96bd")),f=i(n("3628")),v={components:{loading:u.default,faIcon:s.default,uniSegmentedControl:d.default,uniNavBar:l.default,uniIcon:f.default},data:function(){return{loading:!0,items:["销售客户","供货商"],current:0,people:null,is_producer:!1,is_custom:!1,type:""}},onLoad:function(t){o=this,c=uni.getStorageSync("uid"),"producer"==t.type||"producerFinance"==t.type?(o.is_producer=!0,o.current=1,o.load_data("producers")):"custom"!=t.type&&"customFinance"!=t.type||(o.is_custom=!0,o.current=0,o.load_data("customs")),o.type=t.type},onShow:function(){uni.removeStorageSync("customs"),uni.removeStorageSync("custom_type"),0==o.current?o.load_data("customs"):o.load_data("producers")},onUnload:function(){a=""},methods:{select_this:function(t,e){if("producerFinance"==o.type){if(0==e.debt||""==e.debt)return void uni.showToast({icon:"none",title:"没有欠款"})}else if("customFinance"==o.type&&(0==e.debt||""==e.debt))return void uni.showToast({icon:"none",title:"没有欠款"});uni.setStorageSync(t,e),uni.navigateBack({delta:1})},goto_add:function(){uni.showActionSheet({itemList:["新增客户","新增供货商"],success:function(e){t.log("选中了第"+(e.tapIndex+1)+"个按钮"),0==e.tapIndex?uni.navigateTo({url:"add/add?type=customs"}):uni.navigateTo({url:"add/add?type=producers"})},fail:function(e){t.log(e.errMsg)}})},input_confirm:function(t){a=t.detail.value,0==this.current?o.load_data("customs"):o.load_data("producers")},onClickItem:function(t){this.current!==t&&(this.current=t,0==this.current?o.load_data("customs"):o.load_data("producers"))},load_data:function(e){var n=r.default.Query(e);n.equalTo("parent","==",c),n.limit(500),a&&("customs"==e?n.equalTo("custom_name","==",{$regex:a+".*"}):n.equalTo("producer_name","==",{$regex:a+".*"})),n.find().then(function(e){t.log(e),o.loading=!1,o.people=e})}}};e.default=v}).call(this,n("5a52")["default"])},b782:function(t,e,n){e=t.exports=n("2350")(!1),e.push([t.i,".segmented-control[data-v-917140dc]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;width:75%;font-size:%?28?%;box-sizing:border-box;margin:0 auto;overflow:hidden;border:1px solid;border-radius:%?10?%}.segmented-control.text[data-v-917140dc]{border:0;border-radius:0}.segmented-control-item[data-v-917140dc]{-webkit-box-flex:1;-webkit-flex:1;flex:1;text-align:center;line-height:%?60?%;box-sizing:border-box;border-left:1px solid}.segmented-control-item.active[data-v-917140dc]{color:#fff}.segmented-control-item.text[data-v-917140dc]{border-left:0;color:#000}.segmented-control-item.text.active[data-v-917140dc]{border-bottom-style:solid}.segmented-control-item[data-v-917140dc]:first-child{border-left-width:0}",""])},c952:function(t,e,n){"use strict";n.r(e);var i=n("ca58"),o=n("7c0b");for(var a in o)"default"!==a&&function(t){n.d(e,t,function(){return o[t]})}(a);n("6916");var c=n("f0c5"),r=Object(c["a"])(o["default"],i["a"],i["b"],!1,null,"917140dc",null);e["default"]=r.exports},ca58:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"segmented-control",class:{text:"text"===t.styleType},style:{borderColor:"text"===t.styleType?"":t.activeColor}},t._l(t.values,function(e,i){return n("v-uni-view",{key:i,staticClass:"segmented-control-item",class:[{text:"text"===t.styleType},{active:i===t.currentIndex}],style:{color:i===t.currentIndex?"text"===t.styleType?t.activeColor:"#fff":"text"===t.styleType?"#000":t.activeColor,backgroundColor:i===t.currentIndex&&"button"===t.styleType?t.activeColor:""},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t._onClick(i)}}},[t._v(t._s(e))])}),1)},o=[];n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o})},d345:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",[t.loading?n("loading"):t._e(),n("uni-nav-bar",{attrs:{fixed:!1,color:"#333333","background-color":"#FFFFFF","right-text":"添加"},on:{"click-right":function(e){arguments[0]=e=t.$handleEvent(e),t.goto_add.apply(void 0,arguments)}}},[n("v-uni-view",{staticClass:"input-view"},[n("uni-icon",{attrs:{type:"search",size:"22",color:"#666666"}}),n("v-uni-input",{staticClass:"input",attrs:{"confirm-type":"search",type:"text",placeholder:"输入搜索关键词"},on:{confirm:function(e){arguments[0]=e=t.$handleEvent(e),t.input_confirm.apply(void 0,arguments)}}})],1)],1),n("v-uni-view",{staticClass:"uni-common-mt"},[n("uni-segmented-control",{attrs:{current:t.current,values:t.items,"style-type":"text","active-color":"#426ab3"},on:{clickItem:function(e){arguments[0]=e=t.$handleEvent(e),t.onClickItem.apply(void 0,arguments)}}})],1),t.people&&t.people.length>0?n("v-uni-scroll-view",{staticClass:"content",attrs:{"scroll-y":"true"}},[n("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:0===t.current,expression:"current === 0"}],staticClass:"info_item"},t._l(t.people,function(e,i){return n("v-uni-view",{key:i,staticClass:"item"},[n("v-uni-navigator",{staticClass:"display_flex_bet",attrs:{"hover-class":"none",url:"custom_detail/custom_detail?id="+e.objectId}},[n("v-uni-view",[n("v-uni-view",{staticStyle:{"font-size":"30rpx",color:"#3d3d3d","font-weight":"bold"}},[t._v(t._s(e.custom_name))]),n("v-uni-view",[t._v("应收："),n("v-uni-text",{staticStyle:{color:"#f30"}},[t._v("￥"+t._s(e.debt||0))])],1),e.beizhu?n("v-uni-view",[t._v("备注："+t._s(e.beizhu))]):t._e(),n("v-uni-view",{staticStyle:{color:"#999"}},[t._v("创建时间："+t._s(e.createdAt))])],1),n("fa-icon",{attrs:{type:"angle-right",size:"20",color:"#ddd"}})],1),n("v-uni-view",{staticClass:"display_flex",staticStyle:{"justify-content":"flex-end"}},[t.is_custom?n("v-uni-view",{staticClass:"display_flex",staticStyle:{"justify-content":"flex-end",width:"100%"},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.select_this("custom",e)}}},[n("v-uni-text",{staticStyle:{color:"#d93a49"}},[t._v("选择")])],1):t._e()],1)],1)}),1),n("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:1===t.current,expression:"current === 1"}],staticClass:"info_item"},t._l(t.people,function(e,i){return n("v-uni-view",{key:i,staticClass:"item"},[n("v-uni-navigator",{staticClass:"display_flex_bet",attrs:{"hover-class":"none",url:"producer_detail/producer_detail?id="+e.objectId}},[n("v-uni-view",[n("v-uni-view",{staticStyle:{"font-size":"30rpx",color:"#3d3d3d","font-weight":"bold"}},[t._v(t._s(e.producer_name))]),n("v-uni-view",[t._v("应付："),n("v-uni-text",{staticStyle:{color:"#f30"}},[t._v("￥"+t._s(e.debt||0))])],1),e.beizhu?n("v-uni-view",[t._v("备注："+t._s(e.beizhu))]):t._e(),n("v-uni-view",{staticStyle:{color:"#999"}},[t._v("创建时间："+t._s(e.createdAt))])],1),n("fa-icon",{attrs:{type:"angle-right",size:"20",color:"#ddd"}})],1),n("v-uni-view",{staticClass:"display_flex",staticStyle:{"justify-content":"flex-end"}},[t.is_producer?n("v-uni-view",{staticClass:"display_flex",staticStyle:{"justify-content":"flex-end",width:"100%"},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.select_this("producer",e)}}},[n("v-uni-text",{staticStyle:{color:"#d93a49"}},[t._v("选择")])],1):t._e()],1)],1)}),1)],1):n("nocontent",{attrs:{type:1}})],1)},o=[];n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o})},fbed:function(t,e,n){"use strict";n.r(e);var i=n("9604"),o=n.n(i);for(var a in i)"default"!==a&&function(t){n.d(e,t,function(){return i[t]})}(a);e["default"]=o.a}}]);