(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-manage-shops-add-add"],{"4cfc":function(t,e,a){"use strict";a.r(e);var n=a("bb73"),i=a.n(n);for(var s in n)"default"!==s&&function(t){a.d(e,t,function(){return n[t]})}(s);e["default"]=i.a},"5bf8":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",[a("v-uni-view",[a("v-uni-view",{staticClass:"display_flex item"},[a("v-uni-text",{staticStyle:{"margin-right":"6rpx"}},[t._v("门店名字")]),a("v-uni-text",{staticStyle:{color:"#d93a49","margin-right":"20rpx"}},[t._v("*")]),a("v-uni-input",{staticStyle:{width:"calc(100% - 200rpx)"},attrs:{placeholder:"请输入门店名字"},model:{value:t.shop_name,callback:function(e){t.shop_name=e},expression:"shop_name"}})],1),a("v-uni-view",{staticClass:"display_flex item"},[a("v-uni-text",{staticStyle:{"margin-right":"20rpx"}},[t._v("门店地址")]),a("v-uni-input",{staticStyle:{width:"calc(100% - 200rpx)"},attrs:{placeholder:"请输入门店地址"},model:{value:t.shop_address,callback:function(e){t.shop_address=e},expression:"shop_address"}})],1),a("v-uni-view",{staticClass:"display_flex item"},[a("v-uni-text",{staticStyle:{"margin-right":"20rpx"}},[t._v("门店电话")]),a("v-uni-input",{staticStyle:{width:"calc(100% - 200rpx)"},attrs:{placeholder:"请输入门店电话",type:"number",maxlength:"11"},model:{value:t.shop_phone,callback:function(e){t.shop_phone=e},expression:"shop_phone"}})],1),a("v-uni-view",{staticClass:"display_flex item"},[a("v-uni-text",{staticStyle:{"margin-right":"6rpx"}},[t._v("排序")]),a("v-uni-text",{staticStyle:{color:"#d93a49","margin-right":"20rpx"}},[t._v("*")]),a("v-uni-input",{staticStyle:{width:"calc(100% - 200rpx)"},attrs:{placeholder:"请输入排序(数值越小,排列越靠前)",type:"number",maxlength:"11"},model:{value:t.shop_num,callback:function(e){t.shop_num=e},expression:"shop_num"}})],1),a("v-uni-view",{staticClass:"display_flex item"},[a("v-uni-text",{staticStyle:{"margin-right":"20rpx"}},[t._v("备注")]),a("v-uni-input",{staticStyle:{width:"calc(100% - 200rpx)"},attrs:{placeholder:"请输入备注"},model:{value:t.shop_beizhu,callback:function(e){t.shop_beizhu=e},expression:"shop_beizhu"}})],1)],1)],1)},i=[];a.d(e,"a",function(){return n}),a.d(e,"b",function(){return i})},"6be2":function(t,e,a){"use strict";a.r(e);var n=a("5bf8"),i=a("4cfc");for(var s in i)"default"!==s&&function(t){a.d(e,t,function(){return i[t]})}(s);a("c35c");var o=a("2877"),u=Object(o["a"])(i["default"],n["a"],n["b"],!1,null,"c3f992ba",null);e["default"]=u.exports},"6e0b":function(t,e,a){var n=a("a998");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=a("4f06").default;i("5d5acc41",n,!0,{sourceMap:!1,shadowMode:!1})},a998:function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,"uni-page-body[data-v-c3f992ba]{background:#fafafa}.item[data-v-c3f992ba]{padding:%?20?% %?30?%;background:#fff}.rights_item[data-v-c3f992ba]{margin-bottom:%?20?%}body.?%PAGE?%[data-v-c3f992ba]{background:#fafafa}",""])},bb73:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,i,s,o=c(a("0909")),u=c(a("8577"));function c(t){return t&&t.__esModule?t:{default:t}}var r={components:{faIcon:o.default},data:function(){return{shop_name:"",shop_address:"",shop_num:0,shop_phone:"",shop_beizhu:""}},onLoad:function(t){n=this,s=uni.getStorageSync("uid")},onShow:function(){i=uni.getStorageSync("shop"),i?(uni.setNavigationBarTitle({title:"新增门店"}),n.shop_name=i.name,n.shop_address=i.address,n.shop_phone=i.phone,n.shop_num=i.num,n.shop_beizhu=i.beizhu):uni.setNavigationBarTitle({title:"修改门店"})},methods:{add_data:function(){uni.showLoading({title:"上传中..."});var t=u.default.Pointer("_User"),e=t.set(s);if(i){var a=u.default.Query("shops");a.set("name",n.shop_name),a.set("num",n.shop_num),a.set("address",n.shop_address),a.set("phone",n.shop_phone),a.set("beizhu",n.shop_beizhu),a.set("parent",e),a.set("id",i.objectId),a.save().then(function(t){uni.hideLoading(),console.log(t),uni.showToast({title:"修改成功"})}).catch(function(t){console.log(t)})}else{var o=u.default.Query("shops");o.equalTo("parent","==",s),o.equalTo("name","==",n.shop_name),o.find().then(function(t){if(console.log(t),0==t.length){var a=u.default.Query("shops");a.set("name",n.shop_name),a.set("num",n.shop_num),a.set("address",n.shop_address),a.set("phone",n.shop_phone),a.set("beizhu",n.shop_beizhu),a.set("parent",e),a.save().then(function(t){console.log(t),uni.hideLoading(),uni.showToast({title:"添加成功"})}).catch(function(t){console.log(t)})}else uni.showToast({title:"已存在此门店",icon:"none"})})}}}};e.default=r},c35c:function(t,e,a){"use strict";var n=a("6e0b"),i=a.n(n);i.a}}]);