(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-manage-custom-add-add"],{"056a":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",[n("uni-nav-bar",{attrs:{fixed:!1,color:"#333333","background-color":"#FFFFFF","right-text":"添加"},on:{"click-right":function(e){e=t.$handleEvent(e),t.add_data(e)}}},[n("v-uni-view")],1),n("v-uni-view",[n("v-uni-view",{staticClass:"display_flex item"},[n("v-uni-view",{staticStyle:{"margin-right":"20rpx",width:"160rpx"}},[t._v("姓名")]),n("v-uni-input",{staticStyle:{width:"calc(100% - 200rpx)"},attrs:{placeholder:"请输入姓名"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),n("v-uni-view",{staticClass:"display_flex item"},[n("v-uni-view",{staticStyle:{"margin-right":"20rpx",width:"160rpx"}},[t._v("联系地址")]),n("v-uni-input",{staticStyle:{width:"calc(100% - 200rpx)"},attrs:{placeholder:"请输入地址"},model:{value:t.address,callback:function(e){t.address=e},expression:"address"}})],1),n("v-uni-view",{staticClass:"display_flex item"},[n("v-uni-view",{staticStyle:{"margin-right":"20rpx",width:"160rpx"}},[t._v("联系电话")]),n("v-uni-input",{staticStyle:{width:"calc(100% - 200rpx)"},attrs:{placeholder:"请输入电话",type:"number",maxlength:"11"},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}})],1),n("v-uni-view",{staticClass:"display_flex item"},[n("v-uni-view",{staticStyle:{"margin-right":"20rpx",width:"160rpx"}},[t._v("折扣率")]),n("v-uni-input",{staticStyle:{width:"calc(100% - 200rpx)"},attrs:{placeholder:"请输入折扣率",type:"number",maxlength:"3"},on:{input:function(e){e=t.$handleEvent(e),t.getDiscount(e)}},model:{value:t.discount,callback:function(e){t.discount=e},expression:"discount"}}),n("v-uni-text",[t._v("%")])],1),n("v-uni-view",{staticClass:"display_flex item"},[n("v-uni-view",{staticStyle:{"margin-right":"20rpx",width:"160rpx"}},[t._v("欠款金额")]),n("v-uni-input",{staticStyle:{width:"calc(100% - 200rpx)"},attrs:{placeholder:"请输入起初欠款金额",type:"digit"},model:{value:t.debt,callback:function(e){t.debt=e},expression:"debt"}})],1)],1)],1)},i=[];n.d(e,"a",function(){return a}),n.d(e,"b",function(){return i})},"0d59":function(t,e,n){"use strict";var a=n("9d0d"),i=n.n(a);i.a},"139f":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"uni-navbar"},[n("v-uni-view",{staticClass:"uni-navbar__content",class:{"uni-navbar--fixed":t.fixed,"uni-navbar--shadow":t.border,"uni-navbar--border":t.border},style:{"background-color":t.backgroundColor}},[t.statusBar?n("uni-status-bar"):t._e(),n("v-uni-view",{staticClass:"uni-navbar__header",style:{color:t.color}},[n("v-uni-view",{staticClass:"uni-navbar__header-btns",on:{click:function(e){e=t.$handleEvent(e),t.onClickLeft(e)}}},[t.leftIcon.length?n("v-uni-view",[n("uni-icon",{attrs:{type:t.leftIcon,color:t.color,size:"24"}})],1):t._e(),t.leftText.length?n("v-uni-view",{staticClass:"uni-navbar-btn-text",class:{"uni-navbar-btn-icon-left":!t.leftIcon.length}},[t._v(t._s(t.leftText))]):t._e(),t._t("left")],2),n("v-uni-view",{staticClass:"uni-navbar__header-container"},[t.title.length?n("v-uni-view",{staticClass:"uni-navbar__header-container-inner"},[t._v(t._s(t.title))]):t._e(),t._t("default")],2),n("v-uni-view",{staticClass:"uni-navbar__header-btns",on:{click:function(e){e=t.$handleEvent(e),t.onClickRight(e)}}},[t.rightIcon.length?n("v-uni-view",[n("uni-icon",{attrs:{type:t.rightIcon,color:t.color,size:"24"}})],1):t._e(),t.rightText.length&&!t.rightIcon.length?n("v-uni-view",{staticClass:"uni-navbar-btn-text"},[t._v(t._s(t.rightText))]):t._e(),t._t("right")],2)],1)],1),t.fixed?n("v-uni-view",{staticClass:"uni-navbar__placeholder"},[t.statusBar?n("uni-status-bar"):t._e(),n("v-uni-view",{staticClass:"uni-navbar__placeholder-view"})],1):t._e()],1)},i=[];n.d(e,"a",function(){return a}),n.d(e,"b",function(){return i})},"1a9b":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=uni.getSystemInfoSync().statusBarHeight+"px",i={name:"UniStatusBar",data:function(){return{statusBarHeight:a}}};e.default=i},"27b1":function(t,e,n){"use strict";n.r(e);var a=n("de4d"),i=n.n(a);for(var r in a)"default"!==r&&function(t){n.d(e,t,function(){return a[t]})}(r);e["default"]=i.a},"422b":function(t,e,n){"use strict";n.r(e);var a=n("c4d6"),i=n("4ff0");for(var r in i)"default"!==r&&function(t){n.d(e,t,function(){return i[t]})}(r);n("fa6c");var o=n("2877"),s=Object(o["a"])(i["default"],a["a"],a["b"],!1,null,"4f6a8297",null);e["default"]=s.exports},4807:function(t,e,n){e=t.exports=n("2350")(!1),e.push([t.i,'.uni-navbar__content[data-v-7b3df830]{display:block;position:relative;width:100%;background-color:#fff;overflow:hidden;padding:0 %?30?%;width:calc(100% - %?60?%)}.uni-navbar__content uni-view[data-v-7b3df830]{line-height:%?78?%}.uni-navbar__header[data-v-7b3df830]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;width:100%;height:%?78?%;line-height:%?78?%;font-size:%?26?%;font-weight:700;color:#333}.uni-navbar__header-btns[data-v-7b3df830]{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-flex-wrap:nowrap;-ms-flex-wrap:nowrap;flex-wrap:nowrap;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;padding:0 %?12?%}.uni-navbar__header-btns[data-v-7b3df830]:first-child{padding-left:0}.uni-navbar__header-btns[data-v-7b3df830]:last-child{text-align:right}.uni-navbar__header-container[data-v-7b3df830]{width:100%;margin:0 %?10?%}.uni-navbar__header-container-inner[data-v-7b3df830]{font-size:%?30?%;text-align:center;padding-right:%?60?%}.uni-navbar__placeholder-view[data-v-7b3df830]{height:%?88?%}.uni-navbar--fixed[data-v-7b3df830]{position:fixed;z-index:998}.uni-navbar--shadow[data-v-7b3df830]{-webkit-box-shadow:0 1px 6px #ccc;box-shadow:0 1px 6px #ccc}.uni-navbar--border[data-v-7b3df830]:after{position:absolute;z-index:3;bottom:0;left:0;right:0;height:1px;content:"";-webkit-transform:scaleY(.5);-ms-transform:scaleY(.5);transform:scaleY(.5);background-color:#c8c7cc}',""])},"4ff0":function(t,e,n){"use strict";n.r(e);var a=n("1a9b"),i=n.n(a);for(var r in a)"default"!==r&&function(t){n.d(e,t,function(){return a[t]})}(r);e["default"]=i.a},"58b5":function(t,e,n){e=t.exports=n("2350")(!1),e.push([t.i,"uni-page-body[data-v-076f3386]{background:#fafafa}.item[data-v-076f3386]{padding:%?20?% %?30?%;background:#fff}body.?%PAGE?%[data-v-076f3386]{background:#fafafa}",""])},"709a":function(t,e,n){"use strict";n.r(e);var a=n("b9fd"),i=n.n(a);for(var r in a)"default"!==r&&function(t){n.d(e,t,function(){return a[t]})}(r);e["default"]=i.a},"81b7":function(t,e,n){"use strict";var a=n("ecd1"),i=n.n(a);i.a},"8c99":function(t,e,n){e=t.exports=n("2350")(!1),e.push([t.i,".uni-status-bar[data-v-4f6a8297]{display:block;width:100%;height:20px;height:0}",""])},"9d0d":function(t,e,n){var a=n("4807");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=n("4f06").default;i("768ab04f",a,!0,{sourceMap:!1,shadowMode:!1})},b9fd:function(t,e,n){"use strict";(function(t){var a=n("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("7f7f"),n("c5f6");var i,r,o,s,u=a(n("906f")),d=a(n("f4e7")),c={components:{uniNavBar:d.default},data:function(){return{name:"",address:"",phone:"",debt:0,discount:100}},onLoad:function(t){i=t.type,r=this,s=uni.getStorageSync("uid"),"customs"==i?uni.setNavigationBarTitle({title:"新增客户"}):uni.setNavigationBarTitle({title:"新增供货商"})},onShow:function(){o=uni.getStorageSync("customs"),o?(i=uni.getStorageSync("custom_type"),"customs"==i?(r.name=o.custom_name,r.address=o.custom_address,r.phone=o.custom_phone,r.debt=o.debt):(r.name=o.producer_name,r.address=o.producer_address,r.phone=o.producer_phone,r.debt=o.debt)):"customs"==i?uni.setNavigationBarTitle({title:"修改客户"}):uni.setNavigationBarTitle({title:"修改供货商"})},onUnload:function(){uni.removeStorageSync("custom_type"),uni.removeStorageSync("customs")},methods:{getDiscount:function(t){var e=Number(t.detail.value);e>=100&&(r.discount=100)},add_data:function(){if(null==this.name)uni.showToast({title:"请输入姓名",icon:"none"});else if("customs"==i){var e=u.default.Query("customs"),n=u.default.Pointer("_User"),a=n.set(s);o&&e.set("id",o.objectId),e.set("custom_name",r.name),e.set("custom_phone",r.phone?r.phone:""),e.set("custom_address",r.address?r.address:""),e.set("debt",Number(r.debt)),e.set("discount",Number(r.discount)),e.set("parent",a),e.save().then(function(e){t.log(e),o?uni.showToast({title:"修改成功"}):uni.showToast({title:"添加成功"})}).catch(function(e){t.log(e)})}else{var d=u.default.Query("producers"),c=u.default.Pointer("_User"),l=c.set(s);o&&d.set("id",o.objectId),d.set("producer_name",r.name),d.set("producer_phone",r.phone?r.phone:""),d.set("producer_address",r.address?r.address:""),d.set("debt",Number(r.debt)),d.set("discount",Number(r.discount)),d.set("parent",l),d.save().then(function(e){t.log(e),o?uni.showToast({title:"修改成功"}):uni.showToast({title:"添加成功"})}).catch(function(e){t.log(e)})}}}};e.default=c}).call(this,n("5a52")["default"])},c45b:function(t,e,n){"use strict";n.r(e);var a=n("056a"),i=n("709a");for(var r in i)"default"!==r&&function(t){n.d(e,t,function(){return i[t]})}(r);n("81b7");var o=n("2877"),s=Object(o["a"])(i["default"],a["a"],a["b"],!1,null,"076f3386",null);e["default"]=s.exports},c4d6:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"uni-status-bar",style:{height:t.statusBarHeight}},[t._t("default")],2)},i=[];n.d(e,"a",function(){return a}),n.d(e,"b",function(){return i})},de4d:function(t,e,n){"use strict";var a=n("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a(n("422b")),r=a(n("36cf")),o={name:"UniNavBar",components:{uniStatusBar:i.default,uniIcon:r.default},props:{title:{type:String,default:""},leftText:{type:String,default:""},rightText:{type:String,default:""},leftIcon:{type:String,default:""},rightIcon:{type:String,default:""},fixed:{type:Boolean,default:!1},color:{type:String,default:"#000000"},backgroundColor:{type:String,default:"#FFFFFF"},statusBar:{type:Boolean,default:!1},shadow:{type:Boolean,default:!0},border:{type:Boolean,default:!0}},methods:{onClickLeft:function(){this.$emit("click-left")},onClickRight:function(){this.$emit("click-right")}}};e.default=o},ecd1:function(t,e,n){var a=n("58b5");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=n("4f06").default;i("18b8cae0",a,!0,{sourceMap:!1,shadowMode:!1})},f4e7:function(t,e,n){"use strict";n.r(e);var a=n("139f"),i=n("27b1");for(var r in i)"default"!==r&&function(t){n.d(e,t,function(){return i[t]})}(r);n("0d59");var o=n("2877"),s=Object(o["a"])(i["default"],a["a"],a["b"],!1,null,"7b3df830",null);e["default"]=s.exports},f8e7:function(t,e,n){var a=n("8c99");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=n("4f06").default;i("10b4f2b2",a,!0,{sourceMap:!1,shadowMode:!1})},fa6c:function(t,e,n){"use strict";var a=n("f8e7"),i=n.n(a);i.a}}]);