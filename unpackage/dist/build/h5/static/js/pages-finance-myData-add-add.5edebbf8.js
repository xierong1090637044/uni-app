(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-finance-myData-add-add"],{"1d28":function(t,e,n){"use strict";n.r(e);var a=n("dc1e"),i=n.n(a);for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);e["default"]=i.a},"390c":function(t,e,n){"use strict";n.r(e);var a=n("8d84"),i=n("1d28");for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);n("6cd6");var o,u=n("f0c5"),c=Object(u["a"])(i["default"],a["b"],a["c"],!1,null,"f24f9480",null,!1,a["a"],o);e["default"]=c.exports},"54f8":function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return i}));n("a4d3"),n("e01a"),n("d28b"),n("e260"),n("d3b7"),n("3ca3"),n("ddb0");var a=n("dde1");function i(t){if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=Object(a["a"])(t))){var e=0,n=function(){};return{s:n,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,r,o=!0,u=!1;return{s:function(){i=t[Symbol.iterator]()},n:function(){var t=i.next();return o=t.done,t},e:function(t){u=!0,r=t},f:function(){try{o||null==i["return"]||i["return"]()}finally{if(u)throw r}}}}},"6cd6":function(t,e,n){"use strict";var a=n("9e84"),i=n.n(a);i.a},"8d84":function(t,e,n){"use strict";var a={"uni-nav-bar":n("96bd").default},i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",[n("uni-nav-bar",{attrs:{fixed:!1,color:"#333333","background-color":"#FFFFFF","right-text":t.operationDesc},on:{"click-right":function(e){arguments[0]=e=t.$handleEvent(e),t.start_add.apply(void 0,arguments)}}},[n("v-uni-view")],1),n("v-uni-view",[n("v-uni-view",{staticClass:"display_flex_bet item",staticStyle:{"border-bottom":"1rpx solid#F7F7F7"}},[n("v-uni-view",{staticStyle:{width:"200rpx"}},[n("v-uni-text",{staticStyle:{"margin-right":"6rpx"}},[t._v("名称")]),n("v-uni-text",{staticStyle:{color:"#d93a49","margin-right":"20rpx"}},[t._v("*")])],1),n("v-uni-input",{staticStyle:{width:"calc(100% - 200rpx)","text-align":""},attrs:{placeholder:"请输入名称"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),n("v-uni-view",{staticClass:"display_flex_bet item",staticStyle:{"border-bottom":"1rpx solid#F7F7F7"}},[n("v-uni-view",{staticStyle:{width:"200rpx"}},[n("v-uni-text",{staticStyle:{"margin-right":"6rpx"}},[t._v("账号")])],1),n("v-uni-input",{staticStyle:{width:"calc(100% - 200rpx)"},attrs:{placeholder:"请输入账号"},model:{value:t.number,callback:function(e){t.number=e},expression:"number"}})],1),n("v-uni-view",{staticClass:"display_flex_bet item",staticStyle:{"border-bottom":"1rpx solid#F7F7F7"}},[n("v-uni-view",{staticStyle:{width:"200rpx"}},[n("v-uni-text",{staticStyle:{"margin-right":"6rpx"}},[t._v("账户类型")])],1),n("v-uni-picker",{staticStyle:{width:"calc(100% - 200rpx)"},attrs:{range:t.typeArray},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.selectType.apply(void 0,arguments)}}},[n("v-uni-input",{attrs:{placeholder:"请选择账户类型",disabled:"true"},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}})],1)],1),n("v-uni-view",{staticClass:"display_flex_bet item",staticStyle:{"border-bottom":"1rpx solid#F7F7F7"}},[n("v-uni-view",{staticStyle:{width:"200rpx"}},[n("v-uni-text",{staticStyle:{"margin-right":"6rpx"}},[t._v("初始金额")])],1),n("v-uni-input",{staticStyle:{width:"calc(100% - 200rpx)"},attrs:{placeholder:"请输入初始金额",type:"number",maxlength:"11"},model:{value:t.money,callback:function(e){t.money=e},expression:"money"}})],1),n("v-uni-view",{staticClass:"display_flex_bet item",staticStyle:{"border-bottom":"1rpx solid#F7F7F7"}},[n("v-uni-view",{staticStyle:{width:"200rpx"}},[n("v-uni-text",{staticStyle:{"margin-right":"20rpx"}},[t._v("备注")])],1),n("v-uni-input",{staticStyle:{width:"calc(100% - 200rpx)"},attrs:{placeholder:"请输入备注"},model:{value:t.beizhu,callback:function(e){t.beizhu=e},expression:"beizhu"}})],1)],1)],1)},r=[];n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return a}))},"9e84":function(t,e,n){var a=n("f02c");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=n("4f06").default;i("2283e9cc",a,!0,{sourceMap:!1,shadowMode:!1})},"9ef1":function(t,e,n){"use strict";(function(e){var a=n("ee27");n("d3b7");var i=a(n("54f8")),r=a(n("9546"));t.exports={upload_image:function(t){return new Promise((function(n,a){var o=uni.getStorageSync("user"),u=[];o.is_vip?uni.chooseImage({count:t,sizeType:["compressed"],sourceType:["album","camera"],success:function(t){e.log(t);var a,o,c=Date.parse(new Date),l=t.tempFilePaths,s=(0,i.default)(l);try{for(s.s();!(o=s.n()).done;){var d=o.value;a=r.default.File(c+".jpg",d)}}catch(f){s.e(f)}finally{s.f()}a.save().then((function(t){var e,a=(0,i.default)(t);try{for(a.s();!(e=a.n()).done;){e.value;u.push(t[0].url)}}catch(f){a.e(f)}finally{a.f()}n(u)}))}}):uni.showToast({title:"您还不是会员，无法使用",icon:"none"})}))}}}).call(this,n("5a52")["default"])},dc1e:function(t,e,n){"use strict";(function(t){var a=n("ee27");n("7db0"),n("a9e3"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,r,o,u=a(n("9546")),c=(a(n("9ef1")),a(n("4d52"))),l=a(n("96bd")),s={components:{faIcon:c.default,uniNavBar:l.default},data:function(){return{operationDesc:"添加",user:uni.getStorageSync("user"),name:"",number:"",type:"",money:0,beizhu:"",disabled:!0,typeArray:["支付宝","微信","银行卡","其他"]}},onLoad:function(t){i=this,o=uni.getStorageSync("uid")},onShow:function(){r=uni.getStorageSync("account"),r?(uni.setNavigationBarTitle({title:"修改结算账户"}),i.operationDesc="修改",i.name=r.name,i.number=r.number||"",i.money=r.money||0,i.type=r.type||"",i.beizhu=r.beizhu||""):uni.setNavigationBarTitle({title:"新增结算账户"})},onUnload:function(){uni.removeStorageSync("account")},methods:{selectType:function(e){t.log(e),i.type=i.typeArray[e.detail.value]},start_add:function(){""==this.name?uni.showToast({title:"请输入账户名称",icon:"none"}):i.add_data()},add_data:function(){uni.showLoading({title:"上传中..."});var e=u.default.Pointer("_User"),n=e.set(o);if(r){var a=u.default.Query("accounts");a.set("name",i.name),a.set("number",i.number),a.set("beizhu",i.beizhu||""),a.set("type",i.type),a.set("money",Number(i.money)),a.set("parent",n),a.set("id",r.objectId),a.save().then((function(e){uni.hideLoading(),t.log(e),uni.showToast({title:"修改成功"})})).catch((function(e){t.log(e)}))}else{var c=u.default.Query("accounts");c.equalTo("parent","==",o),c.equalTo("name","==",i.name),c.find().then((function(e){if(t.log(e),0==e.length){var a=u.default.Query("accounts");a.set("name",i.name),a.set("number",i.number),a.set("beizhu",i.beizhu||""),a.set("money",Number(i.money)),a.set("type",i.type),a.set("parent",n),a.save().then((function(e){t.log(e),uni.hideLoading(),uni.showToast({title:"添加成功"}),i.name="",i.number="",i.beizhu="",i.type="",i.money=""})).catch((function(e){t.log(e)}))}else uni.showToast({title:"已存在此账户",icon:"none"})}))}}}};e.default=s}).call(this,n("5a52")["default"])},f02c:function(t,e,n){var a=n("24fb");e=a(!1),e.push([t.i,"uni-page-body[data-v-f24f9480]{background:#fafafa}.item[data-v-f24f9480]{padding:%?20?% %?30?%;background:#fff}.rights_item[data-v-f24f9480]{margin-bottom:%?20?%}body.?%PAGE?%[data-v-f24f9480]{background:#fafafa}",""]),t.exports=e}}]);