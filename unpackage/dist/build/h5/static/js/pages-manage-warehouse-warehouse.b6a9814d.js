(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-manage-warehouse-warehouse"],{"2fbe":function(t,e,n){e=t.exports=n("2350")(!1),e.push([t.i,".Loading_view[data-v-2e263a9e]{height:100vh;width:100%;text-align:center;background:#fff}.loading_image[data-v-2e263a9e]{width:%?600?%;height:%?600?%;margin-top:30%}",""])},4213:function(t,e,n){"use strict";n.r(e);var a=n("6ec0"),i=n("e5d6");for(var o in i)"default"!==o&&function(t){n.d(e,t,function(){return i[t]})}(o);n("fd6b");var c=n("2877"),s=Object(c["a"])(i["default"],a["a"],a["b"],!1,null,"5a19a96e",null);e["default"]=s.exports},"43aa":function(t,e,n){},"5d39":function(t,e,n){"use strict";var a=n("fd28"),i=n.n(a);i.a},"6ec0":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",[t.loading?n("loading"):t._e(),n("v-uni-view",{attrs:{"wx:else":""}},[n("v-uni-scroll-view",{staticClass:"indexes",staticStyle:{height:"100vh"},attrs:{"scroll-y":"","scroll-with-animation":"true","enable-back-to-top":"true"}},t._l(t.stocks,function(e,a){return n("v-uni-view",{key:a},[n("v-uni-view",{staticClass:"content"},[n("v-uni-view",{staticClass:"display_flex"},[n("v-uni-image",{staticClass:"stock_avatar",attrs:{src:"/static/warehouse.png"}}),n("v-uni-view",[n("v-uni-view",{staticClass:"stock_name"},[t._v(t._s(e.stock_name))]),n("v-uni-view",{staticClass:"stock_mobile"},[t._v("负责人："+t._s(e.charge.nickName))])],1)],1),n("v-uni-view",{staticClass:"right_item"},[t.is_choose?n("v-uni-view",{staticClass:"display_flex",staticStyle:{"justify-content":"flex-end",width:"100%"},on:{click:function(n){n=t.$handleEvent(n),t.select_this(e)}}},[n("v-uni-text",{staticStyle:{color:"#d93a49"}},[t._v("选择")])],1):n("v-uni-view",{staticClass:"display_flex",staticStyle:{"justify-content":"flex-end"}},[n("fa-icon",{staticStyle:{"margin-right":"40rpx"},attrs:{type:"trash",size:"20",color:"#d93a49"},on:{click:function(n){n=t.$handleEvent(n),t.delete_this(e.objectId)}}}),n("fa-icon",{staticStyle:{"margin-right":"40rpx"},attrs:{type:"pencil-square-o",size:"20",color:"#d93a49"},on:{click:function(n){n=t.$handleEvent(n),t.edit(e)}}})],1)],1)],1)],1)}),1)],1)],1)},i=[];n.d(e,"a",function(){return a}),n.d(e,"b",function(){return i})},"72d0":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"Loading_view"},[n("v-uni-image",{staticClass:"loading_image",attrs:{src:"/static/timg.gif"}})],1)},i=[];n.d(e,"a",function(){return a}),n.d(e,"b",function(){return i})},"82c8":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a,i,o,c=r(n("8899")),s=r(n("c211")),u=r(n("e21e"));function r(t){return t&&t.__esModule?t:{default:t}}var l={components:{faIcon:c.default,loading:s.default},data:function(){return{is_choose:!1,loading:!0,stocks:null}},onLoad:function(t){a=this,o=uni.getStorageSync("uid"),console.log(t),"choose"==t.type&&(a.is_choose=!0)},onShow:function(){a.getstock_list()},onUnload:function(){i=""},methods:{select_this:function(t){var e=uni.getStorageSync("warehouse")||[],n={};n.stock=t,n.reserve=0,-1==JSON.stringify(e).indexOf(JSON.stringify(n))?(e.push(n),uni.setStorageSync("warehouse",e),uni.navigateBack({delta:1})):uni.showToast({title:"已选择此仓库",icon:"none"})},edit:function(t){uni.setStorageSync("warehouse",t),uni.navigateTo({url:"add/add"})},delete_this:function(t){uni.showModal({title:"提示",content:"是否删除此仓库",success:function(e){e.confirm&&(console.log(t),a.delete_data(t))}})},delete_data:function(t){console.log(t);var e=u.default.Query("stocks");e.destroy(t).then(function(t){console.log(t),uni.showToast({title:"删除成功",icon:"none"}),a.getstock_list()}).catch(function(t){console.log(t)})},getstock_list:function(){a.loading=!0;var t=u.default.Query("stocks");t.order("-num"),t.include("charge"),t.equalTo("parent","==",o),i&&t.equalTo("stock_name","==",{$regex:i+".*"}),t.find().then(function(t){a.loading=!1,a.stocks=t})}}};e.default=l},b2a2:function(t,e,n){"use strict";n.r(e);var a=n("43aa"),i=n.n(a);for(var o in a)"default"!==o&&function(t){n.d(e,t,function(){return a[t]})}(o);e["default"]=i.a},c211:function(t,e,n){"use strict";n.r(e);var a=n("72d0"),i=n("b2a2");for(var o in i)"default"!==o&&function(t){n.d(e,t,function(){return i[t]})}(o);n("5d39");var c=n("2877"),s=Object(c["a"])(i["default"],a["a"],a["b"],!1,null,"2e263a9e",null);e["default"]=s.exports},e1c1:function(t,e,n){var a=n("e26c");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=n("4f06").default;i("0d3be0c6",a,!0,{sourceMap:!1,shadowMode:!1})},e26c:function(t,e,n){e=t.exports=n("2350")(!1),e.push([t.i,"uni-page-body[data-v-5a19a96e]{height:100vh;background:#fafafa}.stock_name[data-v-5a19a96e]{font-weight:700;font-size:%?30?%;color:#3d3d3d;margin-bottom:%?4?%}.stock_mobile[data-v-5a19a96e]{color:#999}.right_item[data-v-5a19a96e]{width:100%;border-bottom:%?1?% solid#ccc;padding-bottom:%?10?%}.stock_avatar[data-v-5a19a96e]{width:%?82?%;height:%?70?%;margin-right:%?20?%}.content[data-v-5a19a96e]{padding:%?10?% %?30?%;background:#fff}body.?%PAGE?%[data-v-5a19a96e]{background:#fafafa}",""])},e5d6:function(t,e,n){"use strict";n.r(e);var a=n("82c8"),i=n.n(a);for(var o in a)"default"!==o&&function(t){n.d(e,t,function(){return a[t]})}(o);e["default"]=i.a},fd28:function(t,e,n){var a=n("2fbe");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=n("4f06").default;i("425d82e2",a,!0,{sourceMap:!1,shadowMode:!1})},fd6b:function(t,e,n){"use strict";var a=n("e1c1"),i=n.n(a);i.a}}]);