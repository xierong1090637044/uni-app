(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-index-index"],{"086e":function(e,t,i){"use strict";var o=i("288e"),n=o(i("59ad"));function a(e){this.key=e.key,this.requestConfig={key:e.key,s:"rsx",platform:"WXJS",appname:e.key,sdkversion:"1.2.0",logversion:"2.0"}}i("28a5"),i("7f7f"),a.prototype.getWxLocation=function(e,t){wx.getLocation({type:"gcj02",success:function(e){var i=e.longitude+","+e.latitude;wx.setStorage({key:"userLocation",data:i}),t(i)},fail:function(i){wx.getStorage({key:"userLocation",success:function(e){e.data&&t(e.data)}}),e.fail({errCode:"0",errMsg:i.errMsg||""})}})},a.prototype.getRegeo=function(e){function t(t){var o=i.requestConfig;wx.request({url:"https://restapi.amap.com/v3/geocode/regeo",data:{key:i.key,location:t,extensions:"all",s:o.s,platform:o.platform,appname:i.key,sdkversion:o.sdkversion,logversion:o.logversion},method:"GET",header:{"content-type":"application/json"},success:function(i){var o,a,s,r,c,l,d,u,f;i.data.status&&"1"==i.data.status?(o=i.data.regeocode,a=o.addressComponent,s=[],r="",o&&o.roads[0]&&o.roads[0].name&&(r=o.roads[0].name+"附近"),c=t.split(",")[0],l=t.split(",")[1],o.pois&&o.pois[0]&&(r=o.pois[0].name+"附近",d=o.pois[0].location,d&&(c=(0,n.default)(d.split(",")[0]),l=(0,n.default)(d.split(",")[1]))),a.provice&&s.push(a.provice),a.city&&s.push(a.city),a.district&&s.push(a.district),a.streetNumber&&a.streetNumber.street&&a.streetNumber.number?(s.push(a.streetNumber.street),s.push(a.streetNumber.number)):(u="",o&&o.roads[0]&&o.roads[0].name&&(u=o.roads[0].name),s.push(u)),s=s.join(""),f=[{iconPath:e.iconPath,width:e.iconWidth,height:e.iconHeight,name:s,desc:r,longitude:c,latitude:l,id:0,regeocodeData:o}],e.success(f)):e.fail({errCode:i.data.infocode,errMsg:i.data.info})},fail:function(t){e.fail({errCode:"0",errMsg:t.errMsg||""})}})}var i=this;e.location?t(e.location):i.getWxLocation(e,function(e){t(e)})},a.prototype.getWeather=function(e){function t(t){var i="base";e.type&&"forecast"==e.type&&(i="all"),wx.request({url:"https://restapi.amap.com/v3/weather/weatherInfo",data:{key:o.key,city:t,extensions:i,s:n.s,platform:n.platform,appname:o.key,sdkversion:n.sdkversion,logversion:n.logversion},method:"GET",header:{"content-type":"application/json"},success:function(t){function i(e){var t={city:{text:"城市",data:e.city},weather:{text:"天气",data:e.weather},temperature:{text:"温度",data:e.temperature},winddirection:{text:"风向",data:e.winddirection+"风"},windpower:{text:"风力",data:e.windpower+"级"},humidity:{text:"湿度",data:e.humidity+"%"}};return t}var o,n;t.data.status&&"1"==t.data.status?t.data.lives?(o=t.data.lives,o&&o.length>0&&(o=o[0],n=i(o),n["liveData"]=o,e.success(n))):t.data.forecasts&&t.data.forecasts[0]&&e.success({forecast:t.data.forecasts[0]}):e.fail({errCode:t.data.infocode,errMsg:t.data.info})},fail:function(t){e.fail({errCode:"0",errMsg:t.errMsg||""})}})}function i(i){wx.request({url:"https://restapi.amap.com/v3/geocode/regeo",data:{key:o.key,location:i,extensions:"all",s:n.s,platform:n.platform,appname:o.key,sdkversion:n.sdkversion,logversion:n.logversion},method:"GET",header:{"content-type":"application/json"},success:function(i){var o,n;i.data.status&&"1"==i.data.status?(n=i.data.regeocode,n.addressComponent?o=n.addressComponent.adcode:n.aois&&n.aois.length>0&&(o=n.aois[0].adcode),t(o)):e.fail({errCode:i.data.infocode,errMsg:i.data.info})},fail:function(t){e.fail({errCode:"0",errMsg:t.errMsg||""})}})}var o=this,n=o.requestConfig;e.city?t(e.city):o.getWxLocation(e,function(e){i(e)})},a.prototype.getPoiAround=function(e){function t(t){var a={key:i.key,location:t,s:o.s,platform:o.platform,appname:i.key,sdkversion:o.sdkversion,logversion:o.logversion};e.querytypes&&(a["types"]=e.querytypes),e.querykeywords&&(a["keywords"]=e.querykeywords),wx.request({url:"https://restapi.amap.com/v3/place/around",data:a,method:"GET",header:{"content-type":"application/json"},success:function(t){var i,o,a,s;if(t.data.status&&"1"==t.data.status){if(t=t.data,t&&t.pois){for(i=[],o=0;o<t.pois.length;o++)a=0==o?e.iconPathSelected:e.iconPath,i.push({latitude:(0,n.default)(t.pois[o].location.split(",")[1]),longitude:(0,n.default)(t.pois[o].location.split(",")[0]),iconPath:a,width:22,height:32,id:o,name:t.pois[o].name,address:t.pois[o].address});s={markers:i,poisData:t.pois},e.success(s)}}else e.fail({errCode:t.data.infocode,errMsg:t.data.info})},fail:function(t){e.fail({errCode:"0",errMsg:t.errMsg||""})}})}var i=this,o=i.requestConfig;e.location?t(e.location):i.getWxLocation(e,function(e){t(e)})},a.prototype.getStaticmap=function(e){function t(t){n.push("location="+t),e.zoom&&n.push("zoom="+e.zoom),e.size&&n.push("size="+e.size),e.scale&&n.push("scale="+e.scale),e.markers&&n.push("markers="+e.markers),e.labels&&n.push("labels="+e.labels),e.paths&&n.push("paths="+e.paths),e.traffic&&n.push("traffic="+e.traffic);var i=a+n.join("&");e.success({url:i})}var i,o=this,n=[],a="https://restapi.amap.com/v3/staticmap?";n.push("key="+o.key),i=o.requestConfig,n.push("s="+i.s),n.push("platform="+i.platform),n.push("appname="+i.appname),n.push("sdkversion="+i.sdkversion),n.push("logversion="+i.logversion),e.location?t(e.location):o.getWxLocation(e,function(e){t(e)})},a.prototype.getInputtips=function(e){var t=this,i=t.requestConfig,o={key:t.key,s:i.s,platform:i.platform,appname:t.key,sdkversion:i.sdkversion,logversion:i.logversion};e.location&&(o["location"]=e.location),e.keywords&&(o["keywords"]=e.keywords),e.type&&(o["type"]=e.type),e.city&&(o["city"]=e.city),e.citylimit&&(o["citylimit"]=e.citylimit),wx.request({url:"https://restapi.amap.com/v3/assistant/inputtips",data:o,method:"GET",header:{"content-type":"application/json"},success:function(t){t&&t.data&&t.data.tips&&e.success({tips:t.data.tips})},fail:function(t){e.fail({errCode:"0",errMsg:t.errMsg||""})}})},a.prototype.getDrivingRoute=function(e){var t=this,i=t.requestConfig,o={key:t.key,s:i.s,platform:i.platform,appname:t.key,sdkversion:i.sdkversion,logversion:i.logversion};e.origin&&(o["origin"]=e.origin),e.destination&&(o["destination"]=e.destination),e.strategy&&(o["strategy"]=e.strategy),e.waypoints&&(o["waypoints"]=e.waypoints),e.avoidpolygons&&(o["avoidpolygons"]=e.avoidpolygons),e.avoidroad&&(o["avoidroad"]=e.avoidroad),wx.request({url:"https://restapi.amap.com/v3/direction/driving",data:o,method:"GET",header:{"content-type":"application/json"},success:function(t){t&&t.data&&t.data.route&&e.success({paths:t.data.route.paths,taxi_cost:t.data.route.taxi_cost||""})},fail:function(t){e.fail({errCode:"0",errMsg:t.errMsg||""})}})},a.prototype.getWalkingRoute=function(e){var t=this,i=t.requestConfig,o={key:t.key,s:i.s,platform:i.platform,appname:t.key,sdkversion:i.sdkversion,logversion:i.logversion};e.origin&&(o["origin"]=e.origin),e.destination&&(o["destination"]=e.destination),wx.request({url:"https://restapi.amap.com/v3/direction/walking",data:o,method:"GET",header:{"content-type":"application/json"},success:function(t){t&&t.data&&t.data.route&&e.success({paths:t.data.route.paths})},fail:function(t){e.fail({errCode:"0",errMsg:t.errMsg||""})}})},a.prototype.getTransitRoute=function(e){var t=this,i=t.requestConfig,o={key:t.key,s:i.s,platform:i.platform,appname:t.key,sdkversion:i.sdkversion,logversion:i.logversion};e.origin&&(o["origin"]=e.origin),e.destination&&(o["destination"]=e.destination),e.strategy&&(o["strategy"]=e.strategy),e.city&&(o["city"]=e.city),e.cityd&&(o["cityd"]=e.cityd),wx.request({url:"https://restapi.amap.com/v3/direction/transit/integrated",data:o,method:"GET",header:{"content-type":"application/json"},success:function(t){if(t&&t.data&&t.data.route){var i=t.data.route;e.success({distance:i.distance||"",taxi_cost:i.taxi_cost||"",transits:i.transits})}},fail:function(t){e.fail({errCode:"0",errMsg:t.errMsg||""})}})},a.prototype.getRidingRoute=function(e){var t=this,i=t.requestConfig,o={key:t.key,s:i.s,platform:i.platform,appname:t.key,sdkversion:i.sdkversion,logversion:i.logversion};e.origin&&(o["origin"]=e.origin),e.destination&&(o["destination"]=e.destination),wx.request({url:"https://restapi.amap.com/v4/direction/bicycling",data:o,method:"GET",header:{"content-type":"application/json"},success:function(t){t&&t.data&&t.data.data&&e.success({paths:t.data.data.paths})},fail:function(t){e.fail({errCode:"0",errMsg:t.errMsg||""})}})},e.exports.AMapWX=a},"0ca9":function(e,t,i){"use strict";i.r(t);var o=i("73b1"),n=i.n(o);for(var a in o)"default"!==a&&function(e){i.d(t,e,function(){return o[e]})}(a);t["default"]=n.a},"0cd1":function(e,t,i){t=e.exports=i("2350")(!1),t.push([e.i,".uni-noticebar[data-v-2d6b33d8]{padding:%?12?% %?24?%;font-size:%?24?%;line-height:1.5;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:left;-webkit-justify-content:left;-ms-flex-pack:left;justify-content:left}.uni-noticebar__close[data-v-2d6b33d8]{color:#999;margin-right:%?24?%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.uni-noticebar__content[data-v-2d6b33d8]{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;overflow:hidden}.uni-noticebar__content.uni-noticebar--flex[data-v-2d6b33d8]{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row}.uni-noticebar__content-icon[data-v-2d6b33d8]{display:inline-block;z-index:1;padding-right:%?12?%}.uni-noticebar__content-more[data-v-2d6b33d8]{width:%?180?%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;word-break:keep-all;margin-left:%?10?%;color:#999}.uni-noticebar__content-more-text[data-v-2d6b33d8]{font-size:%?24?%;white-space:nowrap}.uni-noticebar__content-text[data-v-2d6b33d8]{word-break:break-all;line-height:1.5;display:inline}.uni-noticebar__content-text.uni-noticebar--single[data-v-2d6b33d8]{-o-text-overflow:ellipsis;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.uni-noticebar__content-text.uni-noticebar--scrollable[data-v-2d6b33d8]{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;display:block;overflow:hidden}.uni-noticebar__content-text.uni-noticebar--scrollable .uni-noticebar__content-inner[data-v-2d6b33d8]{padding-left:100%;white-space:nowrap;display:inline-block;-webkit-transform:translateZ(0);transform:translateZ(0)}.uni-noticebar__content-inner[data-v-2d6b33d8]{font-size:%?24?%;display:inline}@-webkit-keyframes notice-data-v-2d6b33d8{to{-webkit-transform:translate3d(-100%,0,0);transform:translate3d(-100%,0,0)}}@keyframes notice-data-v-2d6b33d8{to{-webkit-transform:translate3d(-100%,0,0);transform:translate3d(-100%,0,0)}}",""])},"22fc":function(e,t,i){t=e.exports=i("2350")(!1),t.push([e.i,".scan_code[data-v-ce66cd92]{position:fixed;width:calc(100% - %?60?%);left:%?30?%;right:%?30?%;bottom:10%;background:-webkit-gradient(linear,left top,right top,from(#426ab3),to(#118fff));background:-o-linear-gradient(left,#426ab3,#118fff);background:linear-gradient(90deg,#426ab3,#118fff);line-height:%?80?%;text-align:center;border-radius:4px;color:#fff;-webkit-box-shadow:0 5px 5px rgba(0,0,0,.2);box-shadow:0 5px 5px rgba(0,0,0,.2)}.icon-scan[data-v-ce66cd92]{margin-right:%?20?%}\n\n/* pages/home/index/index.wxss */.swiper[data-v-ce66cd92]{background:#426ab3;color:#fff;height:14vh}.item[data-v-ce66cd92]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.every_item[data-v-ce66cd92]{width:50%;text-align:center;line-height:30px;font-size:14px}.s_num[data-v-ce66cd92]{font-size:16px;font-weight:700}.o_list[data-v-ce66cd92]{background:#fff;padding:15px 15px 0}.o_image[data-v-ce66cd92]{width:%?80?%;height:%?80?%;border-radius:50%;border:3px solid#e2e2e2;padding:%?6?% %?6?% 0}.o_item[data-v-ce66cd92]{width:25%;text-align:center;display:inline-block;margin-bottom:%?20?%}.o_text[data-v-ce66cd92]{color:#000;font-weight:700;font-size:%?23?%}.scan_code[data-v-ce66cd92]{position:fixed;width:calc(100% - %?60?%);left:%?30?%;right:%?30?%;bottom:10%;background:-webkit-gradient(linear,left top,right top,from(#426ab3),to(#118fff));background:-o-linear-gradient(left,#426ab3,#118fff);background:linear-gradient(90deg,#426ab3,#118fff);line-height:%?80?%;text-align:center;border-radius:%?8?%;color:#fff;-webkit-box-shadow:0 %?10?% %?10?% rgba(0,0,0,.2);box-shadow:0 %?10?% %?10?% rgba(0,0,0,.2);-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center}.icon-scan[data-v-ce66cd92]{margin-right:%?20?%}",""])},"4b46":function(e,t,i){"use strict";var o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",[i("uni-notice-bar",{attrs:{"show-icon":!0,single:!0,color:"#426ab3",text:"新版库存表上线啦,接下来将更新此小程序,旧版的将不再更新"}}),e.weather?i("v-uni-view",{staticStyle:{background:"#426ab3"}},[i("v-uni-view",{staticClass:"display_flex",staticStyle:{padding:"20rpx 30rpx 10rpx"}},[i("fa-icon",{attrs:{type:e.welcome.icon,size:"20",color:"#fdb933"}}),i("v-uni-text",{staticStyle:{"font-weight":"bold","margin-left":"10rpx",color:"#fff"}},[e._v(e._s(e.welcome.text))])],1),i("v-uni-view",{staticClass:"display_flex_bet",staticStyle:{padding:"0 30rpx 10rpx",color:"#fff","font-size":"24rpx"}},[i("v-uni-view",{staticClass:"display_flex"},[i("v-uni-view",[e._v(e._s(e.weather.city.data))]),i("v-uni-view",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(e.weather.temperature.data)+"℃")])],1),i("v-uni-view",{staticClass:"display_flex"},[i("v-uni-view",[e._v(e._s(e.weather.weather.data))]),i("v-uni-view",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(e.weather.winddirection.data)+" "+e._s(e.weather.windpower.data))])],1)],1)],1):e._e(),i("v-uni-swiper",{staticClass:"swiper",attrs:{"indicator-dots":"true","indicator-active-color":"#fff",autoplay:"true"}},[[i("v-uni-swiper-item",{staticClass:"item"},[i("v-uni-view",{staticClass:"every_item"},[i("v-uni-view",{staticClass:"s_num"},[e._v(e._s(e.get_reserve))]),i("v-uni-view",[e._v("今日入库")])],1),i("v-uni-view",{staticClass:"every_item"},[i("v-uni-view",{staticClass:"s_num"},[e._v(e._s(e.out_reserve))]),i("v-uni-view",[e._v("今日出库")])],1)],1),i("v-uni-swiper-item",{staticClass:"item"},[i("v-uni-view",{staticClass:"every_item"},[i("v-uni-view",{staticClass:"s_num"},[e._v(e._s(e.total_reserve))]),i("v-uni-view",[e._v("库存总量")])],1),i("v-uni-view",{staticClass:"every_item"},[i("v-uni-view",{staticClass:"s_num"},[e._v(e._s(e.total_money))]),i("v-uni-view",[e._v("库存成本")])],1)],1),i("v-uni-swiper-item",{staticClass:"item"},[i("v-uni-view",{staticClass:"every_item"},[i("v-uni-view",{staticClass:"s_num"},[e._v(e._s(e.total_products))]),i("v-uni-view",[e._v("库存种类")])],1)],1)]],2),i("v-uni-swiper",{staticStyle:{color:"#333 !important",height:"10vh",background:"#426ab3"},attrs:{vertical:"true",autoplay:"true"}},[e._l(e.logsList,function(t,o){return i("v-uni-swiper-item",{key:o,staticClass:"item"},[i("v-uni-navigator",{staticClass:"display_flex_bet",staticStyle:{width:"100%",background:"#fff",height:"100%",padding:"0 30rpx"},attrs:{"hover-class":"none",url:t.link}},[i("v-uni-view",{staticStyle:{"line-height":"5vh",width:"90%"}},[i("v-uni-view",{staticClass:"text_overflow",staticStyle:{"font-weight":"bold"}},[e._v(e._s(t.log))]),i("v-uni-view",{staticStyle:{"font-size":"24rpx",color:"#999"}},[e._v(e._s(t.createdAt))])],1),i("fa-icon",{attrs:{type:"angle-right",size:"18",color:"#999"}})],1)],1)})],2),i("v-uni-view",{staticClass:"o_list",staticStyle:{"margin-top":"20rpx"}},e._l(e.optionsLists,function(t,o){return i("v-uni-navigator",{key:o,staticClass:"o_item",attrs:{url:t.url,"hover-class":"none"}},[i("v-uni-view",{staticStyle:{width:"100%"}},[i("v-uni-image",{staticClass:"o_image",attrs:{src:t.icon}})],1),i("v-uni-view",{staticClass:"o_text"},[e._v(e._s(t.name))])],1)}),1),i("v-uni-view",{staticClass:"scan_code display_flex",on:{click:function(t){t=e.$handleEvent(t),e.scan_code(t)}}},[i("fa-icon",{staticClass:"icon-scan",attrs:{type:"qrcode",size:"20",color:"#fff"}}),i("v-uni-text",[e._v("扫描产品条形码")])],1)],1)},n=[];i.d(t,"a",function(){return o}),i.d(t,"b",function(){return n})},"4d2e":function(e,t,i){var o=i("22fc");"string"===typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);var n=i("4f06").default;n("31fba369",o,!0,{sourceMap:!1,shadowMode:!1})},6115:function(e,t,i){"use strict";i.r(t);var o=i("4b46"),n=i("ce78");for(var a in n)"default"!==a&&function(e){i.d(t,e,function(){return n[e]})}(a);i("8eee");var s=i("2877"),r=Object(s["a"])(n["default"],o["a"],o["b"],!1,null,"ce66cd92",null);t["default"]=r.exports},6937:function(e,t,i){var o=i("0cd1");"string"===typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);var n=i("4f06").default;n("e9a37b58",o,!0,{sourceMap:!1,shadowMode:!1})},"73b1":function(e,t,i){"use strict";var o=i("288e");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i("6b54"),i("87b3"),i("c5f6");var n=o(i("5753")),a={name:"UniNoticeBar",components:{uniIcon:n.default},props:{text:{type:String,default:""},moreText:{type:String,default:""},backgroundColor:{type:String,default:"#fffbe8"},speed:{type:[String,Number],default:100},color:{type:String,default:"#de8c17"},single:{type:Boolean,default:!1},scrollable:{type:Boolean,default:!1},showIcon:{type:Boolean,default:!1},showGetMore:{type:Boolean,default:!1},showClose:{type:Boolean,default:!1}},data:function(){var e=this.__call_hook?"uni_notice_bar":"Uni_".concat(Math.ceil(1e6*Math.random()).toString(36));return{elId:e,show:!0,animation:""}},watch:{text:function(e,t){var i=this;this.$nextTick(function(){setTimeout(i.setAnimation,200)})}},mounted:function(){this.setAnimation()},methods:{clickMore:function(){this.$emit("getmore")},onClick:function(e){var t=e.touches?e.touches[0]?e.touches[0].clientX:e.changedTouches[0].clientX:e.detail.clientX;uni.upx2px(48)+12>t&&this.showClose&&(this.show=!1,this.$emit("close")),this.$emit("click")},setAnimation:function(){var e=this;this.scrollable&&uni.createSelectorQuery().in(this).select("#".concat(this.elId)).boundingClientRect().exec(function(t){e.animation="notice ".concat(t[0].width/e.speed,"s linear infinite both")})}}};t.default=a},"7fee":function(e,t,i){"use strict";i.r(t);var o=i("d3fd"),n=i("0ca9");for(var a in n)"default"!==a&&function(e){i.d(t,e,function(){return n[e]})}(a);i("8ebb");var s=i("2877"),r=Object(s["a"])(n["default"],o["a"],o["b"],!1,null,"2d6b33d8",null);t["default"]=r.exports},"8ebb":function(e,t,i){"use strict";var o=i("6937"),n=i.n(o);n.a},"8eee":function(e,t,i){"use strict";var o=i("4d2e"),n=i.n(o);n.a},ce78:function(e,t,i){"use strict";i.r(t);var o=i("f1bf"),n=i.n(o);for(var a in o)"default"!==a&&function(e){i.d(t,e,function(){return o[e]})}(a);t["default"]=n.a},d3fd:function(e,t,i){"use strict";var o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.show?i("v-uni-view",{staticClass:"uni-noticebar",style:{backgroundColor:e.backgroundColor,color:e.color},on:{click:function(t){t=e.$handleEvent(t),e.onClick(t)}}},[e.showClose?i("v-uni-view",{staticClass:"uni-noticebar__close"},[i("uni-icon",{attrs:{type:"closefill",size:"12"}})],1):e._e(),i("v-uni-view",{staticClass:"uni-noticebar__content",class:{"uni-noticebar--flex":e.scrollable||e.single||e.moreText}},[e.showIcon?i("v-uni-view",{staticClass:"uni-noticebar__content-icon",style:{backgroundColor:e.backgroundColor,color:e.color}},[i("uni-icon",{attrs:{color:e.color,type:"sound",size:"14"}})],1):e._e(),i("v-uni-view",{staticClass:"uni-noticebar__content-text",class:{"uni-noticebar--scrollable":e.scrollable,"uni-noticebar--single":!e.scrollable&&(e.single||e.moreText)}},[i("v-uni-view",{staticClass:"uni-noticebar__content-inner",style:{animation:e.animation,"-webkit-animation":e.animation},attrs:{id:e.elId}},[e._v(e._s(e.text))])],1),e.showGetMore?i("v-uni-view",{staticClass:"uni-noticebar__content-more",style:{width:e.moreText?"180upx":"20px"},on:{click:function(t){t=e.$handleEvent(t),e.clickMore(t)}}},[e.moreText?i("v-uni-view",{staticClass:"uni-noticebar__content-more-text"},[e._v(e._s(e.moreText))]):e._e(),i("uni-icon",{attrs:{type:"arrowright",size:"14"}})],1):e._e()],1)],1):e._e()},n=[];i.d(t,"a",function(){return o}),i.d(t,"b",function(){return n})},df06:function(e,t,i){"use strict";var o=i("288e");i("6b54"),i("87b3"),i("c5f6");var n=o(i("5d73"));i("7514"),e.exports={handleData:function(){uni.removeStorageSync("warehouse"),uni.removeStorageSync("stock"),uni.removeStorageSync("custom"),uni.removeStorageSync("now_product"),uni.removeStorageSync("category"),uni.removeStorageSync("class_user"),uni.removeStorageSync("second_class")},log:function(e,t,i){var o=Bmob.Pointer("_User"),n=o.set(uni.getStorageSync("uid")),a=Bmob.Query("logs");a.set("parent",n),a.set("log",e),a.set("detail_id",i),a.set("type",t),a.save().then(function(e){console.log(e)}).catch(function(e){console.log(e)})},record_shopOut:function(e,t){console.log(e,t);var i=Bmob.Query("shops");i.set("id",e),i.set("have_out",t),i.save().then(function(e){console.log(e)}).catch(function(e){console.log(e)})},record_staffOut:function(e){if(console.log(e,uni.getStorageSync("user").have_out),1==uni.getStorageSync("identity"));else{var t=Bmob.Query("staffs");t.set("id",uni.getStorageSync("user").objectId),t.set("have_out",e+uni.getStorageSync("user").have_out),t.save().then(function(e){console.log(e)}).catch(function(e){console.log(e)})}},get_allCost:function(){var e=uni.getStorageSync("uid");console.log(e);var t=Bmob.Query("Goods");t.equalTo("userId","==",e),t.find().then(function(e){console.log(e);var t=!0,i=!1,o=void 0;try{for(var a,s=(0,n.default)(e);!(t=(a=s.next()).done);t=!0){var r=a.value;console.log(r),Number(r.costPrice)*r.reserve,r.reserve}}catch(c){i=!0,o=c}finally{try{t||null==s.return||s.return()}finally{if(i)throw o}}})},getDay:function(e,t){var i=this,o=new Date,n=o.getTime()+864e5*e;o.setTime(n);var a=o.getFullYear(),s=o.getMonth(),r=o.getDate();return s=i.handleMonth(s+1),r=i.handleMonth(r),t?a+"-"+s+"-"+r+" 00:00:00":a+"-"+s+"-"+r},handleMonth:function(e){var t=e;return 1==e.toString().length&&(t="0"+e),t}}},f1bf:function(e,t,i){"use strict";var o=i("288e");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(i("5d73"));i("7514");var a,s,r=o(i("0914")),c=o(i("086e")),l=o(i("df06")),d=o(i("7fee")),u={components:{faIcon:r.default,uniNoticeBar:d.default},data:function(){return{welcome:{text:"",icon:""},weather:"",logsList:[],optionsLists:[{name:"产品入库",icon:"/static/entering.png",url:"/pages/common/goods-select/goods-select?type=entering"},{name:"产品出库",icon:"/static/delivery.png",url:"/pages/common/goods-select/goods-select?type=delivery"},{name:"退货入库",icon:"/static/return_goods.png",url:"/pages/common/goods-select/goods-select?type=returing"},{name:"库存盘点",icon:"/static/stocking.png",url:"/pages/common/goods-select/goods-select?type=counting"}],get_reserve:0,out_reserve:0,total_reserve:0,total_money:0,total_products:0}},onLoad:function(){a=this,s=uni.getStorageSync("uid");var e=new Date,t=e.getHours(),i=new c.default.AMapWX({key:"ddf21583182190befcf92c027b97f8ab"});i.getWeather({success:function(e){console.log(e),a.weather=e,t<6?(console.log(t),a.welcome.text="凌晨注意休息！好的身体才能高效的工作",a.welcome.icon="moon-o"):t<9?(a.welcome.text="早上好，又是开心快乐的一天！",a.welcome.icon="sun-o"):t<11?(a.welcome.text="上午好，请努力加油哦，会成功的！",a.welcome.icon="sun-o"):t<14?(a.welcome.text="中午好，辛勤劳动的你是最可爱的！",a.welcome.icon="sun-o"):t<18?(a.welcome.text="下午好，没有什么会阻挡你的，相信自己！",a.welcome.icon="sun-o"):(a.welcome.text="晚上好，更深露重，适当工作，适当休息！",a.welcome.icon="sun-o")},fail:function(e){console.log(e)}})},onShow:function(){a.gettoday_detail(),a.loadallGoods(),a.get_logsList()},onShareAppMessage:function(e){return"button"===e.from&&console.log(e.target),{title:"库存表，欢迎您的加入",path:"/pages/index/index"}},methods:{scan_code:function(){uni.showActionSheet({itemList:["扫码出库","扫码入库","扫码盘点","查看详情","扫码添加商品"],success:function(e){a.scan(e.tapIndex)},fail:function(e){console.log(e.errMsg)}})},scan:function(e){this.$wechat.scanQRCode()},gettoday_detail:function(){var e=0,t=0,i=Bmob.Query("Bills");i.equalTo("userId","==",s),i.equalTo("createdAt",">=",l.default.getDay(0,!0)),i.equalTo("createdAt","<=",l.default.getDay(1,!0)),i.include("goodsId"),i.find().then(function(i){for(var o=0;o<i.length;o++)1==i[o].type?(e+=i[o].num,i[o].num*i[o].goodsId.retailPrice,i[o].total_money):-1==i[o].type&&(t+=i[o].num,i[o].num*i[o].goodsId.costPrice,i[o].total_money);a.get_reserve=e.toFixed(wx.getStorageSync("print_setting").show_float),a.out_reserve=t.toFixed(wx.getStorageSync("print_setting").show_float)})},loadallGoods:function(){var e=0,t=0,i=0,o=Bmob.Query("Goods");o.equalTo("userId","==",s),o.limit(500),o.find().then(function(o){var r=!0,c=!1,l=void 0;try{for(var d,u=(0,n.default)(o);!(r=(d=u.next()).done);r=!0){var f=d.value;if(e+=f.reserve,t+=f.reserve*f.costPrice,500==o.length){var p=Bmob.Query("Goods");p.equalTo("userId","==",s),p.skip(500),p.limit(500),p.find().then(function(i){for(var o=0;o<i.length;o++)e+=i[o].reserve,t+=i[o].reserve*i[o].costPrice}),a.total_money=t.toFixed(uni.getStorageSync("print_setting").show_float),a.total_reserve=e.toFixed(uni.getStorageSync("print_setting").show_float),a.total_products=o.length}else i+=1,a.total_money=t.toFixed(uni.getStorageSync("print_setting").show_float),a.total_reserve=e.toFixed(uni.getStorageSync("print_setting").show_float),a.total_products=i}}catch(g){c=!0,l=g}finally{try{r||null==u.return||u.return()}finally{if(c)throw l}}})},get_logsList:function(){var e=Bmob.Query("logs");e.equalTo("parent","==",s),e.equalTo("type","!=",-2),e.order("-createdAt"),e.limit(20),e.find().then(function(e){var t=!0,i=!1,o=void 0;try{for(var s,r=(0,n.default)(e);!(t=(s=r.next()).done);t=!0){var c=s.value;5==c.type?c.link="/pages/manage/good_det/good_det?id="+c.detail_id+"&type=false":-1!=c.type&&1!=c.type&&2!=c.type&&3!=c.type||(c.link="/pages/report/EnteringHistory/detail/detail?id="+c.detail_id)}}catch(l){i=!0,o=l}finally{try{t||null==r.return||r.return()}finally{if(i)throw o}}a.logsList=e})}}};t.default=u}}]);