(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-manage-custom-add-add"],{1775:function(t,e,n){"use strict";n.r(e);var a=n("a46d"),i=n.n(a);for(var s in a)"default"!==s&&function(t){n.d(e,t,function(){return a[t]})}(s);e["default"]=i.a},"2e6b":function(t,e,n){var a=n("7a7b");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=n("4f06").default;i("6152cc90",a,!0,{sourceMap:!1,shadowMode:!1})},5381:function(t,e,n){"use strict";var a=n("2e6b"),i=n.n(a);i.a},"7a7b":function(t,e,n){e=t.exports=n("2350")(!1),e.push([t.i,"uni-page-body[data-v-5cc87352]{background:#fafafa}.item[data-v-5cc87352]{padding:%?20?% %?30?%;background:#fff}body.?%PAGE?%[data-v-5cc87352]{background:#fafafa}",""])},a46d:function(t,e,n){"use strict";(function(t){var a=n("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("c5f6");var i,s,o,u,c=a(n("9546")),r=a(n("96bd")),d={components:{uniNavBar:r.default},data:function(){return{name:"",address:"",phone:"",debt:0,discount:100}},onLoad:function(t){i=t.type,s=this,u=uni.getStorageSync("uid"),"customs"==i?uni.setNavigationBarTitle({title:"新增客户"}):uni.setNavigationBarTitle({title:"新增供货商"})},onShow:function(){o=uni.getStorageSync("customs"),o&&(i=uni.getStorageSync("custom_type"),"customs"==i?(s.name=o.custom_name,s.address=o.custom_address,s.phone=o.custom_phone,s.debt=o.debt,uni.setNavigationBarTitle({title:"修改客户"})):(s.name=o.producer_name,s.address=o.producer_address,s.phone=o.producer_phone,s.debt=o.debt,uni.setNavigationBarTitle({title:"修改供货商"})))},onUnload:function(){uni.removeStorageSync("custom_type"),uni.removeStorageSync("customs")},methods:{getDiscount:function(t){var e=Number(t.detail.value);e>=100&&(s.discount=100)},add_data:function(){if(null==this.name)uni.showToast({title:"请输入姓名",icon:"none"});else if("customs"==i){var e=c.default.Query("customs"),n=c.default.Pointer("_User"),a=n.set(u);o&&e.set("id",o.objectId),e.set("custom_name",s.name),e.set("custom_phone",s.phone?s.phone:""),e.set("custom_address",s.address?s.address:""),e.set("debt",Number(s.debt)),e.set("discount",Number(s.discount)),e.set("parent",a),e.save().then(function(e){t.log(e),o?uni.showToast({title:"修改成功"}):uni.showToast({title:"添加成功"})}).catch(function(e){t.log(e)})}else{var r=c.default.Query("producers"),d=c.default.Pointer("_User"),l=d.set(u);o&&r.set("id",o.objectId),r.set("producer_name",s.name),r.set("producer_phone",s.phone?s.phone:""),r.set("producer_address",s.address?s.address:""),r.set("debt",Number(s.debt)),r.set("discount",Number(s.discount)),r.set("parent",l),r.save().then(function(e){t.log(e),o?uni.showToast({title:"修改成功"}):uni.showToast({title:"添加成功"})}).catch(function(e){t.log(e)})}}}};e.default=d}).call(this,n("5a52")["default"])},d994:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",[n("uni-nav-bar",{attrs:{fixed:!1,color:"#333333","background-color":"#FFFFFF","right-text":"添加"},on:{"click-right":function(e){arguments[0]=e=t.$handleEvent(e),t.add_data.apply(void 0,arguments)}}},[n("v-uni-view")],1),n("v-uni-view",[n("v-uni-view",{staticClass:"display_flex item"},[n("v-uni-view",{staticStyle:{"margin-right":"20rpx",width:"160rpx"}},[t._v("姓名")]),n("v-uni-input",{staticStyle:{width:"calc(100% - 200rpx)"},attrs:{placeholder:"请输入姓名"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),n("v-uni-view",{staticClass:"display_flex item"},[n("v-uni-view",{staticStyle:{"margin-right":"20rpx",width:"160rpx"}},[t._v("联系地址")]),n("v-uni-input",{staticStyle:{width:"calc(100% - 200rpx)"},attrs:{placeholder:"请输入地址"},model:{value:t.address,callback:function(e){t.address=e},expression:"address"}})],1),n("v-uni-view",{staticClass:"display_flex item"},[n("v-uni-view",{staticStyle:{"margin-right":"20rpx",width:"160rpx"}},[t._v("联系电话")]),n("v-uni-input",{staticStyle:{width:"calc(100% - 200rpx)"},attrs:{placeholder:"请输入电话",type:"number",maxlength:"11"},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}})],1),n("v-uni-view",{staticClass:"display_flex item"},[n("v-uni-view",{staticStyle:{"margin-right":"20rpx",width:"160rpx"}},[t._v("折扣率")]),n("v-uni-input",{staticStyle:{width:"calc(100% - 200rpx)"},attrs:{placeholder:"请输入折扣率",type:"number",maxlength:"3"},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.getDiscount.apply(void 0,arguments)}},model:{value:t.discount,callback:function(e){t.discount=e},expression:"discount"}}),n("v-uni-text",[t._v("%")])],1),n("v-uni-view",{staticClass:"display_flex item"},[n("v-uni-view",{staticStyle:{"margin-right":"20rpx",width:"160rpx"}},[t._v("欠款金额")]),n("v-uni-input",{staticStyle:{width:"calc(100% - 200rpx)"},attrs:{placeholder:"请输入起初欠款金额",type:"digit"},model:{value:t.debt,callback:function(e){t.debt=e},expression:"debt"}})],1)],1)],1)},i=[];n.d(e,"a",function(){return a}),n.d(e,"b",function(){return i})},e731:function(t,e,n){"use strict";n.r(e);var a=n("d994"),i=n("1775");for(var s in i)"default"!==s&&function(t){n.d(e,t,function(){return i[t]})}(s);n("5381");var o=n("f0c5"),u=Object(o["a"])(i["default"],a["a"],a["b"],!1,null,"5cc87352",null);e["default"]=u.exports}}]);