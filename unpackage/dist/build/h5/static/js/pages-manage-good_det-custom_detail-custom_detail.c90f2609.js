(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-manage-good_det-custom_detail-custom_detail"],{"114b":function(t,e,n){"use strict";(function(t){var a=n("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("c5f6");var i=a(n("5d73"));n("7514");var o=a(n("795b")),s=a(n("9546")),u={get_customList:function(t,e){return new o.default(function(n,a){var i=uni.getStorageSync("uid"),o=s.default.Query("customs");o.order("num"),o.equalTo("parent","==",i),o.equalTo("disabled","==",t),e&&o.equalTo("name","==",{$regex:e+".*"}),o.find().then(function(t){n(t)})})},get_customCount:function(){return new o.default(function(t,e){var n=uni.getStorageSync("uid"),a=s.default.Query("customs");a.equalTo("parent","==",n),a.find().then(function(e){var n=e,a=!0,o=!1,u=void 0;try{for(var c,l=function(){var t=c.value,e=s.default.Query("Bills");e.equalTo("type","==",-1),e.equalTo("custom","==",t.objectId),e.find().then(function(e){t.relations=e})},r=(0,i.default)(n);!(a=(c=r.next()).done);a=!0)l()}catch(d){o=!0,u=d}finally{try{a||null==r.return||r.return()}finally{if(o)throw u}}t(n)})})},add_custom:function(e){t.log(e);var n=JSON.parse(localStorage.getItem("bmob")).objectId;return new o.default(function(a,i){var o=s.default.Pointer("_User"),u=o.set(n);if(e.objectId){var c=s.default.Query("customs");c.set("custom_name",e.custom_name),c.set("debt",Number(e.debt)),c.set("custom_address",e.custom_address),c.set("custom_phone",e.custom_phone),c.set("parent",u),c.set("disabled",!e.disabled),c.set("id",e.objectId),c.save().then(function(t){a(t)}).catch(function(e){t.log(e)})}else{var l=s.default.Query("customs");l.equalTo("parent","==",n),l.equalTo("name","==",e.custom_name),l.find().then(function(n){if(t.log(n),0==n.length){var i=s.default.Query("customs");i.set("custom_name",e.custom_name),i.set("debt",Number(e.debt)),i.set("custom_address",e.custom_address),i.set("custom_phone",e.custom_phone),i.set("have_out",0),i.set("disabled",!e.disabled),i.set("parent",u),i.save().then(function(t){a(t)}).catch(function(e){t.log(e)})}else a(!1)})}})},delete_custom:function(e){return new o.default(function(n,a){var i=s.default.Query("customs");i.destroy(e).then(function(t){n(t)}).catch(function(e){t.log(e)})})},custom_detail:function(e){return new o.default(function(n,a){var i=s.default.Query("customs");i.get(e).then(function(t){n(t)}).catch(function(e){t.log(e)})})},get_moneyList:function(e){return new o.default(function(n,a){var i=s.default.Query("order_opreations");i.equalTo("custom","==",e),i.include("opreater","account"),i.find().then(function(e){t.log(e),n(e)})})}};e.default=u}).call(this,n("5a52")["default"])},"1e91":function(t,e,n){"use strict";n.r(e);var a=n("8526"),i=n("a0b2");for(var o in i)"default"!==o&&function(t){n.d(e,t,function(){return i[t]})}(o);n("7443");var s=n("f0c5"),u=Object(s["a"])(i["default"],a["a"],a["b"],!1,null,"4cad3941",null);e["default"]=u.exports},"3e88":function(t,e,n){"use strict";(function(t){var a=n("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("7514");var i,o,s=a(n("9546")),u=a(n("114b")),c=a(n("4d52")),l=a(n("120a")),r=(uni.getStorageSync("uid"),{components:{faIcon:c.default,loading:l.default},data:function(){return{custom_list:[],categoryList:[],subCategoryList:[],height:0,categoryActive:0,scrollTop:0,scrollHeight:0}},methods:{scroll:function(t){this.scrollHeight=t.detail.scrollHeight},categoryClickMain:function(t,e){this.categoryActive=e,this.scrollTop=-this.scrollHeight*e,this.get_detail(t)},get_detail:function(e){var n=this,a=s.default.Query("Bills");a.equalTo("type","==",-1),a.equalTo("goodsId","==",o),a.equalTo("custom","==",e),a.include("operater","goodsId","opreater"),a.find().then(function(e){t.log(e),n.subCategoryList=e})}},onLoad:function(t){o=t.id,i=this,u.default.get_customList().then(function(t){i.custom_list=t,i.get_detail(t[0].objectId)}),this.height=uni.getSystemInfoSync().windowHeight}});e.default=r}).call(this,n("5a52")["default"])},"4ecc":function(t,e,n){var a=n("7462");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=n("4f06").default;i("1735da62",a,!0,{sourceMap:!1,shadowMode:!1})},7443:function(t,e,n){"use strict";var a=n("4ecc"),i=n.n(a);i.a},7462:function(t,e,n){e=t.exports=n("2350")(!1),e.push([t.i,".page-body[data-v-4cad3941]{display:-webkit-box;display:-webkit-flex;display:flex}.nav[data-v-4cad3941]{display:-webkit-box;display:-webkit-flex;display:flex;width:100%}.nav-left[data-v-4cad3941]{width:30%;background:#fff;border-right:solid %?1?% #e0e0e0}.nav-left-item[data-v-4cad3941]{height:%?100?%;border-bottom:solid %?1?% #e0e0e0;font-size:%?20?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;color:#3d3d3d;font-weight:700}.nav-right[data-v-4cad3941]{width:70%;background:#fff}.nav-right-item[data-v-4cad3941]{width:calc(100% - %?44?%);float:left;text-align:center;padding:0 %?20?%;font-size:%?24?%}.active[data-v-4cad3941]{color:#007aff}",""])},8526:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"container"},[n("v-uni-view",{staticClass:"page-body"},[n("v-uni-scroll-view",{staticClass:"nav-left",style:"height:"+t.height+"px",attrs:{"scroll-y":!0}},t._l(t.custom_list,function(e,a){return n("v-uni-view",{key:a,staticClass:"nav-left-item",class:a==t.categoryActive?"active":"",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.categoryClickMain(e.objectId,a)}}},[t._v(t._s(e.custom_name))])}),1),n("v-uni-scroll-view",{staticClass:"nav-right",style:"height:"+t.height+"px",attrs:{"scroll-y":!0,"scroll-top":t.scrollTop,"scroll-with-animation":!0},on:{scroll:function(e){arguments[0]=e=t.$handleEvent(e),t.scroll.apply(void 0,arguments)}}},t._l(t.subCategoryList,function(e,a){return n("v-uni-view",{key:a,staticClass:"nav-right-item",attrs:{id:0===a?"first":""}},[n("v-uni-view",{staticStyle:{"text-align":"left","border-bottom":"solid 1rpx #E0E0E0",padding:"20rpx 0"}},[n("v-uni-view",[t._v("销售商品："+t._s(e.goodsName))]),n("v-uni-view",{staticClass:"display_flex_bet"},[n("v-uni-view",[t._v("实际单价："+t._s(e.goodsId.retailPrice))]),n("v-uni-view",[t._v("卖出单价："+t._s(e.retailPrice))])],1),n("v-uni-view",{staticClass:"display_flex_bet"},[n("v-uni-view",[t._v("数量："+t._s(e.num))])],1),e.operater?n("v-uni-view",[t._v("操作者："+t._s(e.operater.nickName))]):e.opreater?n("v-uni-view",[t._v("操作者："+t._s(e.opreater.nickName))]):t._e(),n("v-uni-view",[t._v(t._s(e.createdAt))])],1)],1)}),1)],1)],1)},i=[];n.d(e,"a",function(){return a}),n.d(e,"b",function(){return i})},a0b2:function(t,e,n){"use strict";n.r(e);var a=n("3e88"),i=n.n(a);for(var o in a)"default"!==o&&function(t){n.d(e,t,function(){return a[t]})}(o);e["default"]=i.a}}]);