(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-commonNew-goods-select-goods-select"],{"0d6a":function(e,t,n){"use strict";n.r(t);var o=n("7097"),i=n("b582");for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);n("afa2");var r,c=n("f0c5"),s=Object(c["a"])(i["default"],o["b"],o["c"],!1,null,"43876716",null,!1,o["a"],r);t["default"]=s.exports},1375:function(e,t,n){var o=n("24fb");t=o(!1),t.push([e.i,"uni-page-body[data-v-ea001930]{background:#fff}.gLButton[data-v-ea001930]{position:fixed;bottom:10%;right:%?18?%;background:#007aff;color:#fff;height:%?120?%;line-height:%?120?%;width:%?120?%;border-radius:50%;-webkit-box-shadow:0 %?20?% %?20?% #6c9eeb;box-shadow:0 %?20?% %?20?% #6c9eeb}.text_notice[data-v-ea001930]{margin-left:%?6?%}.custom_mask[data-v-ea001930]{position:fixed;top:0;left:0;width:100%;height:100vh;z-index:1;background-color:rgba(0,0,0,.3)}.confrim_button[data-v-ea001930]{background:#aa2116;color:#fff;font-weight:700;font-size:%?32?%}.custom_mask_content[data-v-ea001930]{position:fixed;bottom:0;left:0;width:calc(100% - %?60?%);z-index:10;background:#fff;padding:%?30?%}.content[data-v-ea001930]{height:100%;overflow:hidden}.uni-product-list[data-v-ea001930]{padding:0 %?10?%;width:calc(100% - %?20?%);height:calc(100vh - %?220?%)}.uni-product[data-v-ea001930]{display:-webkit-box;display:-webkit-flex;display:flex;padding:%?10?% 0;border-bottom:1px solid#ddd;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center;width:89%;margin-left:%?20?%}.product_image[data-v-ea001930]{width:%?80?%;height:%?80?%}.product_name[data-v-ea001930]{font-weight:700;color:#333;max-width:60%}.product_reserve[data-v-ea001930]{color:#6c757d;font-size:%?24?%;font-weight:700}.title[data-v-ea001930]{font-size:15px;line-height:20px;color:#333;padding:15px}.city[data-v-ea001930]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;width:100%;margin-left:8px;white-space:nowrap}.input-view[data-v-ea001930]{width:92%;display:-webkit-box;display:-webkit-flex;display:flex;background-color:#e7e7e7;height:30px;border-radius:15px;padding:0 4%;-webkit-flex-wrap:nowrap;flex-wrap:nowrap;margin:%?8?% 0;line-height:30px}.input-view .uni-icon[data-v-ea001930]{line-height:30px!important}.input-view .input[data-v-ea001930]{height:30px;line-height:30px;width:94%;padding:0 3%}body.?%PAGE?%[data-v-ea001930]{background:#fff}",""]),e.exports=t},3356:function(e,t,n){"use strict";var o={"uni-nav-bar":n("96bd").default,"uni-pagination":n("0d6a").default},i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"page"},[n("v-uni-view",{staticClass:"content"},[n("uni-nav-bar",{attrs:{fixed:!1,color:"#333333","background-color":"#FFFFFF","right-text":"确定",shadow:!1},on:{"click-left":function(t){arguments[0]=t=e.$handleEvent(t),e.shaixuan.apply(void 0,arguments)},"click-right":function(t){arguments[0]=t=e.$handleEvent(t),e.confrim_this.apply(void 0,arguments)}}},[n("v-uni-view",{staticClass:"input-view display_flex"},[n("fa-icon",{attrs:{type:"search",size:"16",color:"#999"}}),n("v-uni-input",{staticClass:"input",attrs:{"confirm-type":"search",type:"text",placeholder:"请输入名字 含量 存放位置",value:e.search_text},on:{confirm:function(t){arguments[0]=t=e.$handleEvent(t),e.input_confirm.apply(void 0,arguments)},blur:function(t){arguments[0]=t=e.$handleEvent(t),e.input_confirm.apply(void 0,arguments)}}})],1)],1),n("v-uni-view",{staticClass:"display_flex good_option_view"},[n("v-uni-view",{staticClass:"good_option",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.selectd("goodsClass")}}},[n("v-uni-view",{staticClass:"good_optionText"},[e._v(e._s(e.headerSelection.goodsClass.class_text||"分类"))]),n("fa-icon",{attrs:{type:"angle-down",size:"18",color:"#999"}})],1),n("v-uni-view",{staticClass:"good_option",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.selectd("stocks")}}},[n("v-uni-view",{staticClass:"good_optionText"},[e._v(e._s(e.headerSelection.stocks.stock_name||"店仓"))]),n("fa-icon",{attrs:{type:"angle-down",size:"18",color:"#999"}})],1),n("v-uni-view",{staticClass:"good_option",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.selectd("order")}}},[n("v-uni-view",{staticClass:"good_optionText"},[e._v(e._s(e.headerSelection.order.desc||"排序"))]),n("fa-icon",{attrs:{type:"angle-down",size:"18",color:"#999"}})],1),n("v-uni-view",{staticClass:"good_option",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.option_reset.apply(void 0,arguments)}}},[n("v-uni-view",{staticClass:"good_optionText"},[e._v("重置")]),n("fa-icon",{attrs:{type:"repeat",size:"16",color:"#999"}})],1)],1),n("v-uni-view",{staticClass:"uni-product-list"},[e.productList.length>0?n("v-uni-scroll-view",{staticClass:"uni-product-list",attrs:{"scroll-y":!0}},e._l(e.productList,(function(t,o){return n("v-uni-radio-group",{key:o,staticStyle:{display:"flex","align-items":"center"},on:{click:function(n){n.stopPropagation(),arguments[0]=n=e.$handleEvent(n),e.radioChange(t,t.objectId,o)}}},[n("v-uni-view",[n("v-uni-radio",{staticClass:"round blue",staticStyle:{transform:"scale(0.9)"},attrs:{color:"#426ab3",checked:t.checked,disabled:t.disabled}})],1),n("v-uni-label",{staticClass:"uni-product",attrs:{for:""+o}},[n("v-uni-view",[t.goodsIcon?n("v-uni-image",{staticClass:"product_image",attrs:{src:t.goodsIcon,mode:"widthFix","lazy-load":"true"}}):n("v-uni-image",{staticClass:"product_image",attrs:{src:"/static/goods-default.png",mode:"widthFix","lazy-load":"true"}})],1),n("v-uni-view",{staticStyle:{margin:"0 20rpx",width:"80%"}},[n("v-uni-view",{staticClass:"product_reserve",staticStyle:{width:"100%"}},[n("v-uni-view",{staticClass:"product_name text_overflow_2",staticStyle:{"max-width":"100%"}},[e._v(e._s(t.goodsName))])],1),n("v-uni-view",{staticClass:"product_reserve display_flex_bet",staticStyle:{width:"100%"}},[t.stocks&&t.stocks.stock_name?n("v-uni-view",{staticStyle:{"font-size":"24rpx"}},[e._v("所存仓库:"+e._s(t.stocks.stock_name))]):e._e(),n("v-uni-view",{staticStyle:{"font-size":"24rpx"}},[e._v("库存:"),n("v-uni-text",{staticClass:"text_notice"},[e._v(e._s(t.reserve))])],1)],1),n("v-uni-view",{staticClass:"product_reserve display_flex_bet",staticStyle:{width:"100%"}},[e.canSeeCostprice?n("v-uni-view",{staticStyle:{"font-size":"24rpx"}},[e._v("成本价:"),n("v-uni-text",{staticClass:"text_notice"},[e._v(e._s(t.costPrice||0))])],1):n("v-uni-view",{staticStyle:{"font-size":"24rpx"}},[e._v("成本价:"),n("v-uni-text",{staticClass:"text_notice"},[e._v("0")])],1),n("v-uni-view",{staticStyle:{"font-size":"24rpx"}},[e._v("零售价:"+e._s(t.retailPrice||0))])],1),t.packageContent&&t.packingUnit?n("v-uni-view",{staticClass:"product_reserve display_flex_bet",staticStyle:{width:"100%"}},[n("v-uni-view",{staticClass:"product_reserve"},[e._v("规格："+e._s(t.packageContent)+"*"+e._s(t.packingUnit))])],1):e._e()],1)],1)],1)})),1):n("nocontent",{attrs:{type:1}})],1),n("v-uni-view",{staticStyle:{padding:"6rpx 0","border-top":"1rpx solid#ddd"}},[n("uni-pagination",{attrs:{"show-icon":!0,total:"100000",current:e.page_num},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.change_page(t)}}})],1)],1),e.showOrder?n("v-uni-view",{staticClass:"modal_backgroundTransparent",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.showOrder=!1}}},[n("v-uni-view",{staticClass:"showOptionsTransparent"},e._l(e.orders,(function(t,o){return n("v-uni-view",{key:o,staticClass:"display_flex_bet",staticStyle:{padding:"16rpx 30rpx","border-bottom":"1rpx solid#F7F7F7"},on:{click:function(n){arguments[0]=n=e.$handleEvent(n),e.selectOrder(t)}}},[n("v-uni-view",{staticStyle:{color:"#333"}},[e._v(e._s(t.desc)+"("+e._s(t.notice)+")")]),t.checked?n("fa-icon",{attrs:{type:"check",size:"18",color:"#2ca879"}}):e._e()],1)})),1)],1):e._e()],1)},a=[];n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return o}))},"36bf":function(e,t,n){"use strict";var o=n("9ad1"),i=n.n(o);i.a},"408a":function(e,t,n){var o=n("c6b6");e.exports=function(e){if("number"!=typeof e&&"Number"!=o(e))throw TypeError("Incorrect invocation");return+e}},"54f8":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));n("a4d3"),n("e01a"),n("d28b"),n("e260"),n("d3b7"),n("3ca3"),n("ddb0");var o=n("dde1");function i(e){if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=Object(o["a"])(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a,r=!0,c=!1;return{s:function(){i=e[Symbol.iterator]()},n:function(){var e=i.next();return r=e.done,e},e:function(e){c=!0,a=e},f:function(){try{r||null==i["return"]||i["return"]()}finally{if(c)throw a}}}}},"69c2":function(e,t,n){var o=n("24fb");t=o(!1),t.push([e.i,'.uni-pagination[data-v-43876716]{width:100%;-webkit-box-sizing:border-box;box-sizing:border-box;padding:0 %?40?%;position:relative;overflow:hidden;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row}.uni-pagination__btns[data-v-43876716]{-webkit-box-flex:1;-webkit-flex:1;flex:1;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row}.uni-pagination__btn[data-v-43876716]{width:%?120?%;height:%?60?%;padding:0 %?16?%;line-height:%?60?%;font-size:%?28?%;-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;background-color:#f8f8f8;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.uni-pagination__btn[data-v-43876716]:after{content:"";width:200%;height:200%;position:absolute;top:0;left:0;border:1px solid #c8c7cc;-webkit-transform:scale(.5);transform:scale(.5);-webkit-transform-origin:0 0;transform-origin:0 0;-webkit-box-sizing:border-box;box-sizing:border-box;border-radius:%?12?%}.uni-pagination__num[data-v-43876716]{height:%?60?%;line-height:%?60?%;font-size:%?28?%;color:#333;position:absolute;left:50%;top:0;-webkit-transform:translateX(-50%);transform:translateX(-50%)}.uni-pagination__num-current[data-v-43876716]{color:#007aff}.uni-pagination--disabled[data-v-43876716]{opacity:.3}.uni-pagination--hover[data-v-43876716]{color:rgba(0,0,0,.6);background-color:#f1f1f1}',""]),e.exports=t},7097:function(e,t,n){"use strict";var o={"uni-icon":n("3628").default},i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"uni-pagination"},[n("v-uni-view",{staticClass:"uni-pagination__btns"},[n("v-uni-view",{class:["uni-pagination__btn",{"uni-pagination--disabled":1===e.currentIndex}],attrs:{"hover-class":1===e.currentIndex?"":"uni-pagination--hover","hover-start-time":20,"hover-stay-time":70},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.clickLeft.apply(void 0,arguments)}}},[e.showIcon?[n("uni-icon",{attrs:{color:"#000",size:"20",type:"arrowleft"}})]:[e._v(e._s(e.prevText))]],2),n("v-uni-view",{class:["uni-pagination__btn",{"uni-pagination--disabled":e.currentIndex===e.maxPage}],attrs:{"hover-class":e.currentIndex===e.maxPage?"":"uni-pagination--hover","hover-start-time":20,"hover-stay-time":70},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.clickRight.apply(void 0,arguments)}}},[e.showIcon?[n("uni-icon",{attrs:{color:"#000",size:"20",type:"arrowright"}})]:[e._v(e._s(e.nextText))]],2)],1),n("v-uni-view",{staticClass:"uni-pagination__num"},[n("v-uni-input",{staticClass:"uni-pagination__num-current",staticStyle:{"text-align":"center","margin-top":"10rpx"},attrs:{value:e.currentIndex,type:"number"},on:{blur:function(t){arguments[0]=t=e.$handleEvent(t),e.inputNumber.apply(void 0,arguments)},confirm:function(t){arguments[0]=t=e.$handleEvent(t),e.inputNumber.apply(void 0,arguments)}}})],1)],1)},a=[];n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return o}))},"8bc0":function(e,t,n){var o=n("69c2");"string"===typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);var i=n("4f06").default;i("1841f6a9",o,!0,{sourceMap:!1,shadowMode:!1})},"9ad1":function(e,t,n){var o=n("1375");"string"===typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);var i=n("4f06").default;i("62bd3028",o,!0,{sourceMap:!1,shadowMode:!1})},afa2:function(e,t,n){"use strict";var o=n("8bc0"),i=n.n(o);i.a},b582:function(e,t,n){"use strict";n.r(t);var o=n("d7ad"),i=n.n(o);for(var a in o)"default"!==a&&function(e){n.d(t,e,(function(){return o[e]}))}(a);t["default"]=i.a},b6802:function(e,t,n){"use strict";var o=n("23e7"),i=n("a691"),a=n("408a"),r=n("1148"),c=n("d039"),s=1..toFixed,d=Math.floor,u=function(e,t,n){return 0===t?n:t%2===1?u(e,t-1,n*e):u(e*e,t/2,n)},l=function(e){var t=0,n=e;while(n>=4096)t+=12,n/=4096;while(n>=2)t+=1,n/=2;return t},f=s&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!c((function(){s.call({})}));o({target:"Number",proto:!0,forced:f},{toFixed:function(e){var t,n,o,c,s=a(this),f=i(e),p=[0,0,0,0,0,0],g="",v="0",h=function(e,t){var n=-1,o=t;while(++n<6)o+=e*p[n],p[n]=o%1e7,o=d(o/1e7)},b=function(e){var t=6,n=0;while(--t>=0)n+=p[t],p[t]=d(n/e),n=n%e*1e7},x=function(){var e=6,t="";while(--e>=0)if(""!==t||0===e||0!==p[e]){var n=String(p[e]);t=""===t?n:t+r.call("0",7-n.length)+n}return t};if(f<0||f>20)throw RangeError("Incorrect fraction digits");if(s!=s)return"NaN";if(s<=-1e21||s>=1e21)return String(s);if(s<0&&(g="-",s=-s),s>1e-21)if(t=l(s*u(2,69,1))-69,n=t<0?s*u(2,-t,1):s/u(2,t,1),n*=4503599627370496,t=52-t,t>0){h(0,n),o=f;while(o>=7)h(1e7,0),o-=7;h(u(10,o,1),0),o=t-1;while(o>=23)b(1<<23),o-=23;b(1<<o),h(1,1),b(2),v=x()}else h(0,n),h(1<<-t,0),v=x()+r.call("0",f);return f>0?(c=v.length,v=g+(c<=f?"0."+r.call("0",f-c)+v:v.slice(0,c-f)+"."+v.slice(c-f))):v=g+v,v}})},b6ea:function(e,t,n){"use strict";n.r(t);var o=n("bc37"),i=n.n(o);for(var a in o)"default"!==a&&function(e){n.d(t,e,(function(){return o[e]}))}(a);t["default"]=i.a},bc37:function(e,t,n){"use strict";(function(e){var o=n("ee27");n("7db0"),n("c975"),n("a434"),n("b6802"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,a,r=o(n("54f8")),c=o(n("9546")),s=o(n("4d52")),d=o(n("120a")),u=o(n("96bd")),l=o(n("3628")),f=o(n("0d6a")),p="",g=30,v={components:{loading:d.default,uniNavBar:u.default,faIcon:s.default,uniIcon:l.default,uniPagination:f.default},data:function(){return{showOrder:!1,user:uni.getStorageSync("user"),selectd_model:"",models_good:"",models_good_key:"",page_num:1,search_text:"",url:null,loading:!0,productList:[],value:"",nextProducts:[],negativeOut:!1,headerSelection:{goodsClass:"",stocks:"",order:{order:"-createdAt"},options:""},orders:[{desc:"库存数量",notice:"从高到低",order:"-reserve",checked:!1},{desc:"库存数量",notice:"从低到高",order:"reserve",checked:!1},{desc:"创建日期",notice:"最新",order:"-createdAt",checked:!0},{desc:"创建日期",notice:"最晚",order:"createdAt",checked:!1},{desc:"名字",notice:"正序",order:"goodsName",checked:!1}],canSeeCostprice:!0}},onLoad:function(t){if(a=this,a.user=uni.getStorageSync("user"),this.handle_data(),"entering"==t.type?this.url="../good_confrim/good_confrim?value="+t.value:"delivery"==t.type?this.url="../goods_out/goods_out?value="+t.value:"returing"==t.type?this.url="../good_return/good_return?value="+t.value+"&type="+t.type:"counting"==t.type?this.url="../good_count/good_count":"allocation"==t.type?this.url="../good_allocation/good_allocation":"prodution"==t.type?this.url="../good_production/good_production":"bad"==t.type&&(this.url="../goodBad/goodBad"),uni.getStorageSync("setting")&&uni.getStorageSync("setting").negativeOut&&(a.negativeOut=uni.getStorageSync("setting").negativeOut),a.type=t.type,a.value=t.value,i=uni.getStorageSync("uid"),2==a.user.identity){if(a.user.rights&&-1!=a.user.rights.othercurrent.indexOf("0")&&(a.canSeeCostprice=!1),a.user.stocks&&a.user.stocks.length>0){var n=c.default.Query("stocks");n.get(a.user.stocks[0]).then((function(e){a.headerSelection.stocks=e;var t={};t.stock=e,uni.setStorageSync("warehouse",[t]),a.get_productList()})).catch((function(t){e.log(t)}))}}else a.get_productList()},onShow:function(){uni.getStorageSync("is_option")&&(a.nextProducts=[],a.get_productList()),uni.getStorageSync("isClickShaiXuan")&&(a.headerSelection.goodsClass=uni.getStorageSync("category")||"",a.headerSelection.stocks=uni.getStorageSync("warehouse")?uni.getStorageSync("warehouse")[0].stock:"",a.get_productList())},onUnload:function(){a.nextProducts=[],p="",g=30,a.page_num=1,uni.removeStorageSync("is_option")},methods:{selectOrder:function(e){var t,n=(0,r.default)(a.orders);try{for(n.s();!(t=n.n()).done;){var o=t.value;o.checked=!1}}catch(i){n.e(i)}finally{n.f()}e.checked=!0,a.headerSelection.order=e,a.get_productList()},change_page:function(e){a.page_num=e.current,a.get_productList()},shaixuan:function(){a.showOptions=!0},input_confirm:function(e){p=e.detail.value,a.search_text=e.detail.value,a.page_num=1,a.get_productList()},confrim_this:function(){a.go_goodsconfrim()},option_reset:function(){uni.removeStorageSync("category"),uni.removeStorageSync("warehouse"),a.headerSelection={goodsClass:"",stocks:"",order:{order:"-createdAt"},options:""},a.orders=[{desc:"库存数量",notice:"从高到低",order:"-reserve",checked:!1},{desc:"库存数量",notice:"从低到高",order:"reserve",checked:!1},{desc:"创建日期",notice:"最新",order:"-createdAt",checked:!0},{desc:"创建日期",notice:"最晚",order:"createdAt",checked:!1},{desc:"名字",notice:"正序",order:"goodsName",checked:!1}],a.page_num=1,a.search_text="",a.get_productList()},option_confrim:function(){uni.getStorageSync("category")&&(a.isOption=!0,a.category=uni.getStorageSync("category")),uni.getStorageSync("warehouse")&&(a.isOption=!0,a.stock=uni.getStorageSync("warehouse")[uni.getStorageSync("warehouse").length-1].stock),a.showOptions=!1,a.get_productList()},selectd:function(t){e.log(t),"goodsClass"==t?uni.navigateTo({url:"/pages/manage/category/category?type=choose"}):"stocks"==t?uni.navigateTo({url:"/pages/manage/warehouse/warehouse?type=choose"}):"order"==t?a.showOrder=!0:"options"==t&&(a.showOptions=!0),uni.setStorageSync("isClickShaiXuan",!0)},radioChange:function(e,t,n){var o=e;if(a.productList[n].disabled)return a.productList[n].checked=!1,void uni.showToast({icon:"none",title:"当前产品不能选择"});if(a.productList[n].checked)for(var i in a.productList[n].checked=!1,a.nextProducts)a.nextProducts[i].objectId==t&&a.nextProducts.splice(i,1);else a.productList[n].checked=!0,a.nextProducts.push(o)},go_goodsconfrim:function(){0==a.nextProducts.length?uni.showToast({title:"请选择产品",icon:"none"}):a.confrim_next()},confrim_next:function(){var e=0;if("entering"==a.type)if(4==a.value){var t,n=(0,r.default)(a.nextProducts);try{for(n.s();!(t=n.n()).done;){var o=t.value;a.nextProducts[e]="object"==typeof o?o:JSON.parse(o),a.nextProducts[e].num=0,a.nextProducts[e].total_money=0*a.nextProducts[e].retailPrice,a.nextProducts[e].really_total_money=0*a.nextProducts[e].retailPrice,a.nextProducts[e].modify_retailPrice=a.nextProducts[e].retailPrice,e+=1}}catch(v){n.e(v)}finally{n.f()}}else{var i,c=(0,r.default)(a.nextProducts);try{for(c.s();!(i=c.n()).done;){var s=i.value;a.nextProducts[e]="object"==typeof s?s:JSON.parse(s),a.nextProducts[e].num=0,a.nextProducts[e].total_money=0*a.nextProducts[e].costPrice,a.nextProducts[e].really_total_money=0*a.nextProducts[e].costPrice,a.nextProducts[e].modify_retailPrice=a.nextProducts[e].costPrice,e+=1}}catch(v){c.e(v)}finally{c.f()}}else if(4==a.value){var d,u=(0,r.default)(a.nextProducts);try{for(u.s();!(d=u.n()).done;){var l=d.value;a.nextProducts[e]="object"==typeof l?l:JSON.parse(l),a.nextProducts[e].num=0,a.nextProducts[e].total_money=0*a.nextProducts[e].costPrice,a.nextProducts[e].really_total_money=0*a.nextProducts[e].costPrice,a.nextProducts[e].modify_retailPrice=a.nextProducts[e].costPrice,e+=1}}catch(v){u.e(v)}finally{u.f()}}else{var f,p=(0,r.default)(a.nextProducts);try{for(p.s();!(f=p.n()).done;){var g=f.value;a.nextProducts[e]="object"==typeof g?g:JSON.parse(g),a.nextProducts[e].num=0,a.nextProducts[e].total_money=0*a.nextProducts[e].retailPrice,a.nextProducts[e].really_total_money=0*a.nextProducts[e].retailPrice,a.nextProducts[e].modify_retailPrice=a.nextProducts[e].retailPrice,e+=1}}catch(v){p.e(v)}finally{p.f()}}uni.setStorageSync("products",a.nextProducts),uni.navigateTo({url:this.url})},get_productList:function(){uni.showLoading({title:"加载中.."}),a.productList=[];var e=c.default.Query("Goods");e.include("stocks","header"),e.equalTo("userId","==",i),e.equalTo("status","!=",-1),a.headerSelection.stocks&&a.headerSelection.stocks.objectId?(e.equalTo("stocks","==",a.headerSelection.stocks.objectId),e.equalTo("order","==",1)):e.equalTo("order","==",0),1==a.headerSelection.goodsClass.type?e.equalTo("goodsClass","==",a.headerSelection.goodsClass.objectId):e.equalTo("second_class","==",a.headerSelection.goodsClass.objectId);var t=e.equalTo("goodsName","==",{$regex:p+".*"}),n=e.equalTo("packageContent","==",{$regex:p+".*"}),o=e.equalTo("position","==",{$regex:a.search_text+".*"});e.or(t,n,o),e.limit(g),e.skip(g*(a.page_num-1)),e.order(a.headerSelection.order.order),e.find().then((function(e){var t,n=0,o=(0,r.default)(e);try{for(o.s();!(t=o.n()).done;){var i=t.value;i.key=n,i.checked=!1,"delivery"==a.type&&i.reserve<=0&&0==a.negativeOut&&(i.disabled=!0),1==i.order&&(i.packingUnit=i.header?i.header.packingUnit:"",i.objectId=i.header.objectId,i.stocks="",i.goodsIcon=i.header.goodsIcon);var c,s=(0,r.default)(a.nextProducts);try{for(s.s();!(c=s.n()).done;){var d=c.value;d.objectId==i.objectId&&(i.checked=!0)}}catch(u){s.e(u)}finally{s.f()}i.reserve=i.reserve.toFixed(uni.getStorageSync("setting")?uni.getStorageSync("setting").show_float:0),n+=1}}catch(u){o.e(u)}finally{o.f()}a.productList=e,uni.hideLoading(),uni.removeStorageSync("is_option"),uni.removeStorageSync("isClickShaiXuan")}))},handle_data:function(){uni.removeStorageSync("products"),uni.removeStorageSync("category"),uni.removeStorageSync("warehouse"),uni.removeStorageSync("out_warehouse"),uni.removeStorageSync("shop"),p="",g=30}}};t.default=v}).call(this,n("5a52")["default"])},d7ad:function(e,t,n){"use strict";(function(e){var o=n("ee27");n("a9e3"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n("3628")),a={name:"UniPagination",components:{uniIcon:i.default},props:{prevText:{type:String,default:"上一页"},nextText:{type:String,default:"下一页"},current:{type:[Number,String],default:1},total:{type:[Number,String],default:0},pageSize:{type:[Number,String],default:10},showIcon:{type:Boolean,default:!1}},data:function(){return{currentIndex:1}},computed:{maxPage:function(){var e=1,t=Number(this.total),n=Number(this.pageSize);return t&&n&&(e=Math.ceil(t/n)),e}},watch:{current:function(e){this.currentIndex=+e}},created:function(){this.currentIndex=+this.current},methods:{clickLeft:function(){1!==Number(this.currentIndex)&&(this.currentIndex-=1,this.change("prev"))},clickRight:function(){Number(this.currentIndex)!==this.maxPage&&(this.currentIndex+=1,this.change("next"))},inputNumber:function(t){e.log(t),this.currentIndex=Number(t.detail.value),this.$emit("change",{type:t,current:this.currentIndex})},change:function(t){e.log(t),this.$emit("change",{type:t,current:this.currentIndex})}}};t.default=a}).call(this,n("5a52")["default"])},ec3b:function(e,t,n){"use strict";n.r(t);var o=n("3356"),i=n("b6ea");for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);n("36bf");var r,c=n("f0c5"),s=Object(c["a"])(i["default"],o["b"],o["c"],!1,null,"ea001930",null,!1,o["a"],r);t["default"]=s.exports}}]);