(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-report-EnteringHistory-detail-detail"],{"000e":function(t,e,i){var a=i("ab99");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("502b88d0",a,!0,{sourceMap:!1,shadowMode:!1})},"0bc2":function(t,e,i){"use strict";var a=i("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("5d73")),o={print_goodDet:function(t){var e,i=uni.getStorageSync("now_product");i.objectId=t.good_id,i.stocks=t,i.productCode=t.productCode,e="<CB>商品信息</CB><BR>",e+="--------------------------------<BR>",e+="产品名称：　　 "+i.goodsName+"<BR>",i.stocks&&(e+="存放仓库：　　 "+i.stocks.stock_name+"<BR>"),i.position&&(e+="货架位置：　　 "+i.position+"<BR>"),i.producttime&&(e+="生产日期：　　 "+i.producttime+"<BR>"),i.nousetime&&(e+="失效日期：　　 "+i.nousetime+"<BR>"),e+="当前库存：　　 "+i.reserve+"<BR>",e+="产品规格:　　　"+i.packageContent+"*"+i.packingUnit+"<BR>",e+="进货价格:      "+i.costPrice+"<BR>",e+="零售价格:      "+i.retailPrice+"<BR>",i.bad_num&&(e+="货损数量:      "+i.bad_num+"<BR>"),e+="--------------------------------<BR>",e+="产品二维码：<BR>",e+="<QR>"+i.productCode+"</QR>",this.print_by_code(e)},print_operations:function(t,e){if(console.log(e),3==t.type){v="<CB>盘点单</CB><BR>",v+="--------------------------------<BR>";for(var i=0;i<e.length;i++)v+="产品名称："+e[i].goodsName+"<BR>",v+="盘点前库存："+e[i].reserve+"<BR>",v+="盘点后库存："+e[i].now_reserve+"<BR>",v+="--------------------------------<BR>"}else if(-2==t.type){v="<CB>调拨单</CB><BR>",v+="--------------------------------<BR>";for(var a=0;a<e.length;a++){v+="产品名称："+e[a].goodsName+"<BR>",v+="调拨数量："+e[a].num+"<BR>",v+="--------------------------------<BR>";var o=!0,r=!1,s=void 0;try{for(var l,c=(0,n.default)(t.detail);!(o=(l=c.next()).done);o=!0){var u=l.value;v+="调出仓库："+u.stock+"<BR>",v+="<RIGHT>当前库存："+(u.reserve-u.num)+"</RIGHT><BR>",v+="调入仓库："+u.out_stock+"<BR>",v+="<RIGHT>当前库存："+(u.out_reserve+u.num)+"</RIGHT><BR>"}}catch(_){r=!0,s=_}finally{try{o||null==c.return||c.return()}finally{if(r)throw s}}}v+="--------------------------------<BR>"}else if(2==t.type){v="<CB>退货单</CB><BR>",v+="--------------------------------<BR>";for(var d=0;d<e.length;d++)v+="产品名称："+e[d].goodsName+"<BR>",v+="零售价："+e[d].retailPrice+"<BR>",v+="数量    ：X"+e[d].num+"<BR>",v+="<RIGHT>总计："+e[d].total_money+"</RIGHT>",v+="--------------------------------<BR>",v+="退货明细：<BR>",null!=t.custom?v+="客户姓名："+t.custom.custom_name+"<BR>":v+="未记录客户 <BR>";v+="<BOLD><RIGHT>全部总计："+t.all_money+"</RIGHT></BOLD>",v+="--------------------------------<BR>"}else{var v;v=1==t.type?"<CB>入库单</CB><BR>":"<CB>出库单</CB><BR>",v+="--------------------------------<BR>";for(var f=0;f<e.length;f++)v+="产品名称："+e[f].goodsName+"<BR>",v+="实际单价："+e[f].retailPrice+"<BR>",v+="数量    ：X"+e[f].num+"<BR>",v+="<RIGHT>总计："+e[f].total_money+"</RIGHT>",v+="--------------------------------<BR>";v+="<BOLD><RIGHT>全部总计："+t.all_money+"</RIGHT></BOLD>",v+="--------------------------------<BR>",1==t.type&&(v+="开单明细：<BR>",v+="<BR>",null!=t.producer&&(v+="供货商姓名："+t.producer.producer_name+"<BR>"),null==t.real_money?v+="实际收款：未填写 <BR>":v+="实际收款："+t.real_money+"<BR>",t.debt>0&&(v+="本次欠款："+t.debt+"<BR>"),v+="--------------------------------<BR>"),-1==t.type&&(v+="开单明细：<BR>",v+="<BR>",t.custom&&(v+="客户姓名："+t.custom.custom_name+"<BR>"),t.real_money?v+="实际收款：未填写 <BR>":v+="实际收款："+t.real_money+"<BR>",t.debt>0&&(v+="本次欠款  ："+t.debt+"<BR>"),v+="--------------------------------<BR>")}v+="操作者："+t.opreater.nickName+"<BR>",v+="备注：暂无<BR>",v+="操作时间："+t.createdAt+"<BR>",this.print_by_code(v)},print_by_code:function(t){var e=uni.getStorageSync("setting").USER,i=uni.getStorageSync("setting").UKEY,a=uni.getStorageSync("setting").number,n="api.feieyun.cn",o="/Api/Open/",r=(new Date).getTime(),s=c(e+i+r);g(a,t,1);var l=0;function c(t){return w(u(p(t)))}function u(t){for(var e=t,i=Array(80),a=1732584193,n=-271733879,o=-1732584194,r=271733878,s=-1009589776,l=0;l<e.length;l+=16){for(var c=a,u=n,p=o,w=r,g=s,b=0;b<80;b++){i[b]=b<16?e[l+b]:_(i[b-3]^i[b-8]^i[b-14]^i[b-16],1);var h=f(f(_(a,5),d(b,n,o,r)),f(f(s,i[b]),v(b)));s=r,r=o,o=_(n,30),n=a,a=h}a=f(a,c),n=f(n,u),o=f(o,p),r=f(r,w),s=f(s,g)}return new Array(a,n,o,r,s)}function d(t,e,i,a){return t<20?e&i|~e&a:t<40?e^i^a:t<60?e&i|e&a|i&a:e^i^a}function v(t){return t<20?1518500249:t<40?1859775393:t<60?-1894007588:-899497514}function f(t,e){var i=(65535&t)+(65535&e),a=(t>>16)+(e>>16)+(i>>16);return a<<16|65535&i}function _(t,e){return t<<e|t>>>32-e}function p(t){for(var e=1+(t.length+8>>6),i=new Array(16*e),a=0;a<16*e;a++)i[a]=0;for(a=0;a<t.length;a++)i[a>>2]|=t.charCodeAt(a)<<24-8*(3&a);return i[a>>2]|=128<<24-8*(3&a),i[16*e-1]=8*t.length,i}function w(t){for(var e=l?"0123456789ABCDEF":"0123456789abcdef",i="",a=0;a<4*t.length;a++)i+=e.charAt(t[a>>2]>>8*(3-a%4)+4&15)+e.charAt(t[a>>2]>>8*(3-a%4)&15);return i}function g(t,i,a){uni.request({url:"https://"+n+o,data:{user:e,stime:r,sig:s,apiname:"Open_printMsg",sn:t,content:i,times:a},method:"POST",header:{"content-type":"application/x-www-form-urlencoded"},success:function(t){console.log(t.data),0!=t.data.ret?uni.showToast({icon:"none",title:t.data.msg}):uni.showToast({icon:"none",title:"打印成功"})}})}}};e.default=o},"2ac6":function(t,e,i){},"304d":function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,".uni-status-bar[data-v-245f82ea]{display:block;width:100%;height:20px;height:0}",""])},"46f2":function(t,e,i){"use strict";var a=i("73a9"),n=i.n(a);n.a},"51a9":function(t,e,i){"use strict";var a=i("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("bc99")),o=a(i("c5a6")),r={name:"UniNavBar",components:{uniStatusBar:n.default,uniIcon:o.default},props:{title:{type:String,default:""},leftText:{type:String,default:""},rightText:{type:String,default:""},leftIcon:{type:String,default:""},rightIcon:{type:String,default:""},fixed:{type:Boolean,default:!1},color:{type:String,default:"#000000"},backgroundColor:{type:String,default:"#FFFFFF"},statusBar:{type:Boolean,default:!1},shadow:{type:Boolean,default:!0},border:{type:Boolean,default:!0}},methods:{onClickLeft:function(){this.$emit("click-left")},onClickRight:function(){this.$emit("click-right")}}};e.default=r},"51f6":function(t,e,i){"use strict";var a=i("f36e"),n=i.n(a);n.a},"6b70":function(t,e,i){"use strict";i.r(e);var a=i("cc5d"),n=i.n(a);for(var o in a)"default"!==o&&function(t){i.d(e,t,function(){return a[t]})}(o);e["default"]=n.a},"72dd":function(t,e,i){"use strict";i.r(e);var a=i("51a9"),n=i.n(a);for(var o in a)"default"!==o&&function(t){i.d(e,t,function(){return a[t]})}(o);e["default"]=n.a},"73a9":function(t,e,i){var a=i("df0b");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("e428c30a",a,!0,{sourceMap:!1,shadowMode:!1})},7418:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"uni-status-bar",style:{height:t.statusBarHeight}},[t._t("default")],2)},n=[];i.d(e,"a",function(){return a}),i.d(e,"b",function(){return n})},"9b50":function(t,e,i){"use strict";i.r(e);var a=i("c546"),n=i("d7f3");for(var o in n)"default"!==o&&function(t){i.d(e,t,function(){return n[t]})}(o);i("51f6");var r=i("2877"),s=Object(r["a"])(n["default"],a["a"],a["b"],!1,null,"2e4c09af",null);e["default"]=s.exports},a114:function(t,e,i){var a=i("304d");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("1138b26e",a,!0,{sourceMap:!1,shadowMode:!1})},ab99:function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,".Loading_view[data-v-10742ba4]{height:100vh;width:100%;text-align:center;background:#fff}.loading_image[data-v-10742ba4]{width:%?200?%;height:%?200?%;margin-top:50%}",""])},b554:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"uni-navbar"},[i("v-uni-view",{staticClass:"uni-navbar__content",class:{"uni-navbar--fixed":t.fixed,"uni-navbar--shadow":t.border,"uni-navbar--border":t.border},style:{"background-color":t.backgroundColor}},[t.statusBar?i("uni-status-bar"):t._e(),i("v-uni-view",{staticClass:"uni-navbar__header",style:{color:t.color}},[i("v-uni-view",{staticClass:"uni-navbar__header-btns",on:{click:function(e){e=t.$handleEvent(e),t.onClickLeft(e)}}},[t.leftIcon.length?i("v-uni-view",[i("uni-icon",{attrs:{type:t.leftIcon,color:t.color,size:"24"}})],1):t._e(),t.leftText.length?i("v-uni-view",{staticClass:"uni-navbar-btn-text",class:{"uni-navbar-btn-icon-left":!t.leftIcon.length}},[t._v(t._s(t.leftText))]):t._e(),t._t("left")],2),i("v-uni-view",{staticClass:"uni-navbar__header-container"},[t.title.length?i("v-uni-view",{staticClass:"uni-navbar__header-container-inner"},[t._v(t._s(t.title))]):t._e(),t._t("default")],2),i("v-uni-view",{staticClass:"uni-navbar__header-btns",on:{click:function(e){e=t.$handleEvent(e),t.onClickRight(e)}}},[t.rightIcon.length?i("v-uni-view",[i("uni-icon",{attrs:{type:t.rightIcon,color:t.color,size:"24"}})],1):t._e(),t.rightText.length&&!t.rightIcon.length?i("v-uni-view",{staticClass:"uni-navbar-btn-text"},[t._v(t._s(t.rightText))]):t._e(),t._t("right")],2)],1)],1),t.fixed?i("v-uni-view",{staticClass:"uni-navbar__placeholder"},[t.statusBar?i("uni-status-bar"):t._e(),i("v-uni-view",{staticClass:"uni-navbar__placeholder-view"})],1):t._e()],1)},n=[];i.d(e,"a",function(){return a}),i.d(e,"b",function(){return n})},bc99:function(t,e,i){"use strict";i.r(e);var a=i("7418"),n=i("6b70");for(var o in n)"default"!==o&&function(t){i.d(e,t,function(){return n[t]})}(o);i("de06");var r=i("2877"),s=Object(r["a"])(n["default"],a["a"],a["b"],!1,null,"245f82ea",null);e["default"]=s.exports},c546:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[t.loading?i("loading"):i("v-uni-view",{staticClass:"page"},[i("uni-nav-bar",{attrs:{fixed:!1,color:"#333333","background-color":"#FFFFFF","right-text":"操作"},on:{"click-right":function(e){e=t.$handleEvent(e),t.show_options(e)}}}),i("v-uni-scroll-view",{staticStyle:{height:"calc(100vh - 80rpx)"},attrs:{"scroll-y":"true"}},[i("v-uni-view",{staticStyle:{"line-height":"70rpx",padding:"0 20rpx"}},[t._v("操作产品")]),3==t.detail.type?i("v-uni-view",[i("v-uni-view",{staticStyle:{"max-height":"50vh","overflow-x":"scroll"}},t._l(t.products,function(e,a){return i("v-uni-view",{key:a,staticClass:"pro_listitem"},[i("v-uni-view",{staticClass:"pro_list",staticStyle:{color:"#000"}},[i("v-uni-view",[t._v("产品："+t._s(e.goodsName))])],1),i("v-uni-view",{staticClass:"pro_list"},[i("v-uni-view",[t._v("盘点前库存："+t._s(e.reserve))]),i("v-uni-view",[t._v("盘点后库存："+t._s(e.now_reserve))])],1)],1)}),1)],1):2==t.detail.type?i("v-uni-view",[i("v-uni-view",{staticStyle:{"max-height":"50vh","overflow-x":"scroll"}},t._l(t.products,function(e,a){return i("v-uni-view",{key:a,staticClass:"pro_listitem"},[i("v-uni-view",{staticClass:"pro_list",staticStyle:{color:"#000"}},[i("v-uni-view",[t._v("产品："+t._s(e.goodsName)+"（成本价：￥"+t._s(e.goodsId.costPrice)+"）")]),i("v-uni-view",[t._v("建议零售价：￥"+t._s(e.goodsId.retailPrice))])],1),i("v-uni-view",{staticClass:"pro_list"},[i("v-uni-view",[t._v("退货数量：X"+t._s(e.num))]),i("v-uni-view",[t._v("总价：￥"+t._s(e.total_money))])],1)],1)}),1),i("v-uni-view",{staticClass:"pro_allmoney"},[t._v("总计：￥"+t._s(t.detail.all_money))])],1):-2==t.detail.type?i("v-uni-view",[i("v-uni-view",{staticStyle:{"max-height":"50vh","overflow-x":"scroll"}},t._l(t.products,function(e,a){return i("v-uni-view",{key:a,staticClass:"pro_listitem"},[i("v-uni-view",{staticClass:"pro_list",staticStyle:{color:"#000","border-bottom":"1rpx solid#EEEEEE",padding:"0 0 10rpx"}},[i("v-uni-view",[t._v("产品："+t._s(e.goodsName))]),i("v-uni-view",[t._v("调拨数量："+t._s(e.num))])],1),i("v-uni-view",{staticClass:"pro_list",staticStyle:{padding:"10rpx 0"}},[i("v-uni-view",[t._v("调出仓库："+t._s(e.stock))]),i("v-uni-view",[t._v("当前库存："+t._s(e.reserve-e.num))])],1),i("v-uni-view",{staticClass:"pro_list"},[i("v-uni-view",[t._v("调入仓库："+t._s(e.out_stock))]),i("v-uni-view",[t._v("当前库存："+t._s(e.out_reserve+e.num))])],1)],1)}),1),-2!=t.detail.type?i("v-uni-view",{staticClass:"pro_allmoney"},[t._v("总计：￥"+t._s(t.detail.all_money))]):t._e()],1):i("v-uni-view",[i("v-uni-view",{staticStyle:{"max-height":"50vh","overflow-x":"scroll"}},t._l(t.products,function(e,a){return i("v-uni-view",{key:a,staticClass:"pro_listitem"},[i("v-uni-view",{staticClass:"pro_list",staticStyle:{color:"#000"}},[i("v-uni-view",[t._v("产品："+t._s(e.goodsName)+"（成本价：￥"+t._s(e.goodsId.costPrice)+"）")]),i("v-uni-view",[t._v("建议零售价：￥"+t._s(e.goodsId.retailPrice))])],1),i("v-uni-view",{staticClass:"pro_list"},[-1==e.type?i("v-uni-view",[t._v("实际卖出价：￥"+t._s(e.retailPrice)+"（X"+t._s(e.num)+"）")]):i("v-uni-view",[t._v("实际进货价：￥"+t._s(e.retailPrice)+"（X"+t._s(e.num)+"）")]),i("v-uni-view",[t._v("总价：￥"+t._s(e.total_money))])],1)],1)}),1),i("v-uni-view",{staticClass:"pro_allmoney"},[t._v("总计：￥"+t._s(t.detail.all_money))])],1),-1==t.detail.type?i("v-uni-view",[i("v-uni-view",{staticClass:"kaidanmx"},[i("v-uni-view",{staticStyle:{padding:"10rpx 30rpx"}},[t._v("开单明细")]),t.detail.custom?i("v-uni-view",{staticClass:"display_flex"},[i("v-uni-view",{staticClass:"left_content"},[t._v("客户姓名")]),i("v-uni-view",[t._v(t._s(t.detail.custom.custom_name))])],1):t._e(),i("v-uni-view",{staticClass:"display_flex"},[i("v-uni-view",{staticClass:"left_content"},[t._v("实际付款")]),i("v-uni-view",{staticClass:"real_color"},[t._v(t._s(null==t.detail.real_money?"未填写":t.detail.real_money))])],1),t.detail.debt>0?i("v-uni-view",{staticClass:"display_flex"},[i("v-uni-view",{staticClass:"left_content"},[t._v("欠款")]),i("v-uni-view",{staticClass:"real_color"},[t._v(t._s(t.detail.debt))])],1):t._e()],1)],1):1==t.detail.type?i("v-uni-view",[i("v-uni-view",{staticClass:"kaidanmx"},[i("v-uni-view",{staticStyle:{padding:"10rpx 30rpx"}},[t._v("开单明细")]),t.detail.producer?i("v-uni-view",{staticClass:"display_flex"},[i("v-uni-view",{staticClass:"left_content"},[t._v("供货商姓名")]),i("v-uni-view",[t._v(t._s(t.detail.producer.producer_name))])],1):t._e(),i("v-uni-view",{staticClass:"display_flex"},[i("v-uni-view",{staticClass:"left_content"},[t._v("实际付款")]),i("v-uni-view",{staticClass:"real_color"},[t._v(t._s(null==t.detail.real_money?"未填写":t.detail.real_money))])],1),t.detail.debt>0?i("v-uni-view",{staticClass:"display_flex"},[i("v-uni-view",{staticClass:"left_content"},[t._v("欠款")]),i("v-uni-view",{staticClass:"real_color"},[t._v(t._s(t.detail.debt))])],1):t._e()],1)],1):2==t.detail.type?i("v-uni-view",[i("v-uni-view",{staticClass:"kaidanmx"},[i("v-uni-view",{staticStyle:{padding:"10rpx 30rpx"}},[t._v("退货明细")]),t.detail.custom?i("v-uni-view",{staticClass:"display_flex"},[i("v-uni-view",{staticClass:"left_content"},[t._v("客户姓名")]),i("v-uni-view",[t._v(t._s(t.detail.custom.custom_name))])],1):i("v-uni-view",{staticClass:"display_flex"},[i("v-uni-view",{staticClass:"left_content"},[t._v("未记录客户")])],1)],1)],1):t._e(),i("v-uni-view",{staticClass:"detail_bottom",staticStyle:{"margin-top":"20px"}},[i("v-uni-view",{staticStyle:{display:"flex","border-bottom":"1px solid#ddd"}},[i("v-uni-view",[i("v-uni-image",{staticClass:"avatar",attrs:{src:t.detail.opreater.avatarUrl}})],1),i("v-uni-view",{staticClass:"common_style"},[t._v(t._s(t.detail.opreater.nickName))]),i("v-uni-view",{staticClass:"common_style"},[t._v("（操作者）")])],1),i("v-uni-view",{staticStyle:{padding:"20rpx 0 0"}},[t.detail.beizhu?i("v-uni-view",[t._v("备注："+t._s(t.detail.beizhu))]):i("v-uni-view",[t._v("备注：暂无")]),i("v-uni-view",[t._v("操作时间："+t._s(t.detail.createdAt))])],1)],1),-1==t.detail.type||1==t.detail.type?i("v-uni-view",[i("v-uni-button",{staticClass:"confrim_button",on:{click:function(e){e=t.$handleEvent(e),t.revoke(e)}}},[t._v("此操作有误，撤销")])],1):t._e()],1)],1)],1)},n=[];i.d(e,"a",function(){return a}),i.d(e,"b",function(){return n})},cbe2:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"Loading_view"},[i("v-uni-image",{staticClass:"loading_image",attrs:{src:"/static/timg.gif"}}),i("v-uni-view",{staticStyle:{color:"#999","margin-top":"3%"}},[t._v("加载中...")])],1)},n=[];i.d(e,"a",function(){return a}),i.d(e,"b",function(){return n})},cc5d:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=uni.getSystemInfoSync().statusBarHeight+"px",n={name:"UniStatusBar",data:function(){return{statusBarHeight:a}}};e.default=n},d02f:function(t,e,i){"use strict";var a=i("000e"),n=i.n(a);n.a},d473:function(t,e,i){"use strict";i.r(e);var a=i("cbe2"),n=i("e2e8");for(var o in n)"default"!==o&&function(t){i.d(e,t,function(){return n[t]})}(o);i("d02f");var r=i("2877"),s=Object(r["a"])(n["default"],a["a"],a["b"],!1,null,"10742ba4",null);e["default"]=s.exports},d7f3:function(t,e,i){"use strict";i.r(e);var a=i("e104"),n=i.n(a);for(var o in a)"default"!==o&&function(t){i.d(e,t,function(){return a[t]})}(o);e["default"]=n.a},de06:function(t,e,i){"use strict";var a=i("a114"),n=i.n(a);n.a},df0b:function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,'.uni-navbar__content[data-v-afd25488]{display:block;position:relative;width:100%;background-color:#fff;overflow:hidden;padding:0 %?30?%;width:calc(100% - %?60?%)}.uni-navbar__content uni-view[data-v-afd25488]{line-height:%?78?%}.uni-navbar__header[data-v-afd25488]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;width:100%;height:%?78?%;line-height:%?78?%;font-size:%?26?%;font-weight:700;color:#333}.uni-navbar__header-btns[data-v-afd25488]{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-flex-wrap:nowrap;-ms-flex-wrap:nowrap;flex-wrap:nowrap;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;padding:0 %?12?%}.uni-navbar__header-btns[data-v-afd25488]:first-child{padding-left:0}.uni-navbar__header-btns[data-v-afd25488]:last-child{text-align:right}.uni-navbar__header-container[data-v-afd25488]{width:100%;margin:0 %?10?%}.uni-navbar__header-container-inner[data-v-afd25488]{font-size:%?30?%;text-align:center;padding-right:%?60?%}.uni-navbar__placeholder-view[data-v-afd25488]{height:%?88?%}.uni-navbar--fixed[data-v-afd25488]{position:fixed;z-index:998}.uni-navbar--shadow[data-v-afd25488]{-webkit-box-shadow:0 1px 6px #ccc;box-shadow:0 1px 6px #ccc}.uni-navbar--border[data-v-afd25488]:after{position:absolute;z-index:3;bottom:0;left:0;right:0;height:1px;content:"";-webkit-transform:scaleY(.5);-ms-transform:scaleY(.5);transform:scaleY(.5);background-color:#c8c7cc}',""])},dfb9:function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,".page[data-v-2e4c09af]{color:#4d4d4d;height:100vh;overflow-y:scroll;background:#fafafa;font-size:%?28?%}.pro_list[data-v-2e4c09af]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between}.pro_listitem[data-v-2e4c09af]{background-color:#fff;padding:%?10?% %?20?%;border-bottom:%?1?% solid#ddd}.pro_allmoney[data-v-2e4c09af]{background-color:#fff;padding:%?10?% %?20?%;text-align:right;font-size:%?32?%;color:#f30}.beizhu_style[data-v-2e4c09af]{width:100%;background-color:#fff;padding:%?20?%;font-size:%?32?%}.confrim_button[data-v-2e4c09af]{width:60%;background:#426ab3;color:#fff;font-size:%?32?%;margin:10% 20%}.detail_bottom[data-v-2e4c09af]{width:calc(100% - %?40?%);background-color:#fff;padding:%?20?%}.avatar[data-v-2e4c09af]{width:%?80?%;height:%?80?%;border-radius:50%}.common_style[data-v-2e4c09af]{line-height:%?80?%;margin-left:%?20?%;color:#000}.real_color[data-v-2e4c09af]{color:#f30!important}.kaidanmx[data-v-2e4c09af]{margin-top:%?30?%}.display_flex[data-v-2e4c09af]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;background:#fff;padding:%?15?% %?30?%}.left_content[data-v-2e4c09af]{width:%?150?%}",""])},e104:function(t,e,i){"use strict";var a=i("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,o,r=a(i("0bc2")),s=a(i("d473")),l=a(i("e44a")),c={components:{loading:s.default,uniNavBar:l.default},data:function(){return{bills:[],loading:!0,products:null,detail:null}},onLoad:function(t){console.log(t),n=this,o=t.id,n.getdetail(o)},methods:{show_options:function(){uni.showActionSheet({itemList:["打印"],success:function(t){0==t.tapIndex&&r.default.print_operations(n.detail,n.products)},fail:function(t){console.log(t.errMsg)}})},getdetail:function(t){var e=Bmob.Query("order_opreations");e.include("opreater","custom","producer"),e.get(t).then(function(t){if(console.log(t),n.detail=t,t.detail)n.products=t.detail,n.bills=t.bills,n.loading=!1;else{var e=Bmob.Query("order_opreations");e.include("goodsId"),e.field("relations",t.objectId),e.relation("Bills").then(function(t){n.products=t.results,n.loading=!1})}}).catch(function(t){console.log(t)})},revoke:function(){wx.showModal({title:"提示",content:"数据撤销后不可恢复，请谨慎撤销！",success:function(t){if(t.confirm){uni.showLoading({title:"撤销中..."});var e=Bmob.Query("order_opreations");e.destroy(n.detail.objectId).then(function(t){for(var e=0;e<n.products.length;e++)n.delete_bill(e)}).catch(function(t){console.log(t)})}}})},delete_bill:function(t){var e=n.products[t],i=n.bills[t],a=Bmob.Query("Bills");a.destroy(i).then(function(i){var a=Bmob.Query("Goods");a.set("id",e.goodsId.objectId),1==e.type?a.set("reserve",e.goodsId.reserve-e.num):-1==e.type&&a.set("reserve",e.goodsId.reserve+e.num),a.save().then(function(e){t==n.products.length-1&&(uni.hideLoading(),uni.navigateBack({delta:1}),setTimeout(function(){uni.showToast({title:"撤销成功"})},1e3))})})}}};e.default=c},e2e8:function(t,e,i){"use strict";i.r(e);var a=i("2ac6"),n=i.n(a);for(var o in a)"default"!==o&&function(t){i.d(e,t,function(){return a[t]})}(o);e["default"]=n.a},e44a:function(t,e,i){"use strict";i.r(e);var a=i("b554"),n=i("72dd");for(var o in n)"default"!==o&&function(t){i.d(e,t,function(){return n[t]})}(o);i("46f2");var r=i("2877"),s=Object(r["a"])(n["default"],a["a"],a["b"],!1,null,"afd25488",null);e["default"]=s.exports},f36e:function(t,e,i){var a=i("dfb9");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("2174a7d8",a,!0,{sourceMap:!1,shadowMode:!1})}}]);