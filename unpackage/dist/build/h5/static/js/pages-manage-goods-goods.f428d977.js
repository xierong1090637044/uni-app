(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-manage-goods-goods"],{"0b48":function(t,e,n){"use strict";var i=n("53e4"),a=n.n(i);a.a},1221:function(t,e,n){var i=n("7a5e");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("085502a0",i,!0,{sourceMap:!1,shadowMode:!1})},"1f15":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=uni.getSystemInfoSync().statusBarHeight+"px",a={name:"UniStatusBar",data:function(){return{statusBarHeight:i}}};e.default=a},"1f3c":function(t,e,n){e=t.exports=n("2350")(!1),e.push([t.i,'@charset "UTF-8";\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */uni-page-body[data-v-a6f91568]{background:#fff}.text_notice[data-v-a6f91568]{margin-left:%?6?%}.content[data-v-a6f91568]{height:100%;overflow:hidden}.uni-product-list[data-v-a6f91568]{padding:0 %?10?%;width:calc(100% - %?20?%);height:calc(100vh - %?236?%)}.uni-product[data-v-a6f91568]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;padding:%?10?% 0;border-bottom:1px solid #ddd;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.product_image[data-v-a6f91568]{width:%?80?%;height:%?80?%}.product_name[data-v-a6f91568]{font-weight:700;color:#333}.product_reserve[data-v-a6f91568]{color:#6c757d;font-size:%?24?%;font-weight:700}.title[data-v-a6f91568]{font-size:15px;line-height:20px;color:#333;padding:15px}.city[data-v-a6f91568]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;width:100%;margin-left:8px;white-space:nowrap}.input-view[data-v-a6f91568]{width:92%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;background-color:#e7e7e7;height:30px;border-radius:15px;padding:0 4%;-webkit-flex-wrap:nowrap;-ms-flex-wrap:nowrap;flex-wrap:nowrap;margin:%?8?% 0;line-height:30px}.input-view .uni-icon[data-v-a6f91568]{line-height:30px!important}.input-view .input[data-v-a6f91568]{height:30px;line-height:30px;width:94%;padding:0 3%}body.?%PAGE?%[data-v-a6f91568]{background:#fff}',""])},"21c0":function(t,e,n){var i=n("bfc1");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("0a87ec79",i,!0,{sourceMap:!1,shadowMode:!1})},"2b76":function(t,e,n){"use strict";var i=n("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=i(n("8f52")),o=i(n("5753")),r={name:"UniNavBar",components:{uniStatusBar:a.default,uniIcon:o.default},props:{title:{type:String,default:""},leftText:{type:String,default:""},rightText:{type:String,default:""},leftIcon:{type:String,default:""},rightIcon:{type:String,default:""},fixed:{type:Boolean,default:!1},color:{type:String,default:"#000000"},backgroundColor:{type:String,default:"#FFFFFF"},statusBar:{type:Boolean,default:!1},shadow:{type:Boolean,default:!0},border:{type:Boolean,default:!0}},methods:{onClickLeft:function(){this.$emit("click-left")},onClickRight:function(){this.$emit("click-right")}}};e.default=r},"2bfc":function(t,e,n){"use strict";n.r(e);var i=n("7715"),a=n("80d9");for(var o in a)"default"!==o&&function(t){n.d(e,t,function(){return a[t]})}(o);n("58ab");var r=n("2877"),c=Object(r["a"])(a["default"],i["a"],i["b"],!1,null,"68102392",null);e["default"]=c.exports},4404:function(t,e,n){"use strict";n.r(e);var i=n("97ba"),a=n("50fc");for(var o in a)"default"!==o&&function(t){n.d(e,t,function(){return a[t]})}(o);n("0b48");var r=n("2877"),c=Object(r["a"])(a["default"],i["a"],i["b"],!1,null,"a6f91568",null);e["default"]=c.exports},"4d05":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"uni-navbar"},[n("v-uni-view",{staticClass:"uni-navbar__content",class:{"uni-navbar--fixed":t.fixed,"uni-navbar--shadow":t.border,"uni-navbar--border":t.border},style:{"background-color":t.backgroundColor}},[t.statusBar?n("uni-status-bar"):t._e(),n("v-uni-view",{staticClass:"uni-navbar__header",style:{color:t.color}},[n("v-uni-view",{staticClass:"uni-navbar__header-btns",on:{click:function(e){e=t.$handleEvent(e),t.onClickLeft(e)}}},[t.leftIcon.length?n("v-uni-view",[n("uni-icon",{attrs:{type:t.leftIcon,color:t.color,size:"24"}})],1):t._e(),t.leftText.length?n("v-uni-view",{staticClass:"uni-navbar-btn-text",class:{"uni-navbar-btn-icon-left":!t.leftIcon.length}},[t._v(t._s(t.leftText))]):t._e(),t._t("left")],2),n("v-uni-view",{staticClass:"uni-navbar__header-container"},[t.title.length?n("v-uni-view",{staticClass:"uni-navbar__header-container-inner"},[t._v(t._s(t.title))]):t._e(),t._t("default")],2),n("v-uni-view",{staticClass:"uni-navbar__header-btns",on:{click:function(e){e=t.$handleEvent(e),t.onClickRight(e)}}},[t.rightIcon.length?n("v-uni-view",[n("uni-icon",{attrs:{type:t.rightIcon,color:t.color,size:"24"}})],1):t._e(),t.rightText.length&&!t.rightIcon.length?n("v-uni-view",{staticClass:"uni-navbar-btn-text"},[t._v(t._s(t.rightText))]):t._e(),t._t("right")],2)],1)],1),t.fixed?n("v-uni-view",{staticClass:"uni-navbar__placeholder"},[t.statusBar?n("uni-status-bar"):t._e(),n("v-uni-view",{staticClass:"uni-navbar__placeholder-view"})],1):t._e()],1)},a=[];n.d(e,"a",function(){return i}),n.d(e,"b",function(){return a})},"50fc":function(t,e,n){"use strict";n.r(e);var i=n("ad5e"),a=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,function(){return i[t]})}(o);e["default"]=a.a},"53e4":function(t,e,n){var i=n("1f3c");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("4da98ada",i,!0,{sourceMap:!1,shadowMode:!1})},"58ab":function(t,e,n){"use strict";var i=n("21c0"),a=n.n(i);a.a},6931:function(t,e,n){var i=n("77dc");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("10de9ba5",i,!0,{sourceMap:!1,shadowMode:!1})},7715:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"uni-pagination"},[n("v-uni-view",{staticClass:"uni-pagination__btns"},[n("v-uni-view",{class:["uni-pagination__btn",{"uni-pagination--disabled":1===t.currentIndex}],attrs:{"hover-class":1===t.currentIndex?"":"uni-pagination--hover","hover-start-time":20,"hover-stay-time":70},on:{click:function(e){e=t.$handleEvent(e),t.clickLeft(e)}}},[t.showIcon?[n("uni-icon",{attrs:{color:"#000",size:"20",type:"arrowleft"}})]:[t._v(t._s(t.prevText))]],2),n("v-uni-view",{class:["uni-pagination__btn",{"uni-pagination--disabled":t.currentIndex===t.maxPage}],attrs:{"hover-class":t.currentIndex===t.maxPage?"":"uni-pagination--hover","hover-start-time":20,"hover-stay-time":70},on:{click:function(e){e=t.$handleEvent(e),t.clickRight(e)}}},[t.showIcon?[n("uni-icon",{attrs:{color:"#000",size:"20",type:"arrowright"}})]:[t._v(t._s(t.nextText))]],2)],1),n("v-uni-view",{staticClass:"uni-pagination__num"},[n("v-uni-input",{staticClass:"uni-pagination__num-current",staticStyle:{"text-align":"center","margin-top":"10rpx"},attrs:{value:t.currentIndex,type:"number"},on:{blur:function(e){e=t.$handleEvent(e),t.inputNumber(e)},confirm:function(e){e=t.$handleEvent(e),t.inputNumber(e)}}})],1)],1)},a=[];n.d(e,"a",function(){return i}),n.d(e,"b",function(){return a})},"77dc":function(t,e,n){e=t.exports=n("2350")(!1),e.push([t.i,".uni-status-bar[data-v-0e05f980]{display:block;width:100%;height:20px;height:0}",""])},"7a5e":function(t,e,n){e=t.exports=n("2350")(!1),e.push([t.i,'.uni-navbar__content[data-v-11835227]{display:block;position:relative;width:100%;background-color:#fff;overflow:hidden;padding:0 %?30?%;width:calc(100% - %?60?%)}.uni-navbar__content uni-view[data-v-11835227]{line-height:%?78?%}.uni-navbar__header[data-v-11835227]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;width:100%;height:%?78?%;line-height:%?78?%;font-size:%?26?%;font-weight:700;color:#333}.uni-navbar__header-btns[data-v-11835227]{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-flex-wrap:nowrap;-ms-flex-wrap:nowrap;flex-wrap:nowrap;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;padding:0 %?12?%}.uni-navbar__header-btns[data-v-11835227]:first-child{padding-left:0}.uni-navbar__header-btns[data-v-11835227]:last-child{text-align:right}.uni-navbar__header-container[data-v-11835227]{width:100%;margin:0 %?10?%}.uni-navbar__header-container-inner[data-v-11835227]{font-size:%?30?%;text-align:center;padding-right:%?60?%}.uni-navbar__placeholder-view[data-v-11835227]{height:%?88?%}.uni-navbar--fixed[data-v-11835227]{position:fixed;z-index:998}.uni-navbar--shadow[data-v-11835227]{-webkit-box-shadow:0 1px 6px #ccc;box-shadow:0 1px 6px #ccc}.uni-navbar--border[data-v-11835227]:after{position:absolute;z-index:3;bottom:0;left:0;right:0;height:1px;content:"";-webkit-transform:scaleY(.5);-ms-transform:scaleY(.5);transform:scaleY(.5);background-color:#c8c7cc}',""])},"80d9":function(t,e,n){"use strict";n.r(e);var i=n("cd4e"),a=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,function(){return i[t]})}(o);e["default"]=a.a},"8e11":function(t,e,n){"use strict";n.r(e);var i=n("2b76"),a=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,function(){return i[t]})}(o);e["default"]=a.a},"8f52":function(t,e,n){"use strict";n.r(e);var i=n("f1db"),a=n("d5c0");for(var o in a)"default"!==o&&function(t){n.d(e,t,function(){return a[t]})}(o);n("c47b");var r=n("2877"),c=Object(r["a"])(a["default"],i["a"],i["b"],!1,null,"0e05f980",null);e["default"]=c.exports},"97ba":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"page"},[t.loading?n("loading"):n("v-uni-view",{staticClass:"content"},[n("uni-nav-bar",{attrs:{fixed:!1,color:"#333333","background-color":"#FFFFFF","right-text":"添加","left-text":"筛选"},on:{"click-left":function(e){e=t.$handleEvent(e),t.shaixuan(e)},"click-right":function(e){e=t.$handleEvent(e),t.goto_add(e)}}},[n("v-uni-view",{staticClass:"input-view"},[n("uni-icon",{attrs:{type:"search",size:"22",color:"#666666"}}),n("v-uni-input",{staticClass:"input",attrs:{"confirm-type":"search",type:"text",placeholder:"请输入产品名字或者含量",value:t.search_text},on:{confirm:function(e){e=t.$handleEvent(e),t.input_confirm(e)},blur:function(e){e=t.$handleEvent(e),t.input_confirm(e)}}})],1)],1),n("v-uni-view",{staticClass:"display_flex good_option_view"},[n("v-uni-view",{staticClass:"good_option",on:{click:function(e){e=t.$handleEvent(e),t.selectd("createdAt")}}},[n("v-uni-text",{class:"createdAt"==t.checked_option?"option_selected":""},[t._v("创建时间")]),"createdAt"==t.checked_option?n("fa-icon",{attrs:{type:"check",size:"20",color:"#1d953f"}}):t._e()],1),n("v-uni-view",{staticClass:"good_option",on:{click:function(e){e=t.$handleEvent(e),t.selectd("goodsName")}}},[n("v-uni-text",{class:"goodsName"==t.checked_option?"option_selected":""},[t._v("名字")]),"goodsName"==t.checked_option?n("fa-icon",{attrs:{type:"check",size:"20",color:"#1d953f"}}):t._e()],1),n("v-uni-view",{staticClass:"good_option",on:{click:function(e){e=t.$handleEvent(e),t.selectd("reserve")}}},[n("v-uni-text",{class:"reserve"==t.checked_option?"option_selected":""},[t._v("库存")]),"reserve"==t.checked_option?n("fa-icon",{attrs:{type:"check",size:"20",color:"#1d953f"}}):t._e()],1)],1),n("v-uni-scroll-view",{staticClass:"uni-product-list",attrs:{"scroll-y":""}},[t.productList.length>0?n("v-uni-view",t._l(t.productList,function(e,i){return n("v-uni-view",{key:i,staticClass:"uni-product"},[n("v-uni-view",[e.goodsIcon?n("v-uni-image",{staticClass:"product_image",attrs:{src:e.goodsIcon,mode:"widthFix"},on:{click:function(n){n=t.$handleEvent(n),t.priviewImg(e.goodsIcon)}}}):n("v-uni-image",{staticClass:"product_image",attrs:{src:"/static/goods-default.png",mode:"widthFix"}})],1),n("v-uni-view",{staticStyle:{"margin-left":"20rpx",width:"100%","line-height":"40rpx"},on:{click:function(n){n=t.$handleEvent(n),t.goDetail(e)}}},[n("v-uni-view",{staticClass:"product_name",style:{color:0==e.stocktype?"#f30":""}},[t._v(t._s(e.goodsName))]),n("v-uni-view",{staticClass:"product_reserve display_flex_bet",staticStyle:{width:"90%"}},[n("v-uni-view",{staticStyle:{"font-size":"24rpx"}},[t._v("库存数量:"),n("v-uni-text",{staticClass:"text_notice"},[t._v(t._s(e.reserve))])],1),e.warning_num?n("v-uni-view",{staticStyle:{"font-size":"24rpx"}},[t._v("预警数量:"),n("v-uni-text",{staticClass:"text_notice"},[t._v(t._s(e.warning_num))])],1):t._e()],1),n("v-uni-view",{staticClass:"product_reserve"},[t._v("创建时间:"),n("v-uni-text",{staticClass:"text_notice"},[t._v(t._s(e.createdAt))])],1)],1),n("fa-icon",{attrs:{type:"angle-right",size:"20",color:"#426ab3"}})],1)}),1):n("v-uni-view",[n("v-uni-view",{staticStyle:{"margin-top":"100rpx",color:"#333","font-weight":"bold","text-align":"center","font-size":"36rpx"}},[t._v("没有商品啦!")])],1)],1),n("v-uni-view",{staticStyle:{padding:"6rpx 0","border-top":"1rpx solid#ddd"}},[n("uni-pagination",{attrs:{"show-icon":!0,total:"100000",current:t.page_num},on:{change:function(e){e=t.$handleEvent(e),t.change_page(e)}}})],1)],1),t.showOptions?n("v-uni-view",{staticClass:"modal_background"},[n("v-uni-view",{staticClass:"showOptions"},[n("v-uni-navigator",{staticClass:"input_item1",attrs:{"hover-class":"none",url:"/pages/manage/category/category?type=choose"}},[n("v-uni-view",{staticStyle:{display:"flex","align-items":"center",width:"100%"}},[n("v-uni-view",{staticClass:"left_item"},[t._v("类别")]),n("v-uni-view",{staticClass:"right_input"},[n("v-uni-input",{attrs:{placeholder:"产品类别",value:t.category.class_text,disabled:"true"}})],1)],1),n("v-uni-view",[n("fa-icon",{attrs:{type:"angle-right",size:"20",color:"#999"}})],1)],1),n("v-uni-navigator",{staticClass:"input_item1",attrs:{"hover-class":"none",url:"/pages/manage/warehouse/warehouse?type=choose"}},[n("v-uni-view",{staticStyle:{display:"flex","align-items":"center",width:"100%"}},[n("v-uni-view",{staticClass:"left_item"},[t._v("仓库")]),n("v-uni-view",{staticClass:"right_input"},[n("v-uni-input",{attrs:{placeholder:"存放仓库",value:t.stock.stock_name,disabled:"true"}})],1)],1),n("v-uni-view",[n("fa-icon",{attrs:{type:"angle-right",size:"20",color:"#999"}})],1)],1),n("v-uni-view",{staticClass:"display_flex",staticStyle:{padding:"0 30rpx","margin-top":"10rpx"}},[n("v-uni-view",[t._v("预警产品")]),n("v-uni-view",{staticStyle:{"margin-left":"30rpx"},on:{click:function(e){e.stopPropagation(),e=t.$handleEvent(e)}}},[n("v-uni-switch",{attrs:{checked:t.stock_checked},on:{change:function(e){e=t.$handleEvent(e),t.change_stocktatus(e)}}})],1)],1),n("v-uni-view",{staticClass:"display_flex",staticStyle:{padding:"0 30rpx","margin-top":"10rpx"}},[n("v-uni-view",[t._v("失效产品")]),n("v-uni-view",{staticStyle:{"margin-left":"30rpx"},on:{click:function(e){e.stopPropagation(),e=t.$handleEvent(e)}}},[n("v-uni-switch",{attrs:{checked:t.checked},on:{change:function(e){e=t.$handleEvent(e),t.change_timestatus(e)}}})],1)],1),n("v-uni-view",{staticClass:"option_bottom"},[n("v-uni-view",{staticClass:"selection",on:{click:function(e){e=t.$handleEvent(e),t.option_reset(e)}}},[t._v("重置")]),n("v-uni-view",{staticClass:"selection1",on:{click:function(e){e=t.$handleEvent(e),t.option_confrim(e)}}},[t._v("确定")])],1)],1)],1):t._e()],1)},a=[];n.d(e,"a",function(){return i}),n.d(e,"b",function(){return a})},a288:function(t,e,n){"use strict";var i=n("1221"),a=n.n(i);a.a},ad5e:function(t,e,n){"use strict";(function(t){var i=n("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=i(n("5d73"));n("7514");var o,r,c=i(n("c74b")),s=i(n("0914")),u=i(n("524a")),l=i(n("b92d")),d=i(n("5753")),f=i(n("2bfc")),v=i(n("df06")),g="",p=30,h=1,b={components:{loading:u.default,uniNavBar:l.default,faIcon:s.default,uniPagination:f.default,uniIcon:d.default},data:function(){return{page_num:1,showOptions:!1,loading:!0,productList:null,checked_option:"createdAt",category:"",stock:"",checked:!1,stock_checked:!1,search_text:""}},onLoad:function(t){r=this,uni.removeStorageSync("category"),uni.removeStorageSync("warehouse"),o=uni.getStorageSync("uid"),t.search_text&&(r.search_text=t.search_text,g=t.search_text),r.get_productList()},onShow:function(){this.page_num=h,uni.removeStorageSync("now_product"),uni.getStorageSync("category")&&(r.showOptions=!0,r.category=uni.getStorageSync("category")),uni.getStorageSync("warehouse")&&(r.showOptions=!0,r.stock=uni.getStorageSync("warehouse")[uni.getStorageSync("warehouse").length-1].stock),uni.getStorageSync("is_add")&&r.get_productList()},onUnload:function(){v.default.handleData(),g="",p=50,uni.removeStorageSync("is_add")},methods:{priviewImg:function(t){uni.previewImage({current:t,urls:[t]})},change_page:function(t){h=t.current,r.get_productList()},change_timestatus:function(e){t.log(e),r.checked=e.detail.value},change_stocktatus:function(e){t.log(e),r.stock_checked=e.detail.value},input_confirm:function(e){t.log(e),g=e.detail.value,r.get_productList()},shaixuan:function(){r.showOptions=!0},goto_add:function(){uni.showActionSheet({itemList:["单产品上传","多仓库产品上传","多规格产品上传"],success:function(e){var n=uni.getStorageSync("user"),i=uni.getStorageSync("identity");n.is_vip||r.productList.length<30?0==e.tapIndex?uni.navigateTo({url:"../good_add/good_add"}):1==e.tapIndex?uni.navigateTo({url:"../goods_add/goods_add"}):2==e.tapIndex&&uni.navigateTo({url:"../goods_add_MoreG/goods_add_MoreG"}):uni.showModal({title:"提示",content:"非会员最多上传30件产品",confirmText:"充值会员",success:function(e){e.confirm?1==i?uni.navigateTo({url:"/pages/mine/vip/vip"}):uni.showToast({title:"员工不能充值",icon:"none"}):e.cancel&&t.log("用户点击取消")}})},fail:function(e){t.log(e.errMsg)}})},option_reset:function(){uni.removeStorageSync("category"),uni.removeStorageSync("warehouse"),r.stock_checked=!1,r.checked=!1,r.category="",r.stock="",r.showOptions=!1,r.get_productList()},option_confrim:function(){uni.getStorageSync("category")&&(r.category=uni.getStorageSync("category")),uni.getStorageSync("warehouse")&&(r.stock=uni.getStorageSync("warehouse")[uni.getStorageSync("warehouse").length-1].stock),r.showOptions=!1,r.get_productList()},selectd:function(t){p=50,r.checked_option=t,r.get_productList()},goDetail:function(e){t.log(e),uni.setStorageSync("now_product",e),uni.navigateTo({url:"../good_det/good_det"})},get_productList:function(){var t=this,e=c.default.Query("Goods");e.equalTo("userId","==",o),e.equalTo("stocks","==",r.stock.objectId),e.equalTo("status","!=",-1),r.stock||e.equalTo("accessory","!=",!0),1==r.category.type?e.equalTo("goodsClass","==",r.category.objectId):e.equalTo("second_class","==",r.category.objectId);var n=e.equalTo("goodsName","==",{$regex:g+".*"}),i=e.equalTo("packageContent","==",{$regex:g+".*"});if(e.or(n,i),r.checked){var s=Date.parse(new Date);e.equalTo("nousetime","<=",s)}r.stock_checked&&e.equalTo("stocktype","==",0),e.limit(p),e.skip(p*(h-1)),e.order("-"+r.checked_option),e.include("goodsClass","stocks","second_class"),e.find().then(function(e){var n=!0,i=!1,o=void 0;try{for(var r,c=(0,a.default)(e);!(n=(r=c.next()).done);n=!0){var s=r.value;s.reserve=s.reserve.toFixed(uni.getStorageSync("setting").show_float)}}catch(u){i=!0,o=u}finally{try{n||null==c.return||c.return()}finally{if(i)throw o}}t.productList=e,t.loading=!1})}}};e.default=b}).call(this,n("5a52")["default"])},b92d:function(t,e,n){"use strict";n.r(e);var i=n("4d05"),a=n("8e11");for(var o in a)"default"!==o&&function(t){n.d(e,t,function(){return a[t]})}(o);n("a288");var r=n("2877"),c=Object(r["a"])(a["default"],i["a"],i["b"],!1,null,"11835227",null);e["default"]=c.exports},bfc1:function(t,e,n){e=t.exports=n("2350")(!1),e.push([t.i,'.uni-pagination[data-v-68102392]{width:100%;-webkit-box-sizing:border-box;box-sizing:border-box;padding:0 %?40?%;position:relative;overflow:hidden;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row}.uni-pagination__btns[data-v-68102392]{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row}.uni-pagination__btn[data-v-68102392]{width:%?120?%;height:%?60?%;padding:0 %?16?%;line-height:%?60?%;font-size:%?28?%;-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;background-color:#f8f8f8;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.uni-pagination__btn[data-v-68102392]:after{content:"";width:200%;height:200%;position:absolute;top:0;left:0;border:1px solid #c8c7cc;-webkit-transform:scale(.5);-ms-transform:scale(.5);transform:scale(.5);-webkit-transform-origin:0 0;-ms-transform-origin:0 0;transform-origin:0 0;-webkit-box-sizing:border-box;box-sizing:border-box;border-radius:%?12?%}.uni-pagination__num[data-v-68102392]{height:%?60?%;line-height:%?60?%;font-size:%?28?%;color:#333;position:absolute;left:50%;top:0;-webkit-transform:translateX(-50%);-ms-transform:translateX(-50%);transform:translateX(-50%)}.uni-pagination__num-current[data-v-68102392]{color:#007aff}.uni-pagination--disabled[data-v-68102392]{opacity:.3}.uni-pagination--hover[data-v-68102392]{color:rgba(0,0,0,.6);background-color:#f1f1f1}',""])},c47b:function(t,e,n){"use strict";var i=n("6931"),a=n.n(i);a.a},cd4e:function(t,e,n){"use strict";(function(t){var i=n("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("c5f6");var a=i(n("5753")),o={name:"UniPagination",components:{uniIcon:a.default},props:{prevText:{type:String,default:"上一页"},nextText:{type:String,default:"下一页"},current:{type:[Number,String],default:1},total:{type:[Number,String],default:0},pageSize:{type:[Number,String],default:10},showIcon:{type:Boolean,default:!1}},data:function(){return{currentIndex:1}},computed:{maxPage:function(){var t=1,e=Number(this.total),n=Number(this.pageSize);return e&&n&&(t=Math.ceil(e/n)),t}},watch:{current:function(t){this.currentIndex=+t}},created:function(){this.currentIndex=+this.current},methods:{clickLeft:function(){1!==Number(this.currentIndex)&&(this.currentIndex-=1,this.change("prev"))},clickRight:function(){Number(this.currentIndex)!==this.maxPage&&(this.currentIndex+=1,this.change("next"))},inputNumber:function(e){t.log(e),this.currentIndex=Number(e.detail.value),this.$emit("change",{type:e,current:this.currentIndex})},change:function(e){t.log(e),this.$emit("change",{type:e,current:this.currentIndex})}}};e.default=o}).call(this,n("5a52")["default"])},d5c0:function(t,e,n){"use strict";n.r(e);var i=n("1f15"),a=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,function(){return i[t]})}(o);e["default"]=a.a},df06:function(t,e,n){"use strict";(function(e){var i=n("288e");n("6b54"),n("87b3"),n("7514");var a=i(n("5d73"));n("c5f6");var o=i(n("795b")),r=i(n("c74b"));t.exports={enterAddGoodNum:function(t){return new o.default(function(n,i){for(var o=function(i){var o=0,c=r.default.Query("Goods");c.get(t[i].objectId).then(function(r){if(e.log(t[i]),t[i].selectd_model){var c=!0,s=!1,u=void 0;try{for(var l,d=(0,a.default)(t[i].selected_model);!(c=(l=d.next()).done);c=!0){var f=l.value,v=!0,g=!1,p=void 0;try{for(var h,b=(0,a.default)(t[i].models);!(v=(h=b.next()).done);v=!0){var w=h.value;w.id==f.id&&(w.reserve=Number(w.reserve)+Number(f.num))}}catch(x){g=!0,p=x}finally{try{v||null==b.return||b.return()}finally{if(g)throw p}}}}catch(x){s=!0,u=x}finally{try{c||null==d.return||d.return()}finally{if(s)throw u}}o=Number(t[i].reserve)+Number(t[i].num),r.set("models",t[i].models)}else o=Number(t[i].reserve)+Number(t[i].num);r.set("reserve",o),r.set("stocktype",o>t[i].warning_num?1:0),r.save(),i==t.length-1&&n(!0)}).catch(function(t){e.log(t)})},c=0;c<t.length;c++)o(c)})},outRedGoodNum:function(t){var n=this;return new o.default(function(i,o){for(var c=function(o){var c=0,s=r.default.Query("Goods");s.get(t[o].objectId).then(function(e){if(t[o].selectd_model){var r=!0,s=!1,u=void 0;try{for(var l,d=(0,a.default)(t[o].selectd_model);!(r=(l=d.next()).done);r=!0){var f=l.value,v=!0,g=!1,p=void 0;try{for(var h,b=(0,a.default)(t[o].models);!(v=(h=b.next()).done);v=!0){var w=h.value;c+=Number(w.reserve),w.id==f.id&&(w.reserve=Number(w.reserve)-Number(f.num))}}catch(x){g=!0,p=x}finally{try{v||null==b.return||b.return()}finally{if(g)throw p}}}}catch(x){s=!0,u=x}finally{try{r||null==d.return||d.return()}finally{if(s)throw u}}c=Number(t[o].reserve)-Number(t[o].num),e.set("models",t[o].models)}else c=Number(t[o].reserve)-Number(t[o].num);e.set("reserve",c),e.set("stocktype",c>=t[o].warning_num?1:0),e.save(),t[o].warning_num>=c&&n.log(t[o].goodsName+"出库了"+t[o].num+"件，已经低于预警数量"+t[o].warning_num,-2,t[o].objectId),n.record_staffOut(Number(t[o].num)),o==t.length-1&&i(!0)}).catch(function(t){e.log(t)})},s=0;s<t.length;s++)c(s)})},handleData:function(){uni.removeStorageSync("warehouse"),uni.removeStorageSync("stock"),uni.removeStorageSync("custom"),uni.removeStorageSync("category"),uni.removeStorageSync("class_user"),uni.removeStorageSync("second_class")},log:function(t,n,i){var a=r.default.Pointer("_User"),o=a.set(uni.getStorageSync("uid")),c=r.default.Query("logs");c.set("parent",o),c.set("log",t),c.set("detail_id",i),c.set("type",n),c.save().then(function(t){e.log(t)}).catch(function(t){e.log(t)})},record_shopOut:function(t,n){e.log(t,n);var i=r.default.Query("shops");i.set("id",t),i.set("have_out",n),i.save().then(function(t){e.log(t)}).catch(function(t){e.log(t)})},record_staffOut:function(t){if(e.log(t,uni.getStorageSync("user").have_out),1==uni.getStorageSync("identity"));else{var n=r.default.Query("staffs");n.set("id",uni.getStorageSync("user").objectId),n.set("have_out",Number(t)+uni.getStorageSync("user").have_out),n.save().then(function(t){e.log(t)}).catch(function(t){e.log(t)})}},get_allCost:function(){var t=uni.getStorageSync("uid");e.log(t);var n=r.default.Query("Goods");n.equalTo("userId","==",t),n.find().then(function(t){e.log(t);var n=!0,i=!1,o=void 0;try{for(var r,c=(0,a.default)(t);!(n=(r=c.next()).done);n=!0){var s=r.value;e.log(s),Number(s.costPrice)*s.reserve,s.reserve}}catch(u){i=!0,o=u}finally{try{n||null==c.return||c.return()}finally{if(i)throw o}}})},getDay:function(t,e){var n=this,i=new Date,a=i.getTime()+864e5*t;i.setTime(a);var o=i.getFullYear(),r=i.getMonth(),c=i.getDate();return r=n.handleMonth(r+1),c=n.handleMonth(c),e?o+"-"+r+"-"+c+" 00:00:00":o+"-"+r+"-"+c},js_date_time:function(t,e){var n=new Date(t),i=n.getFullYear(),a=n.getMonth()+1;a=a<10?"0"+a:a;var o=n.getDate();o=o<10?"0"+o:o;var r=n.getHours();r=r<10?"0"+r:r;var c=n.getMinutes(),s=n.getSeconds();return c=c<10?"0"+c:c,s=s<10?"0"+s:s,e?i+"-"+a+"-"+o+" "+r+":"+c:i+"-"+a+"-"+o},handleMonth:function(t){var e=t;return 1==t.toString().length&&(e="0"+t),e}}}).call(this,n("5a52")["default"])},f1db:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"uni-status-bar",style:{height:t.statusBarHeight}},[t._t("default")],2)},a=[];n.d(e,"a",function(){return i}),n.d(e,"b",function(){return a})}}]);