(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-manage-shops-add-add"],{"06a8":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",[n("v-uni-view",[n("v-uni-view",{staticClass:"display_flex item"},[n("v-uni-text",{staticStyle:{"margin-right":"6rpx"}},[e._v("门店名字")]),n("v-uni-text",{staticStyle:{color:"#d93a49","margin-right":"20rpx"}},[e._v("*")]),n("v-uni-input",{staticStyle:{width:"calc(100% - 200rpx)"},attrs:{placeholder:"请输入门店名字"},model:{value:e.shop_name,callback:function(t){e.shop_name=t},expression:"shop_name"}})],1),n("v-uni-view",{staticClass:"display_flex item"},[n("v-uni-text",{staticStyle:{"margin-right":"20rpx"}},[e._v("门店地址")]),n("v-uni-input",{staticStyle:{width:"calc(100% - 200rpx)"},attrs:{placeholder:"请输入门店地址"},model:{value:e.shop_address,callback:function(t){e.shop_address=t},expression:"shop_address"}})],1),n("v-uni-view",{staticClass:"display_flex item"},[n("v-uni-text",{staticStyle:{"margin-right":"20rpx"}},[e._v("门店电话")]),n("v-uni-input",{staticStyle:{width:"calc(100% - 200rpx)"},attrs:{placeholder:"请输入门店电话",type:"number",maxlength:"11"},model:{value:e.shop_phone,callback:function(t){e.shop_phone=t},expression:"shop_phone"}})],1),n("v-uni-view",{staticClass:"display_flex item"},[n("v-uni-text",{staticStyle:{"margin-right":"6rpx"}},[e._v("排序")]),n("v-uni-text",{staticStyle:{color:"#d93a49","margin-right":"20rpx"}},[e._v("*")]),n("v-uni-input",{staticStyle:{width:"calc(100% - 200rpx)"},attrs:{placeholder:"请输入排序(数值越小,排列越靠前)",type:"number",maxlength:"11"},model:{value:e.shop_num,callback:function(t){e.shop_num=t},expression:"shop_num"}})],1),n("v-uni-view",{staticClass:"display_flex item"},[n("v-uni-text",{staticStyle:{"margin-right":"20rpx"}},[e._v("备注")]),n("v-uni-input",{staticStyle:{width:"calc(100% - 200rpx)"},attrs:{placeholder:"请输入备注"},model:{value:e.shop_beizhu,callback:function(t){e.shop_beizhu=t},expression:"shop_beizhu"}})],1)],1)],1)},i=[];n.d(t,"a",function(){return a}),n.d(t,"b",function(){return i})},"6e35":function(e,t,n){"use strict";n.r(t);var a=n("06a8"),i=n("6ecd");for(var s in i)"default"!==s&&function(e){n.d(t,e,function(){return i[e]})}(s);n("c813");var o=n("2877"),u=Object(o["a"])(i["default"],a["a"],a["b"],!1,null,"11d9c13d",null);t["default"]=u.exports},"6ecd":function(e,t,n){"use strict";n.r(t);var a=n("8e6d"),i=n.n(a);for(var s in a)"default"!==s&&function(e){n.d(t,e,function(){return a[e]})}(s);t["default"]=i.a},"8de9":function(e,t,n){var a=n("9593");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var i=n("4f06").default;i("184fa7d7",a,!0,{sourceMap:!1,shadowMode:!1})},"8e6d":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,i,s,o=r(n("8899")),u=r(n("e21e"));function r(e){return e&&e.__esModule?e:{default:e}}var l={components:{faIcon:o.default},data:function(){return{shop_name:"",shop_address:"",shop_num:0,shop_phone:"",shop_beizhu:""}},onLoad:function(e){a=this,s=uni.getStorageSync("uid")},onShow:function(){i=uni.getStorageSync("shop"),i?(uni.setNavigationBarTitle({title:"新增门店"}),a.shop_name=i.name,a.shop_address=i.address,a.shop_phone=i.phone,a.shop_num=i.num,a.shop_beizhu=i.beizhu):uni.setNavigationBarTitle({title:"修改门店"})},methods:{add_data:function(){uni.showLoading({title:"上传中..."});var e=u.default.Pointer("_User"),t=e.set(s);if(i){var n=u.default.Query("shops");n.set("name",a.shop_name),n.set("num",a.shop_num),n.set("address",a.shop_address),n.set("phone",a.shop_phone),n.set("beizhu",a.shop_beizhu),n.set("parent",t),n.set("id",i.objectId),n.save().then(function(e){uni.hideLoading(),console.log(e),uni.showToast({title:"修改成功"})}).catch(function(e){console.log(e)})}else{var o=u.default.Query("shops");o.equalTo("parent","==",s),o.equalTo("name","==",a.shop_name),o.find().then(function(e){if(console.log(e),0==e.length){var n=u.default.Query("shops");n.set("name",a.shop_name),n.set("num",a.shop_num),n.set("address",a.shop_address),n.set("phone",a.shop_phone),n.set("beizhu",a.shop_beizhu),n.set("parent",t),n.save().then(function(e){console.log(e),uni.hideLoading(),uni.showToast({title:"添加成功"})}).catch(function(e){console.log(e)})}else uni.showToast({title:"已存在此门店",icon:"none"})})}}}};t.default=l},9593:function(e,t,n){t=e.exports=n("2350")(!1),t.push([e.i,"uni-page-body[data-v-11d9c13d]{background:#fafafa}.item[data-v-11d9c13d]{padding:%?20?% %?30?%;background:#fff}.rights_item[data-v-11d9c13d]{margin-bottom:%?20?%}body.?%PAGE?%[data-v-11d9c13d]{background:#fafafa}",""])},c813:function(e,t,n){"use strict";var a=n("8de9"),i=n.n(a);i.a}}]);