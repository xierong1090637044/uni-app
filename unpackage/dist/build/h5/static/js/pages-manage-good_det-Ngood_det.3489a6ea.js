(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-manage-good_det-Ngood_det"],{"04d9":function(t,e,n){"use strict";var i,o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticStyle:{width:"100%",display:"flex","justify-content":"space-between",position:"fixed",bottom:"0",background:"#fff","z-index":"100",padding:"12rpx 0","border-top":"1rpx solid#DDDDDD"}},[n("v-uni-view",{staticClass:"Listitem",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.modify.apply(void 0,arguments)}}},[n("v-uni-view",{staticClass:"Icon"},[n("fa-icon",{attrs:{type:"pencil-square-o",size:"18",color:"#426ab3"}})],1),n("v-uni-view",{staticClass:"Notice"},[t._v("编辑")])],1),n("v-uni-button",{staticClass:"Listitem",staticStyle:{border:"unset"},attrs:{"open-type":"share",plain:"true"}},[n("v-uni-view",{staticClass:"Icon"},[n("fa-icon",{attrs:{type:"share-square-o",size:"18",color:"#426ab3"}})],1),n("v-uni-view",{staticClass:"Notice"},[t._v("分享")])],1),n("v-uni-view",{staticClass:"Listitem",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.addBadGoodRecord.apply(void 0,arguments)}}},[n("v-uni-view",{staticClass:"Icon"},[n("fa-icon",{attrs:{type:"cube",size:"18",color:"#426ab3"}})],1),n("v-uni-view",{staticClass:"Notice"},[t._v("货损单")])],1),n("v-uni-view",{staticClass:"Listitem",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.moreActions.apply(void 0,arguments)}}},[n("v-uni-view",{staticClass:"Icon"},[n("fa-icon",{attrs:{type:"tags",size:"18",color:"#426ab3"}})],1),n("v-uni-view",{staticClass:"Notice"},[t._v("更多操作")])],1)],1)},a=[];n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return i}))},"075a":function(t,e,n){"use strict";var i=n("68c6"),o=n.n(i);o.a},"0c09":function(t,e,n){"use strict";var i=n("96ad"),o=n.n(i);o.a},"0e55":function(t,e,n){var i=n("75ff");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=n("4f06").default;o("7c737c38",i,!0,{sourceMap:!1,shadowMode:!1})},"0f18":function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,".Listitem[data-v-41efdaa6]{width:25%;text-align:center}.Icon[data-v-41efdaa6]{line-height:%?40?%}.Notice[data-v-41efdaa6]{line-height:%?32?%;font-size:%?24?%;color:#333}",""]),t.exports=e},"19b5":function(t,e,n){"use strict";n.r(e);var i=n("4e7a"),o=n.n(i);for(var a in i)"default"!==a&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e["default"]=o.a},"335f":function(t,e,n){"use strict";n.r(e);var i=n("3db7"),o=n.n(i);for(var a in i)"default"!==a&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e["default"]=o.a},"39cb":function(t,e,n){"use strict";var i=n("d854"),o=n.n(i);o.a},"3db7":function(t,e,n){"use strict";(function(t){var i=n("ee27");n("7db0"),n("13d5"),n("ac1f"),n("1276"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o,a=i(n("54f8")),r=i(n("9546")),s=i(n("7fd5")),c=i(n("ef70")),l=i(n("8c9b")),u={components:{zTable:l.default,uniCalendar:c.default},props:{productId:{type:String,default:{}},stock:{type:Object,default:{}}},data:function(){return{start_date:s.default.getDay(0,!1),end_date:s.default.getDay(1,!1),info:{date:s.default.getDay(0,!0).split(" ")[0],lunar:!0,range:!0,insert:!1,selected:[]},purcharseList:[],purcharseList1:[],purcharseNotice:{num:0,money:0},alignColumns:[{title:"客户",key:"name",width:"300"},{title:"实际销售数",key:"num",width:"200"},{title:"实际销售金额",key:"total_money",width:"200"}],alignColumns1:[{title:"操作人",key:"nickName",width:"300"},{title:"实际销售数",key:"num",width:"200"},{title:"实际销售金额",key:"total_money",width:"200"}]}},watch:{stock:function(t,e){t.objectId!=e.objectId&&this.getdetail()}},mounted:function(){o=this,o.getdetail()},methods:{open:function(){o.$refs.calendar.open()},confirm:function(e){t.log(e),0==e.range.data.length?o.start_date=e.fulldate:(o.start_date=e.range.data[0],o.end_date=e.range.data[e.range.data.length-1]),o.getdetail()},changeTime:function(t){o.start_date=t.detail.value,o.getdetail()},getdetail:function(){uni.removeStorageSync("productPurchase"),o.purcharseNotice.num=0,o.purcharseNotice.money=0,o.purcharseList1=[],o.purcharseList=[];var t=r.default.Query("Bills");t.equalTo("userId","==",uni.getStorageSync("uid")),t.equalTo("type","==",-1),t.equalTo("extra_type","==",1),t.equalTo("createdAt",">=",o.start_date+" 00:00:00"),t.equalTo("createdAt","<=",o.start_date+" 23:59:59"),t.equalTo("goodsId","==",o.productId),o.stock&&o.stock.objectId&&t.equalTo("stock","==",o.stock.objectId),t.count().then((function(e){var n=e,i=[];if(0!=n)for(var r=0;r<Math.ceil(n/500);r++)o.stock&&o.stock.objectId&&t.equalTo("stock","==",o.stock.objectId),t.include("custom","opreater"),t.limit(500),t.skip(500*r),t.find().then((function(t){var e,n=(0,a.default)(t);try{for(n.s();!(e=n.n()).done;){var r=e.value;r.custom&&r.custom.objectId&&(o.purcharseNotice.num+=r.num,o.purcharseNotice.money+=r.total_money,r.name=r.custom.custom_name,r.nickName=r.opreater.nickName,i.push(r))}}catch(s){n.e(s)}finally{n.f()}uni.setStorageSync("productPurchase",i),o.purcharseList=uni.getStorageSync("productPurchase").reduce((function(t,e){var n=t.find((function(t){return t.custom.objectId===e.custom.objectId}));return n?(n.num+=e.num,n.total_money+=e.total_money):t.push(e),t}),[]),o.purcharseList1=uni.getStorageSync("productPurchase").reduce((function(t,e){var n=t.find((function(t){return t.opreater.objectId===e.opreater.objectId}));return n?(n.num+=e.num,n.total_money+=e.total_money):t.push(e),t}),[])}))}))}}};e.default=u}).call(this,n("5a52")["default"])},"4e7a":function(t,e,n){"use strict";(function(t){var i=n("ee27");n("7db0"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o,a=i(n("9546")),r=i(n("7fd5")),s=i(n("13d4")),c=i(n("7aeb")),l={props:{product:{type:Object,default:{}}},components:{uniPopup:c.default,tkiQrcode:s.default},data:function(){return{identity:uni.getStorageSync("identity"),get_reserve_checked:!0}},mounted:function(){o=this},methods:{delete_singlegood:function(e){uni.showModal({title:"提示",content:"是否删除该商品",success:function(n){if(n.confirm){var i=a.default.Query("Goods");i.destroy(e).then((function(e){t.log(e);var n=a.default.Query("Goods");n.equalTo("header","==",o.product.objectId),n.equalTo("order","==",1),n.statTo("sum","reserve"),n.find().then((function(t){var e=t[0]._sumReserve,n=a.default.Query("Goods");n.set("reserve",e),n.set("id",o.product.objectId),n.save().then((function(t){r.default.modifyStockType(o.product.objectId),o.$emit("deleteSingle",!0),uni.setStorageSync("isClickShaiXuan",!0),uni.showToast({title:"删除成功"})}))}))})).catch((function(e){t.log(e)}))}}})},change_state:function(t){o.get_reserve_checked=t.detail.value},qrR:function(t){this.src=t},saveQrcode:function(){this.$refs.qrcode._saveCode()}}};e.default=l}).call(this,n("5a52")["default"])},5361:function(t,e,n){var i=n("d423");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=n("4f06").default;o("a7ad2a6c",i,!0,{sourceMap:!1,shadowMode:!1})},"557a":function(t,e,n){"use strict";(function(t){var i=n("ee27");n("7db0"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o,a=i(n("54f8")),r=i(n("9546")),s=(i(n("7fd5")),i(n("856d"))),c={props:{product:{type:Object,default:{}}},data:function(){return{}},mounted:function(){o=this},methods:{addBadGoodRecord:function(){var t=uni.getStorageSync("uid"),e=r.default.Query("Goods");e.equalTo("userId","==",t),e.equalTo("header","==",o.product.objectId),e.include("stocks"),e.find().then((function(t){var e,n=(0,a.default)(t);try{for(n.s();!(e=n.n()).done;){var i=e.value;i.num=1,i.total_money=1*i.costPrice,i.really_total_money=1*i.costPrice,i.modify_retailPrice=i.costPrice}}catch(o){n.e(o)}finally{n.f()}uni.setStorageSync("products",t),uni.navigateTo({url:"/pages/common/goodBad/goodBad"})}))},modify:function(){uni.navigateTo({url:"../good_add/good_add?type=more"})},moreActions:function(){uni.showActionSheet({itemList:["产品操作记录","关联新店仓","删除","打印"],success:function(t){var e=t.tapIndex+1;1==e?uni.navigateTo({url:"../operations/operations?objectId="+o.product.objectId+"&goodsName="+o.product.goodsName}):2==e?(uni.navigateTo({url:"/pages/manage/warehouse/warehouse?type=choose"}),o.$emit("isChooseStock")):3==e?o.delete_good(o.product.objectId):4==e&&s.default.print_goodDet(o.product)}})},delete_good:function(e){var n=uni.getStorageSync("uid"),i=uni.getStorageSync("user");2!=i.identity?uni.showModal({title:"提示",content:"是否删除该商品",success:function(i){if(i.confirm){uni.setStorageSync("isClickShaiXuan",!0);var o=r.default.Query("Goods");o.destroy(e).then((function(i){var o=r.default.Query("Goods");o.equalTo("header","==",e),o.equalTo("userId","==",n),o.find().then((function(e){e.length>0?e.destroyAll().then((function(t){uni.navigateBack({delta:1}),setTimeout((function(){uni.showToast({title:"删除成功"})}),1e3)})).catch((function(e){t.log(e)})):(uni.navigateBack({delta:1}),setTimeout((function(){uni.showToast({title:"删除成功"})}),1e3))}))})).catch((function(e){t.log(e)}))}}}):uni.showToast({icon:"none",title:"子账户暂不支持删除"})}}};e.default=c}).call(this,n("5a52")["default"])},6062:function(t,e,n){"use strict";var i=n("6d61"),o=n("6566");t.exports=i("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),o)},6566:function(t,e,n){"use strict";var i=n("9bf2").f,o=n("7c73"),a=n("e2cc"),r=n("0366"),s=n("19aa"),c=n("2266"),l=n("7dd0"),u=n("2626"),d=n("83ab"),f=n("f183").fastKey,p=n("69f3"),v=p.set,b=p.getterFor;t.exports={getConstructor:function(t,e,n,l){var u=t((function(t,i){s(t,u,e),v(t,{type:e,index:o(null),first:void 0,last:void 0,size:0}),d||(t.size=0),void 0!=i&&c(i,t[l],t,n)})),p=b(e),h=function(t,e,n){var i,o,a=p(t),r=g(t,e);return r?r.value=n:(a.last=r={index:o=f(e,!0),key:e,value:n,previous:i=a.last,next:void 0,removed:!1},a.first||(a.first=r),i&&(i.next=r),d?a.size++:t.size++,"F"!==o&&(a.index[o]=r)),t},g=function(t,e){var n,i=p(t),o=f(e);if("F"!==o)return i.index[o];for(n=i.first;n;n=n.next)if(n.key==e)return n};return a(u.prototype,{clear:function(){var t=this,e=p(t),n=e.index,i=e.first;while(i)i.removed=!0,i.previous&&(i.previous=i.previous.next=void 0),delete n[i.index],i=i.next;e.first=e.last=void 0,d?e.size=0:t.size=0},delete:function(t){var e=this,n=p(e),i=g(e,t);if(i){var o=i.next,a=i.previous;delete n.index[i.index],i.removed=!0,a&&(a.next=o),o&&(o.previous=a),n.first==i&&(n.first=o),n.last==i&&(n.last=a),d?n.size--:e.size--}return!!i},forEach:function(t){var e,n=p(this),i=r(t,arguments.length>1?arguments[1]:void 0,3);while(e=e?e.next:n.first){i(e.value,e.key,this);while(e&&e.removed)e=e.previous}},has:function(t){return!!g(this,t)}}),a(u.prototype,n?{get:function(t){var e=g(this,t);return e&&e.value},set:function(t,e){return h(this,0===t?0:t,e)}}:{add:function(t){return h(this,t=0===t?0:t,t)}}),d&&i(u.prototype,"size",{get:function(){return p(this).size}}),u},setStrong:function(t,e,n){var i=e+" Iterator",o=b(e),a=b(i);l(t,e,(function(t,e){v(this,{type:i,target:t,state:o(t),kind:e,last:void 0})}),(function(){var t=a(this),e=t.kind,n=t.last;while(n&&n.removed)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?"keys"==e?{value:n.key,done:!1}:"values"==e?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),u(e)}}},"662e":function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,'.uni-mask[data-v-72114cd8]{position:fixed;z-index:998;top:0;right:0;bottom:0;left:0;background-color:rgba(0,0,0,.3)}.uni-popup[data-v-72114cd8]{position:fixed;z-index:999;background-color:#fff}.uni-popup-middle[data-v-72114cd8]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.uni-popup-middle.uni-popup-insert[data-v-72114cd8]{min-width:%?380?%;min-height:%?380?%;max-width:100%;max-height:80%;-webkit-transform:translate(-50%,-65%);transform:translate(-50%,-65%);background:none;-webkit-box-shadow:none;box-shadow:none}.uni-popup-middle.uni-popup-fixed[data-v-72114cd8]{border-radius:%?10?%;padding:%?30?%}.uni-close-bottom[data-v-72114cd8],\n.uni-close-right[data-v-72114cd8]{position:absolute;bottom:%?-180?%;text-align:center;border-radius:50%;color:#f5f5f5;font-size:%?60?%;font-weight:700;opacity:.8;z-index:-1}.uni-close-bottom[data-v-72114cd8]{margin:auto;left:0;right:0}.uni-close-right[data-v-72114cd8]{right:%?-60?%;top:%?-80?%}.uni-close-bottom[data-v-72114cd8]:after{content:"";position:absolute;width:0;border:1px #f5f5f5 solid;top:%?-200?%;bottom:%?56?%;left:50%;-webkit-transform:translate(-50%);transform:translate(-50%);opacity:.8}.uni-popup-top[data-v-72114cd8],\n.uni-popup-bottom[data-v-72114cd8]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.uni-popup-top[data-v-72114cd8]{top:0;left:0;width:100%;height:%?100?%;line-height:%?100?%;text-align:center}.uni-popup-bottom[data-v-72114cd8]{left:0;bottom:0;width:100%;min-height:%?100?%;line-height:%?100?%;text-align:center}',""]),t.exports=e},"68c6":function(t,e,n){var i=n("788a");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=n("4f06").default;o("fc21767c",i,!0,{sourceMap:!1,shadowMode:!1})},"697e":function(t,e,n){"use strict";var i,o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"z-table"},[n("v-uni-view",{staticClass:"z-table-main",style:t.compluteHeight},[t.tableLoaded||t.tableData&&t.columns?t._e():n("v-uni-view",{class:["z-loading",{ztableLoading:t.tableShow}]},[n("v-uni-view",{staticClass:"z-loading-animate"})],1),n("v-uni-view",{staticClass:"z-table-container"},[n("v-uni-view",{staticClass:"z-table-pack"},[n("v-uni-view",{staticClass:"z-table-title"},t._l(t.columns,(function(e,i){return n("v-uni-view",{key:i,staticClass:"z-table-title-item",class:{"z-table-stick-side":t.stickSide&&0==i},style:{width:e.width?e.width+"rpx":"200rpx"},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.sort(e.key,i)}}},[t.showSelect&&!t.singleSelect&&0===i?n("v-uni-view",{staticClass:"select-box",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.doSelect(!0)}}},[n("v-uni-view",{class:["select-tip",{selected:t.selectAll}]})],1):t._e(),n("v-uni-view",{class:["z-table-col-text",{"text-left":"left"===t.titleTextAlign,"text-center":"center"===t.titleTextAlign,"text-right":"right"===t.titleTextAlign}]},[n("v-uni-view",{domProps:{innerHTML:t._s(t.getTitleText(e.title))}}),e.hasOwnProperty("key")&&e.hasOwnProperty("sort")&&t.tableData.length?n("v-uni-view",{staticClass:"sort"},[n("v-uni-view",{staticClass:"up-arrow",class:{action:t.nowSortKey==e.key&&"asc"==t.sortType}}),n("v-uni-view",{staticClass:"down-arrow",class:{action:t.nowSortKey==e.key&&"desc"==t.sortType}})],1):t._e()],1)],1)})),1),t.tableData.length?n("v-uni-view",{class:["table-container-box",{"short-table":!t.longTable&&t.showBottomSum}]},t._l(t.tableData,(function(e,i){return n("v-uni-view",{key:i,staticClass:"z-table-container-row",class:{"z-table-has-bottom":t.showBottomSum}},t._l(t.columns,(function(o,a){return n("v-uni-view",{key:a,class:["z-table-container-col",{"z-table-stick-side":t.stickSide&&0==a}],style:{width:o.width?o.width+"rpx":"200rpx"},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.itemClick(e,o)}}},[t.showSelect&&0===a?n("v-uni-view",{staticClass:"select-box",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.doSelect(!1,i)}}},[n("v-uni-view",{class:["select-tip",{selected:t.selectArr.includes(i)}]})],1):t._e(),n("v-uni-view",{class:["z-table-col-text",{"text-left":"left"===t.textAlign,"text-center":"center"===t.textAlign,"text-right":"right"===t.textAlign}]},[o.isLink?0!=t.setUrl(e,o).indexOf("http")?n("router-link",{attrs:{to:t.setUrl(e,o)},domProps:{innerHTML:t._s(t.getRowContent(e,o))}}):o.isLink?n("a",{attrs:{href:t.setUrl(e,o)},domProps:{innerHTML:t._s(t.getRowContent(e,o))}}):t._e():n("v-uni-view",{domProps:{innerHTML:t._s(t.getRowContent(e,o))}})],1)],1)})),1)})),1):t._e(),t.showBottomSum&&t.tableData.length?n("v-uni-view",{class:["z-table-bottom",{"long-table":t.longTable}]},t._l(t.columns,(function(e,i){return n("v-uni-view",{key:i,staticClass:"z-table-bottom-col",class:{"z-table-stick-side":t.stickSide&&0==i},style:{width:e.width?e.width+"rpx":"200rpx"}},[n("v-uni-view",{staticClass:"z-table-bottom-text"},[n("v-uni-text",{class:{sum:0==i}},[t._v(t._s(0==i?"总计":t.dosum(e.key)))])],1)],1)})),1):t._e()],1)],1),t.tableData&&0==t.tableData.length&&!t.tableLoaded?n("v-uni-view",{staticClass:"table-empty"},[n("v-uni-view",{domProps:{innerHTML:t._s(t.showLoading?"":t.emptyText)}})],1):t._e()],1)],1)},a=[];n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return i}))},7322:function(t,e,n){"use strict";n.r(e);var i=n("557a"),o=n.n(i);for(var a in i)"default"!==a&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e["default"]=o.a},"75ff":function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.frist[data-v-4695d032]{background:#fff}.frist .header[data-v-4695d032]{padding:%?10?% 0}.frist .listItem[data-v-4695d032]{text-align:center;width:33.33%;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.second[data-v-4695d032]{background:#fff;border-top:%?1?% solid #ddd;padding:%?20?% 0}.second .secondItem[data-v-4695d032]{width:50%;text-align:center}',""]),t.exports=e},"77d4":function(t,e,n){"use strict";n.r(e);var i=n("04d9"),o=n("7322");for(var a in o)"default"!==a&&function(t){n.d(e,t,(function(){return o[t]}))}(a);n("dd24");var r,s=n("f0c5"),c=Object(s["a"])(o["default"],i["b"],i["c"],!1,null,"41efdaa6",null,!1,i["a"],r);e["default"]=c.exports},"788a":function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.navigator-hover[data-v-be537816]{background:transparent;opacity:1}.z-table .sort .up-arrow[data-v-be537816], .z-table .sort .up-arrow.action[data-v-be537816], .z-table .sort .down-arrow[data-v-be537816], .z-table .sort .down-arrow.action[data-v-be537816]{content:"";height:0;width:0;overflow:hidden}a[data-v-be537816]{text-decoration:none}.z-table[data-v-be537816]{position:relative;display:inline-block;height:100%;min-height:%?130?%;width:100%;background:#fff;border:solid %?2?% #ccc;font-size:%?24?%;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-transform:translateZ(0);transform:translateZ(0)}.z-table .z-table-main[data-v-be537816]{height:100%;-webkit-box-sizing:border-box;box-sizing:border-box}.z-table .z-table-container[data-v-be537816]{height:100%;overflow:scroll;-webkit-box-sizing:border-box;box-sizing:border-box}.z-table .z-table-pack[data-v-be537816]{position:relative;min-height:100%;width:-webkit-fit-content;width:fit-content}.z-table .z-table-title[data-v-be537816]{position:-webkit-sticky;position:sticky;top:0;height:%?64?%;z-index:1}.z-table .z-table-title .z-table-title-item[data-v-be537816]{border-bottom:solid %?1?% #dbdbdb;background:#f8f8f8}.z-table .z-table-title .z-table-stick-side[data-v-be537816]{position:-webkit-sticky;position:sticky;top:0;left:0;border-right:solid %?1?% #dbdbdb;-webkit-box-sizing:border-box;box-sizing:border-box}.z-table .table-container-box.short-table[data-v-be537816]{padding-bottom:%?48?%}.z-table .z-table-title[data-v-be537816],\r\n.z-table .z-table-container-row[data-v-be537816]{display:-webkit-box;display:-webkit-flex;display:flex;width:-webkit-fit-content;width:fit-content;white-space:nowrap;-webkit-box-sizing:border-box;box-sizing:border-box}.z-table .z-table-title .z-table-title-item[data-v-be537816],\r\n.z-table .z-table-title .z-table-container-col[data-v-be537816],\r\n.z-table .z-table-container-row .z-table-title-item[data-v-be537816],\r\n.z-table .z-table-container-row .z-table-container-col[data-v-be537816]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;display:-webkit-inline-box;display:-webkit-inline-flex;display:inline-flex;padding:0 %?16?%;height:%?64?%;-webkit-box-align:center;-webkit-align-items:center;align-items:center;line-height:%?64?%;-webkit-box-sizing:border-box;box-sizing:border-box}.z-table .z-table-container-row[data-v-be537816]{z-index:0;border-bottom:solid %?1?% #f4f4f4;-webkit-box-sizing:border-box;box-sizing:border-box}.z-table .z-table-stick-side[data-v-be537816]{position:-webkit-sticky;position:sticky;left:0;background:#f7f9ff;border-right:solid %?1?% #dbdbdb;-webkit-box-sizing:border-box;box-sizing:border-box}.z-table .z-table-bottom[data-v-be537816]{position:absolute;bottom:0;z-index:9;display:-webkit-box;display:-webkit-flex;display:flex;justify-items:center;width:-webkit-fit-content;width:fit-content;background:#4298f7!important;color:#fff!important;white-space:nowrap;-webkit-box-sizing:border-box;box-sizing:border-box}.z-table .z-table-bottom.long-table[data-v-be537816]{position:-webkit-sticky;position:sticky}.z-table .z-table-bottom .z-table-stick-side[data-v-be537816]{background:#4298f7!important;-webkit-box-sizing:border-box;box-sizing:border-box}.z-table .z-table-bottom .z-table-bottom-col[data-v-be537816]{display:-webkit-inline-box;display:-webkit-inline-flex;display:inline-flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;text-align:center;padding:%?16?%;-webkit-box-sizing:border-box;box-sizing:border-box}.z-table .z-table-bottom .z-table-bottom-text[data-v-be537816]{line-height:100%;-webkit-box-sizing:border-box;box-sizing:border-box}.z-table .z-table-bottom .z-table-bottom-text-title[data-v-be537816]{margin-bottom:%?10?%;font-size:%?22?%;color:#aad0ff;-webkit-box-sizing:border-box;box-sizing:border-box}.z-table .z-table-bottom .sum[data-v-be537816]{margin-left:%?14?%;font-size:%?28?%;-webkit-box-sizing:border-box;box-sizing:border-box}.z-table .table-empty[data-v-be537816]{position:absolute;top:%?64?%;height:%?64?%;line-height:%?64?%;width:100%;text-align:center}.z-table .sort[data-v-be537816]{display:-webkit-box;display:-webkit-flex;display:flex;padding:%?5?%;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.z-table .sort .up-arrow[data-v-be537816]{border-bottom:%?10?% solid #ccc;border-left:%?10?% dashed transparent;border-right:%?10?% dashed transparent;border-top:0;display:block;margin-bottom:%?5?%}.z-table .sort .up-arrow.action[data-v-be537816]{border-bottom:%?10?% solid #4298f7;border-left:%?10?% dashed transparent;border-right:%?10?% dashed transparent;border-top:0}.z-table .sort .down-arrow[data-v-be537816]{border-top:%?10?% solid #ccc;border-left:%?10?% dashed transparent;border-right:%?10?% dashed transparent;border-bottom:0;display:block}.z-table .sort .down-arrow.action[data-v-be537816]{border-top:%?10?% solid #4298f7;border-left:%?10?% dashed transparent;border-right:%?10?% dashed transparent;border-bottom:0}.z-table .z-loading[data-v-be537816]{position:absolute;top:0;left:0;z-index:2;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;height:100%;width:100%;background:#fff;opacity:0;-webkit-transition:all .3s;transition:all .3s}.z-table .z-loading.ztableLoading[data-v-be537816]{opacity:1}.z-table .z-loading .z-loading-animate[data-v-be537816]{position:relative;display:inline-block;width:%?30?%;height:%?30?%;margin-right:%?20?%;border-radius:100%;border:solid %?6?% #ccc;vertical-align:middle;-webkit-animation:rotate-data-v-be537816 1s ease-in-out infinite;animation:rotate-data-v-be537816 1s ease-in-out infinite}.z-table .z-loading .z-loading-animate[data-v-be537816]::after{content:"";display:block;position:absolute;top:%?-10?%;z-index:1;background:#fff;width:%?20?%;height:%?20?%;border-radius:%?10?%}@-webkit-keyframes rotate-data-v-be537816{from{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes rotate-data-v-be537816{from{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.z-table .select-box[data-v-be537816]{display:inline-block;width:%?26?%;height:%?26?%;line-height:%?14?%;margin-right:%?15?%;border:solid %?2?% #4298f7;border-radius:%?4?%;background:#fff;text-align:center}.z-table .select-tip[data-v-be537816]{display:inline-block;opacity:0;-webkit-transform:rotate(90deg);transform:rotate(90deg);-webkit-transition:all .3s;transition:all .3s}.z-table .select-tip.selected[data-v-be537816]{position:relative;top:%?4?%;left:%?-4?%;height:%?4?%;background:#4298f7;width:%?10?%;opacity:1;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.z-table .select-tip.selected[data-v-be537816]:before, .z-table .select-tip.selected[data-v-be537816]:after{content:"";position:absolute;display:block;height:%?4?%;background:#4298f7}.z-table .select-tip.selected[data-v-be537816]:before{bottom:%?-2?%;left:%?-4?%;width:%?8?%;-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}.z-table .select-tip.selected[data-v-be537816]:after{bottom:%?16?%;right:%?-16?%;width:%?34?%;-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}.z-table .z-table-col-text[data-v-be537816]{display:-webkit-box;display:-webkit-flex;display:flex;width:100%;-webkit-box-flex:1;-webkit-flex:1;flex:1;-webkit-box-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;-webkit-align-content:center;align-content:center}.z-table .z-table-col-text.text-center[data-v-be537816]{-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.z-table .z-table-col-text.text-right[data-v-be537816]{-webkit-box-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end}',""]),t.exports=e},"78ddd":function(t,e,n){"use strict";var i={"z-table":n("8c9b").default,"uni-calendar":n("ef70").default},o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",[n("v-uni-view",{staticClass:"frist"},[n("v-uni-view",{staticClass:"display_flex_bet header"},[n("v-uni-view",{staticClass:"listItem"},[t._v("实际进货"),n("fa-icon",{staticStyle:{"margin-left":"6rpx"},attrs:{type:"angle-down",size:"18",color:"#999"}})],1),n("v-uni-view",{staticClass:"display_flex listItem"},[n("v-uni-view",[n("v-uni-picker",{attrs:{mode:"date"},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.changeTime.apply(void 0,arguments)}}},[n("v-uni-view",{staticStyle:{"font-size":"24rpx","line-height":"28rpx"}},[t._v(t._s(t.start_date))])],1)],1),n("fa-icon",{staticStyle:{"margin-left":"6rpx"},attrs:{type:"angle-down",size:"18",color:"#999"}})],1),n("v-uni-navigator",{staticClass:"listItem",attrs:{url:"/pages/manage/warehouse/warehouse?type=choose"}},[n("v-uni-text",[t._v(t._s(t.stock.stock_name||"所有店仓"))]),n("fa-icon",{staticStyle:{"margin-left":"6rpx"},attrs:{type:"angle-down",size:"18",color:"#999"}})],1)],1)],1),n("v-uni-view",{staticClass:"display_flex_bet second"},[n("v-uni-view",{staticClass:"secondItem"},[n("v-uni-view",{staticStyle:{"line-height":"40rpx",color:"#333","font-weight":"bold"}},[t._v(t._s(t.purcharseNotice.num))]),n("v-uni-view",{staticStyle:{"line-height":"40rpx",color:"#999","font-size":"24rpx"}},[t._v("实际进货数")])],1),n("v-uni-view",{staticClass:"secondItem"},[n("v-uni-view",{staticStyle:{"line-height":"40rpx",color:"#333","font-weight":"bold"}},[t._v("￥"+t._s(t.purcharseNotice.money))]),n("v-uni-view",{staticStyle:{"line-height":"40rpx",color:"#999","font-size":"24rpx"}},[t._v("实际进货金额")])],1)],1),n("v-uni-view",{staticStyle:{"margin-top":"60rpx"}},[n("v-uni-view",{staticClass:"display_flex",staticStyle:{padding:"0 20rpx","margin-bottom":"10rpx"}},[n("v-uni-view",{staticStyle:{background:"#426ab3",width:"16rpx",height:"40rpx"}}),n("v-uni-view",{staticStyle:{color:"#999","margin-left":"20rpx","font-weight":"bold"}},[t._v("供应商维度")])],1),n("z-table",{attrs:{tableData:t.purcharseList,columns:t.alignColumns}})],1),n("v-uni-view",{staticStyle:{"margin-top":"60rpx"}},[n("v-uni-view",{staticClass:"display_flex",staticStyle:{padding:"0 20rpx","margin-bottom":"10rpx"}},[n("v-uni-view",{staticStyle:{background:"#426ab3",width:"16rpx",height:"40rpx"}}),n("v-uni-view",{staticStyle:{color:"#999","margin-left":"20rpx","font-weight":"bold"}},[t._v("操作人维度")])],1),n("z-table",{attrs:{tableData:t.purcharseList1,columns:t.alignColumns1}})],1),n("uni-calendar",{ref:"calendar",attrs:{date:t.info.date,insert:t.info.insert,lunar:t.info.lunar,range:t.info.range,endDate:t.start_date},on:{confirm:function(e){arguments[0]=e=t.$handleEvent(e),t.confirm.apply(void 0,arguments)}}})],1)},a=[];n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return i}))},"7a85":function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.opion_item[data-v-1b91f471]{color:#118fff;font-weight:700;padding:0 %?20?% 0 0}.frist .noticeText[data-v-1b91f471]{color:#5d5d5d;font-size:%?24?%;font-weight:700}.page[data-v-1b91f471]{height:100vh;overflow:scroll;font-size:%?28?%}.popup_content[data-v-1b91f471]{width:%?500?%}.popup_button[data-v-1b91f471]{background:#426ab3;color:#fff}',""]),t.exports=e},"7aeb":function(t,e,n){"use strict";n.r(e);var i=n("c0ba"),o=n("c492");for(var a in o)"default"!==a&&function(t){n.d(e,t,(function(){return o[t]}))}(a);n("39cb");var r,s=n("f0c5"),c=Object(s["a"])(o["default"],i["b"],i["c"],!1,null,"72114cd8",null,!1,i["a"],r);e["default"]=c.exports},8621:function(t,e,n){"use strict";n.r(e);var i=n("b815"),o=n("c51d");for(var a in o)"default"!==a&&function(t){n.d(e,t,(function(){return o[t]}))}(a);n("f041");var r,s=n("f0c5"),c=Object(s["a"])(o["default"],i["b"],i["c"],!1,null,"1b91f471",null,!1,i["a"],r);e["default"]=c.exports},"8ba3":function(t,e,n){"use strict";var i={"z-table":n("8c9b").default,"uni-calendar":n("ef70").default},o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",[n("v-uni-view",{staticClass:"frist"},[n("v-uni-view",{staticClass:"display_flex_bet header"},[n("v-uni-view",{staticClass:"listItem"},[t._v("实际销售"),n("fa-icon",{staticStyle:{"margin-left":"6rpx"},attrs:{type:"angle-down",size:"18",color:"#999"}})],1),n("v-uni-view",{staticClass:"display_flex listItem"},[n("v-uni-view",[n("v-uni-picker",{attrs:{mode:"date"},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.changeTime.apply(void 0,arguments)}}},[n("v-uni-view",{staticStyle:{"font-size":"24rpx","line-height":"28rpx"}},[t._v(t._s(t.start_date))])],1)],1),n("fa-icon",{staticStyle:{"margin-left":"6rpx"},attrs:{type:"angle-down",size:"18",color:"#999"}})],1),n("v-uni-navigator",{staticClass:"listItem",attrs:{url:"/pages/manage/warehouse/warehouse?type=choose"}},[n("v-uni-text",[t._v(t._s(t.stock.stock_name||"所有店仓"))]),n("fa-icon",{staticStyle:{"margin-left":"6rpx"},attrs:{type:"angle-down",size:"18",color:"#999"}})],1)],1)],1),n("v-uni-view",{staticClass:"display_flex_bet second"},[n("v-uni-view",{staticClass:"secondItem"},[n("v-uni-view",{staticStyle:{"line-height":"40rpx",color:"#333","font-weight":"bold"}},[t._v(t._s(t.purcharseNotice.num))]),n("v-uni-view",{staticStyle:{"line-height":"40rpx",color:"#999","font-size":"24rpx"}},[t._v("实际销售数")])],1),n("v-uni-view",{staticClass:"secondItem"},[n("v-uni-view",{staticStyle:{"line-height":"40rpx",color:"#333","font-weight":"bold"}},[t._v("￥"+t._s(t.purcharseNotice.money))]),n("v-uni-view",{staticStyle:{"line-height":"40rpx",color:"#999","font-size":"24rpx"}},[t._v("实际销售金额")])],1)],1),n("v-uni-view",{staticStyle:{"margin-top":"60rpx"}},[n("v-uni-view",{staticClass:"display_flex",staticStyle:{padding:"0 20rpx","margin-bottom":"10rpx"}},[n("v-uni-view",{staticStyle:{background:"#426ab3",width:"16rpx",height:"40rpx"}}),n("v-uni-view",{staticStyle:{color:"#999","margin-left":"20rpx","font-weight":"bold"}},[t._v("客户维度")])],1),n("z-table",{attrs:{tableData:t.purcharseList,columns:t.alignColumns}})],1),n("v-uni-view",{staticStyle:{"margin-top":"60rpx"}},[n("v-uni-view",{staticClass:"display_flex",staticStyle:{padding:"0 20rpx","margin-bottom":"10rpx"}},[n("v-uni-view",{staticStyle:{background:"#426ab3",width:"16rpx",height:"40rpx"}}),n("v-uni-view",{staticStyle:{color:"#999","margin-left":"20rpx","font-weight":"bold"}},[t._v("操作人维度")])],1),n("z-table",{attrs:{tableData:t.purcharseList1,columns:t.alignColumns1}})],1),n("uni-calendar",{ref:"calendar",attrs:{date:t.info.date,insert:t.info.insert,lunar:t.info.lunar,range:t.info.range,endDate:t.start_date},on:{confirm:function(e){arguments[0]=e=t.$handleEvent(e),t.confirm.apply(void 0,arguments)}}})],1)},a=[];n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return i}))},"8c9b":function(t,e,n){"use strict";n.r(e);var i=n("697e"),o=n("fd39");for(var a in o)"default"!==a&&function(t){n.d(e,t,(function(){return o[t]}))}(a);n("075a");var r,s=n("f0c5"),c=Object(s["a"])(o["default"],i["b"],i["c"],!1,null,"be537816",null,!1,i["a"],r);e["default"]=c.exports},"8d1c":function(t,e,n){"use strict";n.r(e);var i=n("78ddd"),o=n("d8c71");for(var a in o)"default"!==a&&function(t){n.d(e,t,(function(){return o[t]}))}(a);n("fb81");var r,s=n("f0c5"),c=Object(s["a"])(o["default"],i["b"],i["c"],!1,null,"54475b5a",null,!1,i["a"],r);e["default"]=c.exports},9129:function(t,e,n){var i=n("23e7");i({target:"Number",stat:!0},{isNaN:function(t){return t!=t}})},"96ad":function(t,e,n){var i=n("b8cf");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=n("4f06").default;o("200599cb",i,!0,{sourceMap:!1,shadowMode:!1})},"96cf":function(t,e){!function(e){"use strict";var n,i=Object.prototype,o=i.hasOwnProperty,a="function"===typeof Symbol?Symbol:{},r=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag",l="object"===typeof t,u=e.regeneratorRuntime;if(u)l&&(t.exports=u);else{u=e.regeneratorRuntime=l?t.exports:{},u.wrap=y;var d="suspendedStart",f="suspendedYield",p="executing",v="completed",b={},h={};h[r]=function(){return this};var g=Object.getPrototypeOf,m=g&&g(g(N([])));m&&m!==i&&o.call(m,r)&&(h=m);var w=z.prototype=_.prototype=Object.create(h);k.prototype=w.constructor=z,z.constructor=k,z[c]=k.displayName="GeneratorFunction",u.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===k||"GeneratorFunction"===(e.displayName||e.name))},u.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,z):(t.__proto__=z,c in t||(t[c]="GeneratorFunction")),t.prototype=Object.create(w),t},u.awrap=function(t){return{__await:t}},S(C.prototype),C.prototype[s]=function(){return this},u.AsyncIterator=C,u.async=function(t,e,n,i){var o=new C(y(t,e,n,i));return u.isGeneratorFunction(e)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},S(w),w[c]="Generator",w[r]=function(){return this},w.toString=function(){return"[object Generator]"},u.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){while(e.length){var i=e.pop();if(i in t)return n.value=i,n.done=!1,n}return n.done=!0,n}},u.values=N,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(D),!t)for(var e in this)"t"===e.charAt(0)&&o.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function i(i,o){return s.type="throw",s.arg=t,e.next=i,o&&(e.method="next",e.arg=n),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a],s=r.completion;if("root"===r.tryLoc)return i("end");if(r.tryLoc<=this.prev){var c=o.call(r,"catchLoc"),l=o.call(r,"finallyLoc");if(c&&l){if(this.prev<r.catchLoc)return i(r.catchLoc,!0);if(this.prev<r.finallyLoc)return i(r.finallyLoc)}else if(c){if(this.prev<r.catchLoc)return i(r.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return i(r.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&o.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var r=a?a.completion:{};return r.type=t,r.arg=e,a?(this.method="next",this.next=a.finallyLoc,b):this.complete(r)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),b},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),D(n),b}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var o=i.arg;D(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,i){return this.delegate={iterator:N(t),resultName:e,nextLoc:i},"next"===this.method&&(this.arg=n),b}}}function y(t,e,n,i){var o=e&&e.prototype instanceof _?e:_,a=Object.create(o.prototype),r=new L(i||[]);return a._invoke=T(t,n,r),a}function x(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(i){return{type:"throw",arg:i}}}function _(){}function k(){}function z(){}function S(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function C(t){function e(n,i,a,r){var s=x(t[n],t,i);if("throw"!==s.type){var c=s.arg,l=c.value;return l&&"object"===typeof l&&o.call(l,"__await")?Promise.resolve(l.__await).then((function(t){e("next",t,a,r)}),(function(t){e("throw",t,a,r)})):Promise.resolve(l).then((function(t){c.value=t,a(c)}),(function(t){return e("throw",t,a,r)}))}r(s.arg)}var n;function i(t,i){function o(){return new Promise((function(n,o){e(t,i,n,o)}))}return n=n?n.then(o,o):o()}this._invoke=i}function T(t,e,n){var i=d;return function(o,a){if(i===p)throw new Error("Generator is already running");if(i===v){if("throw"===o)throw a;return E()}n.method=o,n.arg=a;while(1){var r=n.delegate;if(r){var s=j(r,n);if(s){if(s===b)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===d)throw i=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=p;var c=x(t,e,n);if("normal"===c.type){if(i=n.done?v:f,c.arg===b)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=v,n.method="throw",n.arg=c.arg)}}}function j(t,e){var i=t.iterator[e.method];if(i===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=n,j(t,e),"throw"===e.method))return b;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return b}var o=x(i,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,b;var a=o.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=n),e.delegate=null,b):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,b)}function I(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function D(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(I,this),this.reset(!0)}function N(t){if(t){var e=t[r];if(e)return e.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function e(){while(++i<t.length)if(o.call(t,i))return e.value=t[i],e.done=!1,e;return e.value=n,e.done=!0,e};return a.next=a}}return{next:E}}function E(){return{value:n,done:!0}}}(function(){return this||"object"===typeof self&&self}()||Function("return this")())},9918:function(t,e,n){var i=n("7a85");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=n("4f06").default;o("6e401456",i,!0,{sourceMap:!1,shadowMode:!1})},a10e:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={name:"UniPopup",props:{show:{type:Boolean,default:!1},position:{type:String,default:"middle"},mode:{type:String,default:"insert"},msg:{type:String,default:""},h5Top:{type:Boolean,default:!1},buttonMode:{type:String,default:"bottom"}},data:function(){return{offsetTop:0}},watch:{h5Top:function(t){this.offsetTop=t?44:0}},created:function(){var t=0;t=this.h5Top?0:44,this.offsetTop=t},methods:{hide:function(){"insert"===this.mode&&"middle"===this.position||this.$emit("hidePopup")},closeMask:function(){"insert"===this.mode&&this.$emit("hidePopup")},moveHandle:function(){}}};e.default=i},a59d:function(t,e,n){"use strict";n.r(e);var i=n("d8c5"),o=n("19b5");for(var a in o)"default"!==a&&function(t){n.d(e,t,(function(){return o[t]}))}(a);n("0c09");var r,s=n("f0c5"),c=Object(s["a"])(o["default"],i["b"],i["c"],!1,null,"709847a0",null,!1,i["a"],r);e["default"]=c.exports},a6f7:function(t,e,n){"use strict";n.r(e);var i=n("8ba3"),o=n("335f");for(var a in o)"default"!==a&&function(t){n.d(e,t,(function(){return o[t]}))}(a);n("ac82");var r,s=n("f0c5"),c=Object(s["a"])(o["default"],i["b"],i["c"],!1,null,"4695d032",null,!1,i["a"],r);e["default"]=c.exports},ac82:function(t,e,n){"use strict";var i=n("0e55"),o=n.n(i);o.a},b815:function(t,e,n){"use strict";var i={"uni-segmented-control":n("c952").default},o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"page"},[n("v-uni-scroll-view",{staticStyle:{height:"calc(100vh - 103rpx)"},attrs:{"scroll-y":"true"}},[n("v-uni-view",{staticClass:"display_flex_bet frist",staticStyle:{background:"#fff",padding:"20rpx 30rpx"}},[n("v-uni-view",[t.product.goodsIcon?n("v-uni-image",{staticStyle:{width:"100rpx",height:"100rpx"},attrs:{src:t.product.goodsIcon,mode:"aspectFit"}}):n("v-uni-image",{staticStyle:{height:"100rpx",width:"100rpx"},attrs:{src:"/static/goods-default.png",mode:"aspectFit"}})],1),n("v-uni-view",{staticStyle:{width:"calc(100% - 120rpx)"}},[n("v-uni-view",{staticStyle:{color:"#3d3d3d","font-weight":"bold"}},[t._v(t._s(t.product.goodsName))]),n("v-uni-view",{staticClass:"display_flex_bet"},[n("v-uni-view",{staticClass:"noticeText"},[t._v("成本价: "+t._s(t.product.costPrice))]),n("v-uni-view",{staticClass:"noticeText"},[t._v("零售价: "+t._s(t.product.retailPrice))])],1),n("v-uni-view",{staticClass:"display_flex_bet"},[n("v-uni-view",{staticClass:"noticeText"},[t._v("期初库存:"+t._s(t.product.originReserve||"未记录"))]),t.product.all_reserve?n("v-uni-view",{staticClass:"noticeText"},[t._v("库存:"+t._s(t.product.all_reserve))]):t._e()],1)],1)],1),n("v-uni-view",{staticStyle:{margin:"30rpx 0"}},[n("uni-segmented-control",{attrs:{current:t.current,values:t.items,"style-type":"button","active-color":"#426ab3"},on:{clickItem:function(e){arguments[0]=e=t.$handleEvent(e),t.onClickItem.apply(void 0,arguments)}}})],1),0==t.current?n("GoodDet",{attrs:{product:t.product},on:{deleteSingle:function(e){arguments[0]=e=t.$handleEvent(e),t.getDetail_byId.apply(void 0,arguments)}}}):1==t.current?n("productPurchase",{attrs:{productId:t.productId,stock:t.thisStock}}):2==t.current?n("productSell",{attrs:{productId:t.productId,stock:t.thisStock}}):t._e()],1),n("goodDetBottom",{attrs:{product:t.product},on:{isChooseStock:function(e){arguments[0]=e=t.$handleEvent(e),t.isRealationNew=!0}}})],1)},a=[];n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return i}))},b8cf:function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,".opion_item[data-v-709847a0]{color:#118fff;font-weight:700;padding:0 %?20?% 0 0}.second[data-v-709847a0]{padding:0 %?30?%;border-top:%?1?% solid#DDDDDD;background:#fff}.second_one[data-v-709847a0]{padding:%?20?% 0;border-bottom:%?1?% solid#DDDDDD;line-height:%?60?%;font-size:%?26?%;color:#999}.second_right_text[data-v-709847a0]{color:#3d3d3d;margin-left:%?20?%}.thrid[data-v-709847a0]{padding:%?20?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center;margin-top:%?30?%;font-size:%?28?%;border-bottom:%?1?% solid#DDDDDD;background:#fff;border-bottom:1px solid#DDDDDD}.four[data-v-709847a0]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-justify-content:space-around;justify-content:space-around;margin:%?30?% 0 %?60?%}.qrimg[data-v-709847a0]{position:fixed;top:0;left:0;width:100%;height:100%;background:#426ab3;text-align:center}",""]),t.exports=e},c0ba:function(t,e,n){"use strict";var i,o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",[n("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"uni-mask",style:{top:t.offsetTop+"px"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.hide.apply(void 0,arguments)},touchmove:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e),t.moveHandle.apply(void 0,arguments)}}}),n("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"uni-popup",class:"uni-popup-"+t.position+" uni-popup-"+t.mode},[t._v(t._s(t.msg)),t._t("default"),"middle"===t.position&&"insert"===t.mode?n("v-uni-view",{staticClass:" uni-icon uni-icon-close",class:{"uni-close-bottom":"bottom"===t.buttonMode,"uni-close-right":"right"===t.buttonMode},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.closeMask.apply(void 0,arguments)}}}):t._e()],2)],1)},a=[];n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return i}))},c492:function(t,e,n){"use strict";n.r(e);var i=n("a10e"),o=n.n(i);for(var a in i)"default"!==a&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e["default"]=o.a},c51d:function(t,e,n){"use strict";n.r(e);var i=n("fd55"),o=n.n(i);for(var a in i)"default"!==a&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e["default"]=o.a},c964:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return o}));n("d3b7"),n("e6cf");function i(t,e,n,i,o,a,r){try{var s=t[a](r),c=s.value}catch(l){return void n(l)}s.done?e(c):Promise.resolve(c).then(i,o)}function o(t){return function(){var e=this,n=arguments;return new Promise((function(o,a){var r=t.apply(e,n);function s(t){i(r,o,a,s,c,"next",t)}function c(t){i(r,o,a,s,c,"throw",t)}s(void 0)}))}}},d3e9:function(t,e,n){"use strict";(function(t){var i=n("ee27");n("7db0"),n("13d5"),n("ac1f"),n("1276"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o,a=i(n("54f8")),r=i(n("9546")),s=i(n("7fd5")),c=i(n("ef70")),l=i(n("8c9b")),u={components:{zTable:l.default,uniCalendar:c.default},props:{productId:{type:String,default:{}},stock:{type:Object,default:{}}},data:function(){return{start_date:s.default.getDay(0,!1),end_date:s.default.getDay(1,!1),info:{date:s.default.getDay(0,!0).split(" ")[0],lunar:!0,range:!0,insert:!1,selected:[]},purcharseList:[],purcharseList1:[],purcharseNotice:{num:0,money:0},alignColumns:[{title:"供应商",key:"name",width:"300"},{title:"实际进货数",key:"num",width:"200"},{title:"实际进货金额",key:"really_total_money",width:"200"}],alignColumns1:[{title:"操作人",key:"nickName",width:"300"},{title:"实际进货数",key:"num",width:"200"},{title:"实际进货金额",key:"really_total_money",width:"200"}]}},watch:{stock:function(t,e){t.objectId!=e.objectId&&this.getdetail()}},mounted:function(){o=this,o.getdetail()},methods:{open:function(){o.$refs.calendar.open()},confirm:function(e){t.log(e),0==e.range.data.length?o.start_date=e.fulldate:(o.start_date=e.range.data[0],o.end_date=e.range.data[e.range.data.length-1]),o.getdetail()},changeTime:function(t){o.start_date=t.detail.value,o.getdetail()},getdetail:function(){uni.removeStorageSync("productPurchase"),o.purcharseNotice.num=0,o.purcharseNotice.money=0,o.purcharseList1=[],o.purcharseList=[];var t=r.default.Query("Bills");t.equalTo("userId","==",uni.getStorageSync("uid")),t.equalTo("type","==",1),t.equalTo("extra_type","==",1),t.equalTo("createdAt",">=",o.start_date+" 00:00:00"),t.equalTo("createdAt","<=",o.start_date+" 23:59:59"),t.equalTo("goodsId","==",o.productId),o.stock&&o.stock.objectId&&t.equalTo("stock","==",o.stock.objectId),t.count().then((function(e){var n=e,i=[];if(0!=n)for(var r=0;r<Math.ceil(n/500);r++)o.stock&&o.stock.objectId&&t.equalTo("stock","==",o.stock.objectId),t.include("producer","opreater"),t.limit(500),t.skip(500*r),t.find().then((function(t){var e,n=(0,a.default)(t);try{for(n.s();!(e=n.n()).done;){var r=e.value;r.producer&&r.producer.objectId&&(o.purcharseNotice.num+=r.num,o.purcharseNotice.money+=r.really_total_money,r.name=r.producer.producer_name,r.nickName=r.opreater.nickName,i.push(r))}}catch(s){n.e(s)}finally{n.f()}uni.setStorageSync("productPurchase",i),o.purcharseList=uni.getStorageSync("productPurchase").reduce((function(t,e){var n=t.find((function(t){return t.producer.objectId===e.producer.objectId}));return n?(n.num+=e.num,n.really_total_money+=e.really_total_money):t.push(e),t}),[]),o.purcharseList1=uni.getStorageSync("productPurchase").reduce((function(t,e){var n=t.find((function(t){return t.opreater.objectId===e.opreater.objectId}));return n?(n.num+=e.num,n.really_total_money+=e.really_total_money):t.push(e),t}),[])}))}))}}};e.default=u}).call(this,n("5a52")["default"])},d423:function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.frist[data-v-54475b5a]{background:#fff}.frist .header[data-v-54475b5a]{padding:%?10?% 0}.frist .listItem[data-v-54475b5a]{text-align:center;width:33.33%;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.second[data-v-54475b5a]{background:#fff;border-top:%?1?% solid #ddd;padding:%?20?% 0}.second .secondItem[data-v-54475b5a]{width:50%;text-align:center}',""]),t.exports=e},d854:function(t,e,n){var i=n("662e");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=n("4f06").default;o("51880f69",i,!0,{sourceMap:!1,shadowMode:!1})},d8c5:function(t,e,n){"use strict";var i={"tki-qrcode":n("13d4").default},o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"second"},[n("v-uni-view",{staticClass:"second_one"},[n("v-uni-view",[t._v("品牌:"),n("v-uni-text",{staticClass:"second_right_text"},[t._v(t._s(t.product.producer?t.product.producer:"未填写"))])],1),n("v-uni-view",[t._v("型号:"),n("v-uni-text",{staticClass:"second_right_text"},[t._v(t._s(t.product.packageContent?t.product.packageContent:"未填写")+"*"+t._s(t.product.packingUnit?t.product.packingUnit:"未填写"))])],1),n("v-uni-view",[t._v("简介:"),n("v-uni-text",{staticClass:"second_right_text"},[t._v(t._s(t.product.product_info?t.product.product_info:"未填写"))])],1),n("v-uni-view",[t._v("存放位置:"),n("v-uni-text",{staticStyle:{"margin-left":"20rpx",color:"#3D3D3D"}},[t._v(t._s(t.product.position?t.product.position:"未填写"))])],1),t.product.goodsClass&&t.product.goodsClass.class_text?n("v-uni-view",[t._v("所属分类"),n("v-uni-text",{staticStyle:{"margin-left":"20rpx",color:"#3D3D3D"}},[t._v(t._s(t.product.goodsClass.class_text))]),t.product.second_class&&t.product.second_class.class_text?n("v-uni-text",{staticStyle:{color:"#3D3D3D"}},[n("v-uni-text",{staticStyle:{color:"#2ca879"}},[t._v("->")]),t._v(t._s(t.product.second_class.class_text))],1):t._e()],1):t._e(),n("v-uni-view",{staticClass:"display_flex_bet"},[n("v-uni-view",[t._v("预警库存:"),n("v-uni-text",{staticStyle:{color:"#FD2E32","margin-left":"20rpx"}},[t._v(t._s(t.product.warning_num>=0?t.product.warning_num:"未设置"))])],1),n("v-uni-view",{staticStyle:{"margin-left":"40rpx"}},[t._v("最大库存:"),n("v-uni-text",{staticStyle:{color:"#FD2E32","margin-left":"20rpx"}},[t._v(t._s(t.product.max_num>=0?t.product.max_num:"未设置"))])],1)],1),n("v-uni-navigator",{staticClass:"display_flex_bet",attrs:{"hover-class":"none",url:"/pages/manage/good_det/bad_history/bad_history?id="+t.product.objectId}},[n("v-uni-view",[t._v("货损数量:"),n("v-uni-text",{staticStyle:{color:"#FD2E32","margin-left":"20rpx"}},[t._v(t._s(t.product.bad_num?t.product.bad_num:0))])],1),n("fa-icon",{attrs:{type:"angle-right",size:"20",color:"#999"}})],1),t.product.nousetime?n("v-uni-view",[t._v("过期时间:"),n("v-uni-text",{staticStyle:{"margin-left":"20rpx",color:"#3D3D3D"}},[t._v(t._s(t.product.nousetime))])],1):t._e(),n("v-uni-view",[t._v("创建时间:"),n("v-uni-text",{staticStyle:{"margin-left":"20rpx",color:"#3D3D3D"}},[t._v(t._s(t.product.createdAt))])],1),t.product.productCode?n("v-uni-view",[t._v("条码:"),n("v-uni-text",{staticClass:"second_right_text"},[t._v(t._s(t.product.productCode))])],1):t._e()],1),n("v-uni-view",{staticClass:"second_one display_flex_bet"},[n("v-uni-view",[t._v("总库存:"),n("v-uni-text",{staticClass:"second_right_text"},[t._v(t._s(t.product.all_reserve))])],1),n("v-uni-view",{staticClass:"display_flex"},[n("v-uni-text",{staticStyle:{"margin-right":"10rpx"}},[t._v("分库存")]),n("v-uni-switch",{attrs:{checked:t.get_reserve_checked},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.change_state.apply(void 0,arguments)}}})],1)],1),t._l(t.product.stocks,(function(e,i){return t.get_reserve_checked?n("v-uni-view",{key:i,staticClass:"second_one"},[n("v-uni-view",{staticClass:"display_flex_bet"},[n("v-uni-view",[t._v("存放店仓:"),n("v-uni-text",{staticStyle:{"margin-left":"20rpx",color:"#3D3D3D"}},[t._v(t._s(e.stock_name?e.stock_name:"未填写"))])],1),1==t.identity?n("v-uni-view",{staticClass:"opion_item",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.delete_singlegood(e.good_id)}}},[t._v("删除")]):t._e()],1),n("v-uni-view",[t._v("当前库存:"),n("v-uni-text",{staticStyle:{color:"#FD2E32","margin-left":"20rpx"}},[t._v(t._s(e.reserve))])],1),e.now_model?n("v-uni-view",{staticStyle:{color:"#3D3D3D"}},t._l(e.now_model,(function(e,i){return n("v-uni-view",{key:i,staticClass:"display_flex_bet"},[n("v-uni-view",{staticStyle:{"font-size":"24rpx"}},[t._v(t._s(e.custom1.value)+t._s(e.custom2.value)+t._s(e.custom3.value)+t._s(e.custom4.value))]),n("v-uni-view",{staticStyle:{color:"#FD2E32","font-size":"24rpx"}},[t._v("库存:"+t._s(e.reserve))])],1)})),1):t._e()],1):t._e()})),n("v-uni-view",{staticClass:"second_one"},[n("v-uni-view",{staticStyle:{margin:"0 0 20rpx"}},[t._v("产品二维码")]),n("v-uni-view",{staticStyle:{padding:"20rpx",background:"#fff","text-align":"center"}},[t.product.productCode?n("tki-qrcode",{ref:"qrcode",attrs:{cid:"qrcode",val:t.product.productCode,size:100,loadMake:!0,usingComponents:!0,unit:"rpx"},on:{result:function(e){arguments[0]=e=t.$handleEvent(e),t.qrR.apply(void 0,arguments)}}}):t._e()],1)],1)],2)},a=[];n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return i}))},d8c71:function(t,e,n){"use strict";n.r(e);var i=n("d3e9"),o=n.n(i);for(var a in i)"default"!==a&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e["default"]=o.a},dcbc:function(t,e,n){var i=n("0f18");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=n("4f06").default;o("2126a2bb",i,!0,{sourceMap:!1,shadowMode:!1})},dd24:function(t,e,n){"use strict";var i=n("dcbc"),o=n.n(i);o.a},eef0:function(t,e,n){"use strict";var i=n("ee27");n("99af"),n("a623"),n("4160"),n("a630"),n("caad"),n("c975"),n("d81d"),n("4e82"),n("a9e3"),n("9129"),n("b6802"),n("b64b"),n("d3b7"),n("4d63"),n("ac1f"),n("25f0"),n("6062"),n("3ca3"),n("5319"),n("1276"),n("159b"),n("ddb0"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("96cf");var o=i(n("c964")),a=(i(n("e143")),{data:function(){return{version:"1.1.0",nowSortKey:"",sortType:"desc",longTable:!0,lineHeight:uni.upx2px(64),tableLoaded:!1,tableShow:!0,selectAll:!1,selectArr:[]}},computed:{compluteHeight:function(){return this.tableHeight?"height: "+uni.upx2px(this.tableHeight)+"px":""}},props:{tableData:{type:[Array,Boolean],default:function(){return!1}},columns:{type:[Array,Boolean],required:!0},stickSide:{type:Boolean,default:!1},showBottomSum:{type:Boolean,default:!1},showLoading:{type:Boolean,default:!0},emptyText:{type:String,default:"暂无数据"},tableHeight:{type:[Number,Boolean],default:0},showSelect:{type:Boolean,default:!1},singleSelect:{type:Boolean,default:!1},textAlign:{type:String,default:"left"},titleTextAlign:{type:String,default:"left"}},mounted:function(){this.init()},watch:{columns:function(){this.init()},tableData:function(){this.init()}},methods:{init:function(){var t=this;return(0,o.default)(regeneratorRuntime.mark((function e(){var n,i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.selectAll=!1,t.selectArr=[],t.tableLoaded=!1,t.tableShow=!0,n=t,e.next=7,n.getPageSize(".z-table-container");case 7:return i=e.sent,e.next=10,n.getPageSize(".z-table-pack");case 10:o=e.sent,n.timer&&clearTimeout(n.timer),i&&o?(n.$nextTick((function(){n.tableData&&n.tableData.length&&(n.tableShow=!1,n.timer=setTimeout((function(){n.tableLoaded=!0}),300))})),i.height!=o.height?n.longTable=!0:n.longTable=!1):(n.tableLoaded=!1,n.$nextTick((function(){n.tableShow=!0})));case 13:case"end":return e.stop()}}),e)})))()},getPageSize:function(t){var e=uni.createSelectorQuery().in(this);return new Promise((function(n,i){e.select(t).boundingClientRect((function(t){n(t)})).exec()}))},dosum:function(t){var e="-";return this.tableData&&this.tableData.every((function(e){return!Number.isNaN(e[t]-0)}))&&(e=0,this.tableData.map((function(n,i){if(t||0==i){var o=n[t]-0;Number.isNaN(o)?e+=0:e+=o}else e="-"}))),this.numTransform(e)},getRowContent:function(t,e){var n="",i=t[e.key];if([null,""].includes(i)&&(i="-"),i||0===i)n=isNaN(i-0)?i:this.numTransform(i-0);else if(e.format){var o=e.format.template;e.format.names.map((function(e){var n=new RegExp("#".concat(e,"#"),"mg");o=o.replace(n,t[e])})),n=o}else if(!e.render){var a=new Error("数据的key或format值至少一个不为空");throw a}return n.toString()},sort:function(t,e){t&&this.columns[e].sort&&(t!=this.nowSortKey?(this.nowSortKey=t,this.sortType="desc"):this.toggleSort(),this.$emit("onSort",{key:this.nowSortKey,type:this.sortType}))},toggleSort:function(){this.sortType="asc"==this.sortType?"desc":"asc"},numTransform:function(t){return Number.isNaN(t-0)?t:(Math.abs(t)>=1e8?t=Number((t/1e8).toFixed(1))+"亿":Math.abs(t)>=1e4&&(t=Number((t/1e4).toFixed(1))+"万"),t.toString())},resetSort:function(){this.nowSortKey="",this.sortType="desc"},setUrl:function(t,e){if(e.isLink){var n={},i=e.isLink,o=i.url,a=i.params,r=void 0===a?[]:a;return r.forEach((function(e){if(~e.indexOf("|")){var i=e.split("|");n[i[0]]=t[i[1]]}else n[e]=t[e]})),o=this.setUrlParams(o,n),o}},setUrlParams:function(t,e){var n=t,i=Object.keys(e);return i.forEach((function(t){n+="&".concat(t,"=").concat(e[t])})),n=n.replace(/\&/,"?"),n},itemClick:function(t,e){e.listenerClick&&this.$emit("onClick",t)},doSelect:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1?arguments[1]:void 0,n=new Set;if(t){if(!this.selectAll)for(var i=0;i<this.tableData.length;i++)n.add(i)}else this.selectArr.forEach((function(t){n.add(t)})),n.has(e)?n.delete(e):(this.singleSelect&&n.clear(),n.add(e));this.selectArr=Array.from(n),this.selectArr.length==this.tableData.length?this.selectAll=!0:this.selectAll=!1,this.$emit("onSelect",this.selectArr)},getTitleText:function(t){var e=t;return e.toString()}}});e.default=a},f041:function(t,e,n){"use strict";var i=n("9918"),o=n.n(i);o.a},fb81:function(t,e,n){"use strict";var i=n("5361"),o=n.n(i);o.a},fd39:function(t,e,n){"use strict";n.r(e);var i=n("eef0"),o=n.n(i);for(var a in i)"default"!==a&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e["default"]=o.a},fd55:function(t,e,n){"use strict";(function(t){var i=n("ee27");n("7db0"),n("c975"),n("a9e3"),n("b6802"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o,a,r=i(n("54f8")),s=i(n("9546")),c=i(n("7fd5")),l=i(n("c952")),u=i(n("a59d")),d=i(n("8d1c")),f=i(n("a6f7")),p=i(n("77d4")),v={components:{uniSegmentedControl:l.default,GoodDet:u.default,goodDetBottom:p.default,productPurchase:d.default,productSell:f.default},data:function(){return{items:["产品详情","进货情况","销售情况"],current:0,user:uni.getStorageSync("user"),badnum:{num:"",desc:""},bad_numshow:!1,product:{},selected_item:"",isRealationNew:!1,productId:"",type:"",thisStock:{}}},onLoad:function(e){t.log(e),o=this,a=uni.getStorageSync("uid"),uni.removeStorageSync("now_model"),this.$wechat.share_pyq(),o.productId=e.id,o.type=e.type,o.getDetail_byId()},onShow:function(){if(uni.getStorageSync("warehouse")&&o.isRealationNew){var e=uni.getStorageSync("warehouse");uni.showModal({title:"提示",content:"是否将该产品添加到"+e[0].stock.stock_name+"这个店仓",success:function(n){if(n.confirm){var i=s.default.Query("Goods");i.equalTo("userId","==",a),i.equalTo("header","==",o.product.objectId),i.equalTo("stocks","==",e[0].stock.objectId),i.find().then((function(n){t.log(n),0==n.length?c.default.upload_good_withNoCan(o.product,e[0].stock,0).then((function(t){t[0]&&(uni.removeStorageSync("warehouse"),uni.showToast({title:"关联成功",icon:"none"}),o.getDetail_byId())})):uni.showToast({title:"该店仓已有此产品",icon:"none"})}))}else n.cancel&&uni.removeStorageSync("warehouse")}})}else uni.getStorageSync("warehouse")&&(o.thisStock=uni.getStorageSync("warehouse")[0].stock)},onShareAppMessage:function(e){return"button"===e.from&&t.log(e.target),{title:"库存表-"+o.product.goodsName+"的详情",path:"/pages/manage/good_det/Ngood_det?id="+o.product.objectId+"&type=false"}},methods:{onClickItem:function(t){o.current=t},getDetail_byId:function(){var t=[];uni.showLoading({title:"加载中..."});var e=s.default.Query("Goods");"false"==o.type?e.equalTo("objectId","==",o.productId):e.equalTo("productCode","==",o.productId),e.equalTo("userId","==",a),e.include("stocks","goodsClass","second_class"),e.equalTo("order","==",0),e.find().then((function(n){var i=n[0],s=0;uni.setStorageSync("now_product",i),e.equalTo("userId","==",a),e.equalTo("status","!=",-1),e.include("stocks","goodsClass","second_class"),e.equalTo("header","==",i.objectId),e.find().then((function(e){var n,a=(0,r.default)(e);try{for(a.s();!(n=a.n()).done;){var l=n.value;if(0!=l.order){var u={};u.stock_name=l.stocks.stock_name,u.objectId=l.stocks.objectId,u.reserve=l.reserve.toFixed(uni.getStorageSync("setting").show_float),u.good_id=l.objectId,u.now_model=l.models,l.stocks=u,s+=l.reserve,t.push(l.stocks)}}}catch(d){a.e(d)}finally{a.f()}2==o.user.identity&&o.user.rights&&-1!=o.user.rights.othercurrent.indexOf("0")&&(i.costPrice=0),i.nousetime&&(i.nousetime=c.default.js_date_time(i.nousetime)),i.all_reserve=s.toFixed(uni.getStorageSync("setting").show_float),i.reserve=s.toFixed(uni.getStorageSync("setting").show_float),i.stocks=t,i.productCode=i.productCode?i.productCode+"-"+!0+"-new":i.objectId+"-"+!1+"-new",o.product=i,uni.hideLoading()}))}))},confrim_badnum:function(){if(t.log(o.selected_item),o.badnum.num){var e=s.default.Pointer("_User"),n=e.set(uni.getStorageSync("masterId")),i=s.default.Pointer("Goods"),a=i.set(o.selected_item.objectId),r=o.selected_item.objectId,c=Number(o.selected_item.bad_num?o.selected_item.bad_num:0),l=c+Number(o.badnum.num),u=s.default.Query("bad_goods");u.set("bad_num",o.badnum.num),u.set("beizhu_text",o.badnum.desc),u.set("operater",n),u.set("goods",a),u.equalTo("order","!=",0),u.save().then((function(t){var e=s.default.Query("Goods");e.set("id",r),e.set("bad_num",Number(l)),e.save().then((function(t){o.bad_numshow=!1,uni.showToast({title:"记录成功"})})),o.getDetail_noId()}))}else uni.showToast({title:"请输入货损数量",icon:"none"})},add_badnum:function(t){o.bad_numshow=!0,o.selected_item=t}}};e.default=v}).call(this,n("5a52")["default"])}}]);