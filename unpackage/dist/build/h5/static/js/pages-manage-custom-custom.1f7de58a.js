(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-manage-custom-custom"],{"0e13":function(t,e,n){},3266:function(t,e,n){e=t.exports=n("2350")(!1),e.push([t.i,".segmented-control[data-v-626e96c6]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;width:75%;font-size:%?28?%;-webkit-box-sizing:border-box;box-sizing:border-box;margin:0 auto;overflow:hidden;border:1px solid;-webkit-border-radius:%?10?%;border-radius:%?10?%}.segmented-control.text[data-v-626e96c6]{border:0;-webkit-border-radius:0;border-radius:0}.segmented-control-item[data-v-626e96c6]{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;text-align:center;line-height:%?60?%;-webkit-box-sizing:border-box;box-sizing:border-box;border-left:1px solid}.segmented-control-item.active[data-v-626e96c6]{color:#fff}.segmented-control-item.text[data-v-626e96c6]{border-left:0;color:#000}.segmented-control-item.text.active[data-v-626e96c6]{border-bottom-style:solid}.segmented-control-item[data-v-626e96c6]:first-child{border-left-width:0}",""])},"61d9":function(t,e,n){"use strict";n.r(e);var i=n("b542"),o=n("c329");for(var a in o)"default"!==a&&function(t){n.d(e,t,function(){return o[t]})}(a);n("7a2e");var c=n("2877"),r=Object(c["a"])(o["default"],i["a"],i["b"],!1,null,"6f4fdab8",null);e["default"]=r.exports},"660c":function(t,e,n){e=t.exports=n("2350")(!1),e.push([t.i,".Loading_view[data-v-3ca8ef38]{height:100vh;width:100%;text-align:center;background:#fff}.loading_image[data-v-3ca8ef38]{width:%?600?%;height:%?600?%;margin-top:30%}",""])},"78bd":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"segmented-control",class:{text:"text"===t.styleType},style:{borderColor:"text"===t.styleType?"":t.activeColor}},t._l(t.values,function(e,i){return n("v-uni-view",{key:i,staticClass:"segmented-control-item",class:[{text:"text"===t.styleType},{active:i===t.currentIndex}],style:{color:i===t.currentIndex?"text"===t.styleType?t.activeColor:"#fff":"text"===t.styleType?"#000":t.activeColor,backgroundColor:i===t.currentIndex&&"button"===t.styleType?t.activeColor:""},on:{click:function(e){e=t.$handleEvent(e),t._onClick(i)}}},[t._v(t._s(e))])}),1)},o=[];n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o})},7944:function(t,e,n){"use strict";n.r(e);var i=n("c817"),o=n.n(i);for(var a in i)"default"!==a&&function(t){n.d(e,t,function(){return i[t]})}(a);e["default"]=o.a},"7a2e":function(t,e,n){"use strict";var i=n("fba9"),o=n.n(i);o.a},8962:function(t,e,n){var i=n("660c");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=n("4f06").default;o("9d34a3f8",i,!0,{sourceMap:!1,shadowMode:!1})},"8e9a":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"Loading_view"},[n("v-uni-image",{staticClass:"loading_image",attrs:{src:"/static/timg.gif"}})],1)},o=[];n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o})},"921a":function(t,e,n){"use strict";n.r(e);var i=n("8e9a"),o=n("9ad1");for(var a in o)"default"!==a&&function(t){n.d(e,t,function(){return o[t]})}(a);n("f71c");var c=n("2877"),r=Object(c["a"])(o["default"],i["a"],i["b"],!1,null,"3ca8ef38",null);e["default"]=r.exports},"9ad1":function(t,e,n){"use strict";n.r(e);var i=n("0e13"),o=n.n(i);for(var a in i)"default"!==a&&function(t){n.d(e,t,function(){return i[t]})}(a);e["default"]=o.a},b542:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",[t.loading?n("loading"):t._e(),n("v-uni-view",{staticClass:"uni-common-mt"},[n("uni-segmented-control",{attrs:{current:t.current,values:t.items,"style-type":"button","active-color":"#426ab3"},on:{clickItem:function(e){e=t.$handleEvent(e),t.onClickItem(e)}}})],1),n("v-uni-scroll-view",{staticClass:"content",attrs:{"scroll-y":"true"}},[n("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:0===t.current,expression:"current === 0"}],staticClass:"info_item"},t._l(t.people,function(e,i){return n("v-uni-view",{key:i,staticClass:"item"},[n("v-uni-view",{staticClass:"display_flex_bet"},[n("v-uni-view",[n("v-uni-view",{staticStyle:{"font-size":"30rpx",color:"#3d3d3d","font-weight":"bold"}},[t._v(t._s(e.custom_name))]),e.beizhu?n("v-uni-view",[t._v("备注："+t._s(e.beizhu))]):t._e(),n("v-uni-view",{staticStyle:{color:"#999"}},[t._v("创建时间："+t._s(e.createdAt))])],1),n("fa-icon",{attrs:{type:"angle-right",size:"20",color:"#ddd"}})],1),n("v-uni-view",{staticClass:"display_flex",staticStyle:{"justify-content":"flex-end"}},[t.is_custom?n("v-uni-view",{staticClass:"display_flex",staticStyle:{"justify-content":"flex-end",width:"100%"},on:{click:function(n){n=t.$handleEvent(n),t.select_this("custom",e)}}},[n("v-uni-text",{staticStyle:{color:"#d93a49"}},[t._v("选择")])],1):n("v-uni-view",{staticClass:"display_flex",staticStyle:{"justify-content":"flex-end","align-items":"center"}},[n("fa-icon",{staticStyle:{"margin-right":"40rpx"},attrs:{type:"trash",size:"20",color:"#d93a49"},on:{click:function(n){n=t.$handleEvent(n),t.delete_this(e.objectId)}}}),n("fa-icon",{staticStyle:{"margin-right":"40rpx"},attrs:{type:"pencil-square-o",size:"20",color:"#d93a49"},on:{click:function(n){n=t.$handleEvent(n),t.edit(e)}}})],1)],1)],1)}),1),n("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:1===t.current,expression:"current === 1"}],staticClass:"info_item"},t._l(t.people,function(e,i){return n("v-uni-view",{key:i,staticClass:"item"},[n("v-uni-view",{staticClass:"display_flex_bet"},[n("v-uni-view",[n("v-uni-view",{staticStyle:{"font-size":"30rpx",color:"#3d3d3d","font-weight":"bold"}},[t._v(t._s(e.producer_name))]),e.beizhu?n("v-uni-view",[t._v("备注："+t._s(e.beizhu))]):t._e(),n("v-uni-view",{staticStyle:{color:"#999"}},[t._v("创建时间："+t._s(e.createdAt))])],1),n("fa-icon",{attrs:{type:"angle-right",size:"20",color:"#ddd"}})],1),n("v-uni-view",{staticClass:"display_flex",staticStyle:{"justify-content":"flex-end"}},[t.is_producer?n("v-uni-view",{staticClass:"display_flex",staticStyle:{"justify-content":"flex-end",width:"100%"},on:{click:function(n){n=t.$handleEvent(n),t.select_this("producer",e)}}},[n("v-uni-text",{staticStyle:{color:"#d93a49"}},[t._v("选择")])],1):n("v-uni-view",{staticClass:"display_flex",staticStyle:{"justify-content":"flex-end","align-items":"center"}},[n("fa-icon",{staticStyle:{"margin-right":"40rpx"},attrs:{type:"trash",size:"20",color:"#d93a49"},on:{click:function(n){n=t.$handleEvent(n),t.delete_this(e.objectId)}}}),n("fa-icon",{staticStyle:{"margin-right":"40rpx"},attrs:{type:"pencil-square-o",size:"20",color:"#d93a49"},on:{click:function(n){n=t.$handleEvent(n),t.edit(e)}}})],1)],1)],1)}),1)],1)],1)},o=[];n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o})},b72f:function(t,e,n){"use strict";n.r(e);var i=n("78bd"),o=n("7944");for(var a in o)"default"!==a&&function(t){n.d(e,t,function(){return o[t]})}(a);n("c9bc");var c=n("2877"),r=Object(c["a"])(o["default"],i["a"],i["b"],!1,null,"626e96c6",null);e["default"]=r.exports},c16f:function(t,e,n){e=t.exports=n("2350")(!1),e.push([t.i,"uni-page-body[data-v-6f4fdab8]{background:#fafafa}.uni-common-mt[data-v-6f4fdab8]{padding:%?30?%}.content[data-v-6f4fdab8]{height:-webkit-calc(100vh - %?124?%);height:calc(100vh - %?124?%);background:#fff}.info_item[data-v-6f4fdab8]{padding:%?20?% %?30?%;background:#fff}.item[data-v-6f4fdab8]{border-bottom:%?1?% solid#ccc;padding-bottom:%?10?%;margin-bottom:%?10?%}body.?%PAGE?%[data-v-6f4fdab8]{background:#fafafa}",""])},c329:function(t,e,n){"use strict";n.r(e);var i=n("cf5f"),o=n.n(i);for(var a in i)"default"!==a&&function(t){n.d(e,t,function(){return i[t]})}(a);e["default"]=o.a},c817:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={name:"UniSegmentedControl",props:{current:{type:Number,default:0},values:{type:Array,default:function(){return[]}},activeColor:{type:String,default:"#007aff"},styleType:{type:String,default:"button"}},data:function(){return{currentIndex:0}},watch:{current:function(t){t!==this.currentIndex&&(this.currentIndex=t)}},created:function(){this.currentIndex=this.current},methods:{_onClick:function(t){this.currentIndex!==t&&(this.currentIndex=t,this.$emit("clickItem",t))}}};e.default=i},c9bc:function(t,e,n){"use strict";var i=n("e179"),o=n.n(i);o.a},cf5f:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,o,a,c=l(n("921a")),r=l(n("0909")),s=l(n("8577")),u=l(n("b72f"));function l(t){return t&&t.__esModule?t:{default:t}}var d={components:{loading:c.default,faIcon:r.default,uniSegmentedControl:u.default},data:function(){return{loading:!0,items:["销售客户","供货商"],current:0,people:null,is_producer:!1,is_custom:!1}},onLoad:function(t){i=this,a=uni.getStorageSync("uid"),"producer"==t.type?(i.is_producer=!0,i.current=1,i.load_data("producers")):"custom"==t.type&&(i.is_custom=!0,i.current=0,i.load_data("customs"))},onShow:function(){uni.removeStorageSync("customs"),uni.removeStorageSync("custom_type"),0==i.current?i.load_data("customs"):i.load_data("producers")},onUnload:function(){o=""},methods:{select_this:function(t,e){uni.setStorageSync(t,e),uni.navigateBack({delta:1})},edit:function(t){uni.setStorageSync("customs",t),0==i.current?uni.setStorageSync("custom_type","customs"):uni.setStorageSync("custom_type","producers"),uni.navigateTo({url:"add/add"})},delete_this:function(t){uni.showModal({title:"提示",content:"是否删除此客户",success:function(e){e.confirm&&(console.log(t),0==i.current?i.delete_data("customs",t):i.delete_data("producers",t))}})},delete_data:function(t,e){console.log(e);var n=s.default.Query(t);n.destroy(e).then(function(e){console.log(e),uni.showToast({title:"删除成功",icon:"none"}),i.load_data(t)}).catch(function(t){console.log(t)})},onClickItem:function(t){this.current!==t&&(this.current=t,0==this.current?i.load_data("customs"):i.load_data("producers"))},load_data:function(t){i.loading=!0;var e=s.default.Query(t);e.equalTo("parent","==",a),e.limit(500),o&&("customs"==t?e.equalTo("custom_name","==",{$regex:o+".*"}):e.equalTo("producer_name","==",{$regex:o+".*"})),e.find().then(function(t){console.log(t),i.loading=!1,i.people=t})}}};e.default=d},e179:function(t,e,n){var i=n("3266");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=n("4f06").default;o("51f0a2b6",i,!0,{sourceMap:!1,shadowMode:!1})},f71c:function(t,e,n){"use strict";var i=n("8962"),o=n.n(i);o.a},fba9:function(t,e,n){var i=n("c16f");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=n("4f06").default;o("59e2e241",i,!0,{sourceMap:!1,shadowMode:!1})}}]);