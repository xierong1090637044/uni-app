(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-manage-custom-custom_detail-debt_history-debt_history"],{1674:function(t,e,n){"use strict";n.r(e);var o=n("8f74"),u=n("5f50");for(var a in u)"default"!==a&&function(t){n.d(e,t,function(){return u[t]})}(a);n("6286");var i=n("2877"),s=Object(i["a"])(u["default"],o["a"],o["b"],!1,null,"8d410952",null);e["default"]=s.exports},"5ecf":function(t,e,n){"use strict";var o=n("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("7f7f");var u,a=o(n("bba2")),i=o(n("b841")),s={components:{loading:i.default},data:function(){return{debt_list:[],name:"",loading:!0}},methods:{},onLoad:function(t){u=this,u.name=t.name,a.default.get_moneyList(t.id).then(function(t){u.loading=!1,u.debt_list=t})}};e.default=s},"5f50":function(t,e,n){"use strict";n.r(e);var o=n("5ecf"),u=n.n(o);for(var a in o)"default"!==a&&function(t){n.d(e,t,function(){return o[t]})}(a);e["default"]=u.a},6286:function(t,e,n){"use strict";var o=n("fe56"),u=n.n(o);u.a},"8f74":function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",[t.loading?n("loading"):n("v-uni-view",[n("v-uni-view",{staticClass:"frist"},[t._v("客户名字："),n("v-uni-text",[t._v(t._s(t.name))])],1),n("v-uni-scroll-view",{staticStyle:{height:"calc(100vh - 80rpx)",padding:"0 30rpx",background:"#FFFFFF",width:"calc(100% - 60rpx)"},attrs:{"scroll-y":""}},t._l(t.debt_list,function(e,o){return n("v-uni-view",{key:o,staticClass:"list_item"},[e.operater?n("v-uni-view",[t._v("操作人："+t._s(e.operater.nickName))]):t._e(),n("v-uni-view",{staticClass:"display_flex_bet"},[n("v-uni-view",[t._v("收款金额："),n("v-uni-text",{staticStyle:{color:"#f30"}},[t._v("￥"+t._s(e.debt_number))])],1),n("v-uni-view",{staticStyle:{color:"#999999"}},[t._v(t._s(e.createdAt))])],1)],1)}),1)],1)],1)},u=[];n.d(e,"a",function(){return o}),n.d(e,"b",function(){return u})},bba2:function(t,e,n){"use strict";var o=n("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("c5f6");var u=o(n("5d73"));n("7514");var a=o(n("795b")),i={get_customList:function(t,e){return new a.default(function(n,o){var u=uni.getStorageSync("uid"),a=Bmob.Query("customs");a.order("num"),a.equalTo("parent","==",u),a.equalTo("disabled","==",t),e&&a.equalTo("name","==",{$regex:e+".*"}),a.find().then(function(t){n(t)})})},get_customCount:function(){return new a.default(function(t,e){var n=uni.getStorageSync("uid"),o=Bmob.Query("customs");o.equalTo("parent","==",n),o.find().then(function(e){var n=e,o=!0,a=!1,i=void 0;try{for(var s,r=function(){var t=s.value,e=Bmob.Query("Bills");e.equalTo("type","==",-1),e.equalTo("custom","==",t.objectId),e.find().then(function(e){t.relations=e})},c=(0,u.default)(n);!(o=(s=c.next()).done);o=!0)r()}catch(d){a=!0,i=d}finally{try{o||null==c.return||c.return()}finally{if(a)throw i}}t(n)})})},add_custom:function(t){console.log(t);var e=JSON.parse(localStorage.getItem("bmob")).objectId;return new a.default(function(n,o){var u=Bmob.Pointer("_User"),a=u.set(e);if(t.objectId){var i=Bmob.Query("customs");i.set("custom_name",t.custom_name),i.set("debt",Number(t.debt)),i.set("custom_address",t.custom_address),i.set("custom_phone",t.custom_phone),i.set("parent",a),i.set("disabled",!t.disabled),i.set("id",t.objectId),i.save().then(function(t){n(t)}).catch(function(t){console.log(t)})}else{var s=Bmob.Query("customs");s.equalTo("parent","==",e),s.equalTo("name","==",t.custom_name),s.find().then(function(e){if(console.log(e),0==e.length){var o=Bmob.Query("customs");o.set("custom_name",t.custom_name),o.set("debt",Number(t.debt)),o.set("custom_address",t.custom_address),o.set("custom_phone",t.custom_phone),o.set("have_out",0),o.set("disabled",!t.disabled),o.set("parent",a),o.save().then(function(t){n(t)}).catch(function(t){console.log(t)})}else n(!1)})}})},delete_custom:function(t){return new a.default(function(e,n){var o=Bmob.Query("customs");o.destroy(t).then(function(t){e(t)}).catch(function(t){console.log(t)})})},custom_detail:function(t){return new a.default(function(e,n){var o=Bmob.Query("customs");o.get(t).then(function(t){e(t)}).catch(function(t){console.log(t)})})},get_moneyList:function(t){return new a.default(function(e,n){var o=Bmob.Query("debt_history");o.equalTo("custom","==",t),o.include("operater"),o.find().then(function(t){console.log(t),e(t)})})}};e.default=i},bd25:function(t,e,n){e=t.exports=n("2350")(!1),e.push([t.i,".frist[data-v-8d410952]{background:#fff;padding:%?20?% %?30?%;border-bottom:%?1?% solid#DDDDDD}.list_item[data-v-8d410952]{padding:%?16?% 0;border-bottom:%?1?% solid#DDDDDD}",""])},fe56:function(t,e,n){var o=n("bd25");"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var u=n("4f06").default;u("80ba7806",o,!0,{sourceMap:!1,shadowMode:!1})}}]);