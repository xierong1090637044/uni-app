(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-report-matterRecord-matterRecord"],{"0d6a":function(e,t,n){"use strict";n.r(t);var o=n("7097"),i=n("b582");for(var a in i)"default"!==a&&function(e){n.d(t,e,function(){return i[e]})}(a);n("afa2");var r=n("f0c5"),s=Object(r["a"])(i["default"],o["a"],o["b"],!1,null,"43876716",null);t["default"]=s.exports},"0ebc":function(e,t,n){"use strict";(function(e){var o=n("288e");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("7514"),n("c5f6");var i,a,r,s=o(n("9546")),u=o(n("7fd5")),c=o(n("96bd")),l=o(n("3628")),d=o(n("0d6a")),f=30,v=1,g={components:{uniPagination:d.default,uniNavBar:c.default,uniIcon:l.default},data:function(){return{stock:"",now_day:u.default.getDay(0,!1),end_day:u.default.getDay(1,!1),option_now_day:u.default.getDay(0,!1),option_end_day:u.default.getDay(1,!1),max_day:u.default.getDay(0,!1),page_num:1,checked_option:"all",list:[],showOptions:!1,is_checked:!1,data_change:!1,goodsName:"",staff:"",operaterTypeDesc:""}},onLoad:function(e){a=this,uni.removeStorageSync("charge"),uni.removeStorageSync("is_option"),r=Number(e.type),i=uni.getStorageSync("uid"),4==r&&uni.setNavigationBarTitle({title:"物料采购详情"}),a.get_list()},onShow:function(){uni.getStorageSync("charge")&&(a.staff=uni.getStorageSync("charge")),uni.getStorageSync("warehouse")&&(a.stock=uni.getStorageSync("warehouse")[0].stock),uni.getStorageSync("is_option")&&a.get_list()},onUnload:function(){f=30,v=1},methods:{select_operatertype:function(){uni.showActionSheet({itemList:1==r?["入库","采购"]:["出库","销售"],success:function(e){1==r?0==e.tapIndex?a.operaterTypeDesc="入库":a.operaterTypeDesc="采购":-1==r&&(0==e.tapIndex?a.operaterTypeDesc="出库":a.operaterTypeDesc="销售"),a.get_list()},fail:function(t){e.log(t.errMsg)}})},bindDateChange1:function(e){a.data_change=!0,a.now_day=e.detail.value,a.option_now_day=e.detail.value},bindDateChange2:function(e){a.data_change=!0,a.end_day=e.detail.value,a.option_end_day=e.detail.value},selectd:function(e){"one"==e?(a.now_day=u.default.getDay(0,!1),a.end_day=u.default.getDay(1,!1)):"two"==e?(a.now_day=u.default.getDay(-1,!1),a.end_day=u.default.getDay(0,!1)):"three"==e?(a.now_day=u.default.getDay(-7,!1),a.end_day=u.default.getDay(1,!1)):"four"==e?(a.now_day=u.default.getDay(-30,!1),a.end_day=u.default.getDay(1,!1)):(a.now_day="",a.end_day=""),v=1,a.page_num=1,a.checked_option=e,a.get_list()},shaixuan_click:function(){a.showOptions=!0},option_reset:function(){uni.removeStorageSync("charge"),uni.removeStorageSync("warehouse"),a.stock="",a.goodsName="",a.staff="",a.data_change=!1,a.is_checked=!1,a.showOptions=!1,a.get_list()},option_confrim:function(){a.is_checked=!0,a.showOptions=!1,a.get_list()},change_page:function(e){v=e.current,a.get_list()},get_list:function(){var e=this;uni.showLoading({title:"加载中..."});var t=s.default.Query("order_opreations");t.equalTo("master","==",i),t.equalTo("type","==",r),uni.getStorageSync("charge")&&t.equalTo("opreater","==",a.staff.userId.objectId),t.equalTo("goodsName","==",{$regex:a.goodsName+".*"}),a.stock&&t.equalTo("stock","==",a.stock.objectId),"all"!=a.checked_option?(t.equalTo("createdAt",">=",a.now_day+" 00:00:00"),t.equalTo("createdAt","<=",a.end_day+" 00:00:00")):1==a.is_checked&&1==a.data_change&&(t.equalTo("createdAt",">=",a.option_now_day+" 00:00:00"),t.equalTo("createdAt","<=",a.option_end_day+" 00:00:00")),t.equalTo("extra_type","==",1),t.limit(f),t.skip(f*(v-1)),t.include("opreater","stock"),t.order("-createdAt"),t.find().then(function(t){e.list=t,wx.hideLoading()})},get_detail:function(e){wx.navigateTo({url:"detail/detail?id="+e})}}};t.default=g}).call(this,n("5a52")["default"])},"1f89":function(e,t,n){"use strict";n.r(t);var o=n("0ebc"),i=n.n(o);for(var a in o)"default"!==a&&function(e){n.d(t,e,function(){return o[e]})}(a);t["default"]=i.a},"29b3":function(e,t,n){t=e.exports=n("2350")(!1),t.push([e.i,".page[data-v-e3ab5e00]{overflow:hidden;height:calc(100vh - %?234?%);font-size:%?28?%;color:#3d3d3d;background:#fafafa}.status_noconfrim[data-v-e3ab5e00]{border:1prx solid#f30!important;color:#f30!important}.item[data-v-e3ab5e00]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;background-color:#fff;padding:%?20?%;border-bottom:%?0.5?% solid#ddd}.icon-order[data-v-e3ab5e00]{font-size:%?44?%;color:#426ab3}.list-item[data-v-e3ab5e00]{height:100%;overflow:scroll}.select_time[data-v-e3ab5e00]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;line-height:%?80?%;color:#999;padding:0 %?30?%}.item_beizhu[data-v-e3ab5e00]{max-width:calc(100% - %?120?%);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.order_get[data-v-e3ab5e00]{padding:%?0?% %?30?%;color:#2ca879;border:%?0.5?% solid#2ca879;height:%?52?%;line-height:%?52?%;border-radius:%?8?%}.order_out[data-v-e3ab5e00]{padding:0 15px;color:#f30;border:1px solid#f30;height:26px;line-height:26px;margin-top:7px;border-radius:4px}.order_counting[data-v-e3ab5e00]{padding:0 15px;color:#000;border:1px solid#000;height:26px;line-height:26px;margin-top:7px;border-radius:4px}.order_returning[data-v-e3ab5e00]{padding:0 15px;color:#b3b242;border:1px solid#b3b242;height:26px;line-height:26px;margin-top:7px;border-radius:4px}",""])},"33c8":function(e,t,n){t=e.exports=n("2350")(!1),t.push([e.i,'.uni-pagination[data-v-43876716]{width:100%;box-sizing:border-box;padding:0 %?40?%;position:relative;overflow:hidden;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row}.uni-pagination__btns[data-v-43876716]{-webkit-box-flex:1;-webkit-flex:1;flex:1;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row}.uni-pagination__btn[data-v-43876716]{width:%?120?%;height:%?60?%;padding:0 %?16?%;line-height:%?60?%;font-size:%?28?%;box-sizing:border-box;position:relative;background-color:#f8f8f8;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.uni-pagination__btn[data-v-43876716]:after{content:"";width:200%;height:200%;position:absolute;top:0;left:0;border:1px solid #c8c7cc;-webkit-transform:scale(.5);transform:scale(.5);-webkit-transform-origin:0 0;transform-origin:0 0;box-sizing:border-box;border-radius:%?12?%}.uni-pagination__num[data-v-43876716]{height:%?60?%;line-height:%?60?%;font-size:%?28?%;color:#333;position:absolute;left:50%;top:0;-webkit-transform:translateX(-50%);transform:translateX(-50%)}.uni-pagination__num-current[data-v-43876716]{color:#007aff}.uni-pagination--disabled[data-v-43876716]{opacity:.3}.uni-pagination--hover[data-v-43876716]{color:rgba(0,0,0,.6);background-color:#f1f1f1}',""])},4998:function(e,t,n){var o=n("29b3");"string"===typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);var i=n("4f06").default;i("16e21bed",o,!0,{sourceMap:!1,shadowMode:!1})},7097:function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"uni-pagination"},[n("v-uni-view",{staticClass:"uni-pagination__btns"},[n("v-uni-view",{class:["uni-pagination__btn",{"uni-pagination--disabled":1===e.currentIndex}],attrs:{"hover-class":1===e.currentIndex?"":"uni-pagination--hover","hover-start-time":20,"hover-stay-time":70},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.clickLeft.apply(void 0,arguments)}}},[e.showIcon?[n("uni-icon",{attrs:{color:"#000",size:"20",type:"arrowleft"}})]:[e._v(e._s(e.prevText))]],2),n("v-uni-view",{class:["uni-pagination__btn",{"uni-pagination--disabled":e.currentIndex===e.maxPage}],attrs:{"hover-class":e.currentIndex===e.maxPage?"":"uni-pagination--hover","hover-start-time":20,"hover-stay-time":70},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.clickRight.apply(void 0,arguments)}}},[e.showIcon?[n("uni-icon",{attrs:{color:"#000",size:"20",type:"arrowright"}})]:[e._v(e._s(e.nextText))]],2)],1),n("v-uni-view",{staticClass:"uni-pagination__num"},[n("v-uni-input",{staticClass:"uni-pagination__num-current",staticStyle:{"text-align":"center","margin-top":"10rpx"},attrs:{value:e.currentIndex,type:"number"},on:{blur:function(t){arguments[0]=t=e.$handleEvent(t),e.inputNumber.apply(void 0,arguments)},confirm:function(t){arguments[0]=t=e.$handleEvent(t),e.inputNumber.apply(void 0,arguments)}}})],1)],1)},i=[];n.d(t,"a",function(){return o}),n.d(t,"b",function(){return i})},"7fd5":function(e,t,n){"use strict";(function(t){var o=n("288e");n("6b54"),n("7514");var i=o(n("5d73"));n("c5f6");var a=o(n("795b")),r=o(n("9546"));e.exports={enterAddGoodNum:function(e){var n=this;return new a.default(function(o,a){for(var s=function(a){var s=0,u=r.default.Query("Goods");u.get(e[a].objectId).then(function(c){var l=c;if(e[a].selectd_model){var d=!0,f=!1,v=void 0;try{for(var g,p=(0,i.default)(e[a].selected_model);!(d=(g=p.next()).done);d=!0){var h=g.value,y=!0,m=!1,_=void 0;try{for(var b,w=(0,i.default)(l.models);!(y=(b=w.next()).done);y=!0){var x=b.value;x.id==h.id&&(x.reserve=Number(x.reserve)+Number(h.num)),delete x.num}}catch(k){m=!0,_=k}finally{try{y||null==w.return||w.return()}finally{if(m)throw _}}}}catch(k){f=!0,v=k}finally{try{d||null==p.return||p.return()}finally{if(f)throw v}}s=Number(l.reserve)+Number(e[a].num),u.set("models",l.models)}else s=Number(l.reserve)+Number(e[a].num);u.set("reserve",s),u.set("id",e[a].objectId),u.save().then(function(i){if(e[a].header){var s=r.default.Query("Goods");s.equalTo("header","==",e[a].header.objectId),s.equalTo("order","==",1),s.statTo("sum","reserve"),s.find().then(function(i){t.log("dasds",i);var s=i[0]._sumReserve,u=r.default.Query("Goods");u.set("reserve",s),u.set("id",e[a].header.objectId),u.save().then(function(t){n.modifyStockType(e[a].header.objectId),a==e.length-1&&o(!0)})})}else n.modifyStockType(e[a].objectId),a==e.length-1&&o(!0)}).catch(function(e){t.log(e)})})},u=0;u<e.length;u++)s(u)})},outRedGoodNum:function(e){var n=this;return new a.default(function(o,a){for(var s=function(a){var s=0,u=r.default.Query("Goods");u.get(e[a].objectId).then(function(c){var l=c;if(e[a].selectd_model){var d=!0,f=!1,v=void 0;try{for(var g,p=(0,i.default)(e[a].selected_model);!(d=(g=p.next()).done);d=!0){var h=g.value,y=!0,m=!1,_=void 0;try{for(var b,w=(0,i.default)(l.models);!(y=(b=w.next()).done);y=!0){var x=b.value;s+=Number(x.reserve),x.id==h.id&&(x.reserve=Number(x.reserve)-Number(h.num)),delete x.num}}catch(k){m=!0,_=k}finally{try{y||null==w.return||w.return()}finally{if(m)throw _}}}}catch(k){f=!0,v=k}finally{try{d||null==p.return||p.return()}finally{if(f)throw v}}s=Number(l.reserve)-Number(e[a].num),u.set("models",l.models)}else s=Number(l.reserve)-Number(e[a].num);u.set("reserve",s),u.set("id",e[a].objectId),u.save().then(function(t){if(e[a].header){var i=r.default.Query("Goods");i.equalTo("header","==",e[a].header.objectId),i.equalTo("order","==",1),i.statTo("sum","reserve"),i.find().then(function(t){var i=t[0]._sumReserve,s=r.default.Query("Goods");s.set("reserve",i),s.set("id",e[a].header.objectId),s.save().then(function(t){n.modifyStockType(e[a].header.objectId),a==e.length-1&&o(!0)})})}else n.modifyStockType(e[a].objectId),a==e.length-1&&o(!0)}).catch(function(e){t.log(e)})})},u=0;u<e.length;u++)s(u)})},enterAddGoodNumNew:function(e){var n=this;return new a.default(function(o,a){for(var s=uni.getStorageSync("warehouse")?uni.getStorageSync("warehouse")[0].stock:"",u=uni.getStorageSync("uid"),c=function(a){var c=0,l=r.default.Query("Goods");l.get(e[a].objectId).then(function(l){if(e[a].selectd_model){var d=!0,f=!1,v=void 0;try{for(var g,p=(0,i.default)(e[a].selected_model);!(d=(g=p.next()).done);d=!0){var h=g.value,y=!0,m=!1,_=void 0;try{for(var b,w=(0,i.default)(e[a].models);!(y=(b=w.next()).done);y=!0){var x=b.value;x.id==h.id&&(x.reserve=Number(x.reserve)+Number(h.num)),delete x.num}}catch(S){m=!0,_=S}finally{try{y||null==w.return||w.return()}finally{if(m)throw _}}}}catch(S){f=!0,v=S}finally{try{d||null==p.return||p.return()}finally{if(f)throw v}}c=Number(e[a].reserve)+Number(e[a].num),l.set("models",e[a].models)}else c=Number(e[a].reserve)+Number(e[a].num);l.set("reserve",c),l.save();var k=r.default.Query("Goods");k.equalTo("userId","==",u),k.equalTo("header","==",e[a].objectId),k.equalTo("stocks","==",s.objectId),k.find().then(function(i){if(0==i.length)n.upload_good_withNoCan(e[a],s,Number(e[a].num)).then(function(n){t.log(n),a==e.length-1&&o(!0)});else{var u=r.default.Query("Goods");u.set("id",i[0].objectId),u.set("reserve",i[0].reserve+Number(e[a].num)),u.save().then(function(n){t.log(n),a==e.length-1&&o(!0)}).catch(function(e){t.log(e)})}})}).catch(function(e){t.log(e)})},l=0;l<e.length;l++)c(l)})},outRedGoodNumNew:function(e){var n=this;return new a.default(function(o,a){for(var s=uni.getStorageSync("warehouse")?uni.getStorageSync("warehouse")[0].stock:"",u=uni.getStorageSync("uid"),c=function(a){var c=0,l=r.default.Query("Goods");l.get(e[a].objectId).then(function(l){if(e[a].selectd_model){var d=!0,f=!1,v=void 0;try{for(var g,p=(0,i.default)(e[a].selected_model);!(d=(g=p.next()).done);d=!0){var h=g.value,y=!0,m=!1,_=void 0;try{for(var b,w=(0,i.default)(e[a].models);!(y=(b=w.next()).done);y=!0){var x=b.value;x.id==h.id&&(x.reserve=Number(x.reserve)-Number(h.num)),delete x.num}}catch(S){m=!0,_=S}finally{try{y||null==w.return||w.return()}finally{if(m)throw _}}}}catch(S){f=!0,v=S}finally{try{d||null==p.return||p.return()}finally{if(f)throw v}}c=Number(e[a].reserve)-Number(e[a].num),l.set("models",e[a].models)}else c=Number(e[a].reserve)-Number(e[a].num);l.set("reserve",c),l.save();var k=r.default.Query("Goods");k.equalTo("userId","==",u),k.equalTo("header","==",e[a].objectId),k.equalTo("stocks","==",s.objectId),k.find().then(function(i){if(0==i.length)n.upload_good_withNoCan(e[a],s,Number(e[a].num),"out").then(function(n){t.log(n),a==e.length-1&&o(!0)});else{var u=r.default.Query("Goods");u.set("id",i[0].objectId),u.set("reserve",i[0].reserve-Number(e[a].num)),u.save().then(function(n){t.log(n),a==e.length-1&&o(!0)}).catch(function(e){t.log(e)})}})}).catch(function(e){t.log(e)})},l=0;l<e.length;l++)c(l)})},upload_good_withNoCan:function(e,n,o,s){return new a.default(function(a,u){var c=uni.getStorageSync("uid"),l=r.default.Pointer("_User"),d=l.set(c),f=r.default.Pointer("stocks"),v=f.set(n.objectId),g=r.default.Pointer("Goods"),p="";p=e.header?g.set(e.header.objectId):g.set(e.objectId);var h=r.default.Query("Goods");if(h.set("goodsName",e.goodsName),h.set("goodsIcon",e.goodsIcon),"out"==s){if(h.set("reserve",0-Number(o)),e.goodsId&&e.goodsId.models){var y=!0,m=!1,_=void 0;try{for(var b,w=(0,i.default)(e.goodsId.models);!(y=(b=w.next()).done);y=!0){var x=b.value;x.reserve=0-Number(x.num)}}catch(E){m=!0,_=E}finally{try{y||null==w.return||w.return()}finally{if(m)throw _}}h.set("models",e.goodsId.models)}}else if("allocation"==s){if(h.set("reserve",Number(o)),e.selected_model&&e.selected_model.length>0){var k=!0,S=!1,N=void 0;try{for(var I,j=(0,i.default)(e.selected_model);!(k=(I=j.next()).done);k=!0){var T=I.value;T.reserve=Number(T.num),delete T.num}}catch(E){S=!0,N=E}finally{try{k||null==j.return||j.return()}finally{if(S)throw N}}h.set("models",e.selected_model)}}else if(h.set("reserve",Number(o)),e.goodsId&&e.goodsId.models){var C=!0,z=!1,D=void 0;try{for(var $,P=(0,i.default)(e.goodsId.models);!(C=($=P.next()).done);C=!0){var q=$.value;q.reserve=Number(q.num)}}catch(E){z=!0,D=E}finally{try{C||null==P.return||P.return()}finally{if(z)throw D}}h.set("models",e.goodsId.models)}h.set("stocks",v),h.set("userId",d),h.set("header",p),h.set("costPrice",""+e.costPrice),h.set("retailPrice",""+e.retailPrice),h.set("order",1),h.save().then(function(e){t.log(e),a([!0,e])}).catch(function(e){t.log(e)})})},handleData:function(){uni.removeStorageSync("warehouse"),uni.removeStorageSync("stock"),uni.removeStorageSync("custom"),uni.removeStorageSync("category"),uni.removeStorageSync("class_user"),uni.removeStorageSync("second_class")},log:function(e,n,o){var i=r.default.Pointer("_User"),a=i.set(uni.getStorageSync("uid"));if(-2==n){var s=r.default.Pointer("Goods"),u=s.set(o),c=r.default.Query("logs");c.equalTo("goodId","==",o),c.find().then(function(o){if(0==o.length){var i=r.default.Query("logs");i.set("parent",a),i.set("goodId",u),i.set("log",e),i.set("type",n),i.save().then(function(e){t.log(e)}).catch(function(e){t.log(e)})}})}else{var l=r.default.Query("logs");l.set("parent",a),l.set("log",e),l.set("detail_id",o),l.set("type",n),l.save().then(function(e){t.log(e)}).catch(function(e){t.log(e)})}},modifyStockType:function(e){var n=this,o=r.default.Query("Goods");o.get(e).then(function(e){var t=e;""==t.warning_num&&""==t.max_num?e.set("stocktype",1):void 0==t.warning_num&&void 0==t.max_num?e.set("stocktype",1):null==t.warning_num&&null==t.max_num?e.set("stocktype",1):(""!=t.warning_num&&(t.warning_num>=t.reserve?(e.set("stocktype",0),n.log(t.goodsName+"已经超过设置的最小库存值"+t.warning_num,-2,t.objectId)):t.warning_num<t.reserve&&t.reserve<t.max_num&&e.set("stocktype",1)),""!=t.max_num&&(t.max_num<=t.reserve?(e.set("stocktype",2),n.log(t.goodsName+"已经超过设置的最大库存值"+t.max_num,-2,t.objectId)):t.warning_num<t.reserve&&t.reserve<t.max_num&&e.set("stocktype",1))),e.save()}).catch(function(e){t.log(e)})},record_shopOut:function(e,n){t.log(e,n);var o=r.default.Query("shops");o.set("id",e),o.set("have_out",n),o.save().then(function(e){t.log(e)}).catch(function(e){t.log(e)})},record_staffOut:function(e){if(t.log(e,uni.getStorageSync("user").have_out),1==uni.getStorageSync("identity"));else{var n=r.default.Query("_User");n.set("id",uni.getStorageSync("user").objectId),n.set("have_out",Number(e)+uni.getStorageSync("user").have_out),n.save().then(function(e){t.log(e)}).catch(function(e){t.log(e)})}},get_allCost:function(){var e=uni.getStorageSync("uid");t.log(e);var n=r.default.Query("Goods");n.equalTo("userId","==",e),n.find().then(function(e){t.log(e);var n=!0,o=!1,a=void 0;try{for(var r,s=(0,i.default)(e);!(n=(r=s.next()).done);n=!0){var u=r.value;t.log(u),Number(u.costPrice)*u.reserve,u.reserve}}catch(c){o=!0,a=c}finally{try{n||null==s.return||s.return()}finally{if(o)throw a}}})},getDay:function(e,t){var n=this,o=new Date,i=o.getTime()+864e5*e;o.setTime(i);var a=o.getFullYear(),r=o.getMonth(),s=o.getDate();return r=n.handleMonth(r+1),s=n.handleMonth(s),t?a+"-"+r+"-"+s+" 00:00:00":a+"-"+r+"-"+s},js_date_time:function(e,t){var n=new Date(e),o=n.getFullYear(),i=n.getMonth()+1;i=i<10?"0"+i:i;var a=n.getDate();a=a<10?"0"+a:a;var r=n.getHours();r=r<10?"0"+r:r;var s=n.getMinutes(),u=n.getSeconds();return s=s<10?"0"+s:s,u=u<10?"0"+u:u,t?o+"-"+i+"-"+a+" "+r+":"+s:o+"-"+i+"-"+a},handleMonth:function(e){var t=e;return 1==e.toString().length&&(t="0"+e),t}}}).call(this,n("5a52")["default"])},"887f":function(e,t,n){var o=n("33c8");"string"===typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);var i=n("4f06").default;i("6dc38244",o,!0,{sourceMap:!1,shadowMode:!1})},a9b2:function(e,t,n){"use strict";(function(e){var o=n("288e");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("c5f6");var i=o(n("3628")),a={name:"UniPagination",components:{uniIcon:i.default},props:{prevText:{type:String,default:"上一页"},nextText:{type:String,default:"下一页"},current:{type:[Number,String],default:1},total:{type:[Number,String],default:0},pageSize:{type:[Number,String],default:10},showIcon:{type:Boolean,default:!1}},data:function(){return{currentIndex:1}},computed:{maxPage:function(){var e=1,t=Number(this.total),n=Number(this.pageSize);return t&&n&&(e=Math.ceil(t/n)),e}},watch:{current:function(e){this.currentIndex=+e}},created:function(){this.currentIndex=+this.current},methods:{clickLeft:function(){1!==Number(this.currentIndex)&&(this.currentIndex-=1,this.change("prev"))},clickRight:function(){Number(this.currentIndex)!==this.maxPage&&(this.currentIndex+=1,this.change("next"))},inputNumber:function(t){e.log(t),this.currentIndex=Number(t.detail.value),this.$emit("change",{type:t,current:this.currentIndex})},change:function(t){e.log(t),this.$emit("change",{type:t,current:this.currentIndex})}}};t.default=a}).call(this,n("5a52")["default"])},ae86:function(e,t,n){"use strict";var o=n("4998"),i=n.n(o);i.a},aed5:function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",[n("v-uni-view",[n("uni-nav-bar",{attrs:{fixed:!1,color:"#333333","background-color":"#FFFFFF","right-text":"筛选","left-text":e.operaterTypeDesc},on:{"click-right":function(t){arguments[0]=t=e.$handleEvent(t),e.shaixuan_click.apply(void 0,arguments)},"click-left":function(t){arguments[0]=t=e.$handleEvent(t),e.select_operatertype.apply(void 0,arguments)}}}),n("v-uni-view",{staticClass:"display_flex good_option_view"},[n("v-uni-view",{staticClass:"good_option",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.selectd("all")}}},[n("v-uni-text",{class:"all"==e.checked_option?"option_selected":""},[e._v("全部")]),"all"==e.checked_option?n("fa-icon",{attrs:{type:"check",size:"20",color:"#1d953f"}}):e._e()],1),n("v-uni-view",{staticClass:"good_option",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.selectd("one")}}},[n("v-uni-text",{class:"one"==e.checked_option?"option_selected":""},[e._v("今天")]),"one"==e.checked_option?n("fa-icon",{attrs:{type:"check",size:"20",color:"#1d953f"}}):e._e()],1),n("v-uni-view",{staticClass:"good_option",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.selectd("two")}}},[n("v-uni-text",{class:"two"==e.checked_option?"option_selected":""},[e._v("昨天")]),"two"==e.checked_option?n("fa-icon",{attrs:{type:"check",size:"20",color:"#1d953f"}}):e._e()],1),n("v-uni-view",{staticClass:"good_option",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.selectd("three")}}},[n("v-uni-text",{class:"three"==e.checked_option?"option_selected":""},[e._v("七天")]),"three"==e.checked_option?n("fa-icon",{attrs:{type:"check",size:"20",color:"#1d953f"}}):e._e()],1),n("v-uni-view",{staticClass:"good_option",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.selectd("four")}}},[n("v-uni-text",{class:"four"==e.checked_option?"option_selected":"three"},[e._v("一个月")]),"four"==e.checked_option?n("fa-icon",{attrs:{type:"check",size:"20",color:"#1d953f"}}):e._e()],1)],1),n("v-uni-view",[n("v-uni-view",{staticClass:"page"},[e.list.length>0?n("v-uni-scroll-view",{staticClass:"page",attrs:{"scroll-y":"true"}},[n("v-uni-view",{staticClass:"list-item"},e._l(e.list,function(t,o){return n("v-uni-view",{key:o,staticClass:"item",on:{click:function(n){arguments[0]=n=e.$handleEvent(n),e.get_detail(t.objectId)}}},[n("v-uni-view",{staticStyle:{display:"flex",width:"calc(100% - 120rpx)"}},[n("v-uni-view",{staticStyle:{"line-height":"80rpx"}},[1==t.type?n("fa-icon",{attrs:{type:"sign-in",size:"20",color:"#2ca879"}}):e._e(),-1==t.type?n("fa-icon",{attrs:{type:"sign-out",size:"20",color:"#f30"}}):e._e(),-2==t.type?n("fa-icon",{attrs:{type:"random",size:"20",color:"#4e72b8"}}):e._e(),2==t.type?n("fa-icon",{attrs:{type:"leanpub",size:"20",color:"#b3b242"}}):e._e(),3==t.type?n("fa-icon",{attrs:{type:"check-square-o",size:"20",color:"#000"}}):e._e()],1),n("v-uni-view",{staticStyle:{"margin-left":"20rpx"}},[n("v-uni-view",[n("v-uni-text",{staticStyle:{color:"#999"}},[e._v("操作者：")]),e._v(e._s(t.opreater.nickName))],1),t.stock&&t.stock.stock_name?n("v-uni-view",[n("v-uni-text",{staticStyle:{color:"#999"}},[e._v("仓库：")]),e._v(e._s(t.stock.stock_name))],1):e._e(),t.goodsName?n("v-uni-view",[n("v-uni-text",{staticStyle:{color:"#999"}},[e._v("操作物料：")]),e._v(e._s(t.goodsName)+" 等...")],1):e._e(),t.beizhu?n("v-uni-view",{staticClass:"item_beizhu"},[n("v-uni-text",{staticStyle:{color:"#999"}},[e._v("备注：")]),e._v(e._s(t.beizhu))],1):e._e(),n("v-uni-view",[n("v-uni-text",{staticStyle:{color:"#999"}},[e._v("操作时间：")]),e._v(e._s(t.createdAt))],1)],1)],1),4==t.type?n("v-uni-view",{staticClass:"order_get",staticStyle:{"font-size":"20rpx",width:"120rpx","text-align":"center",border:"1rpx solid#704fbb",color:"#704fbb"}},[e._v("物料采购")]):e._e()],1)}),1)],1):n("nocontent",{attrs:{type:1}})],1),n("v-uni-view",{staticStyle:{padding:"6rpx 0","border-top":"1rpx solid#ddd"}},[n("uni-pagination",{attrs:{"show-icon":!0,total:"100000",current:e.page_num},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.change_page(t)}}})],1)],1)],1),e.showOptions?n("v-uni-view",{staticClass:"modal_background",nativeOn:{tap:function(t){t.stopPropagation(),e.showOptions=!1}}},[n("v-uni-view",{staticClass:"showOptions"},[n("v-uni-view",{staticClass:"input_item1",staticStyle:{padding:"10rpx 30rpx 10rpx","border-bottom":"1rpx solid#F7F7F7"}},[n("v-uni-view",{staticStyle:{display:"flex","align-items":"center",width:"100%"}},[n("v-uni-view",{staticClass:"left_item"},[e._v("物料名称")]),n("v-uni-view",{staticClass:"right_input"},[n("v-uni-input",{attrs:{placeholder:"物料名称"},on:{click:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t)}},model:{value:e.goodsName,callback:function(t){e.goodsName=t},expression:"goodsName"}})],1)],1)],1),n("v-uni-navigator",{staticClass:"input_item1",staticStyle:{padding:"10rpx 30rpx 10rpx","border-bottom":"1rpx solid#F7F7F7"},attrs:{"hover-class":"none",url:"/pages/manage/staff/staff?type=choose"}},[n("v-uni-view",{staticStyle:{display:"flex","align-items":"center",width:"100%"}},[n("v-uni-view",{staticClass:"left_item"},[e._v("操作者")]),n("v-uni-view",{staticClass:"right_input"},[n("v-uni-input",{attrs:{placeholder:"操作者",value:e.staff.username,disabled:"true"}})],1)],1),n("v-uni-view",[n("fa-icon",{attrs:{type:"angle-right",size:"20",color:"#999"}})],1)],1),n("v-uni-navigator",{staticClass:"input_item1",staticStyle:{padding:"10rpx 30rpx 10rpx","border-bottom":"1rpx solid#F7F7F7"},attrs:{"hover-class":"none",url:"/pages/manage/warehouse/warehouse?type=choose"}},[n("v-uni-view",{staticStyle:{display:"flex","align-items":"center",width:"100%"}},[n("v-uni-view",{staticClass:"left_item"},[e._v("仓库")]),n("v-uni-view",{staticClass:"right_input"},[n("v-uni-input",{attrs:{placeholder:"选择仓库",value:e.stock.stock_name,disabled:"true"}})],1)],1),n("v-uni-view",[n("fa-icon",{attrs:{type:"angle-right",size:"20",color:"#999"}})],1)],1),n("v-uni-view",{staticClass:"input_item1",staticStyle:{padding:"10rpx 30rpx 10rpx","border-bottom":"1rpx solid#F7F7F7"}},[n("v-uni-view",[n("v-uni-picker",{attrs:{mode:"date",value:e.option_now_day,end:e.max_day},on:{change:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.bindDateChange1.apply(void 0,arguments)},click:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t)}}},[n("v-uni-view",{staticStyle:{display:"flex","align-items":"center"}},[n("v-uni-view",{staticStyle:{"margin-right":"20rpx"}},[e._v(e._s(e.option_now_day))]),n("fa-icon",{attrs:{type:"angle-right",size:"20",color:"#999"}})],1)],1)],1),n("v-uni-view",[e._v("至")]),n("v-uni-view",[n("v-uni-picker",{attrs:{mode:"date",value:e.option_end_day,end:e.max_day},on:{change:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.bindDateChange2.apply(void 0,arguments)},click:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t)}}},[n("v-uni-view",{staticStyle:{display:"flex","align-items":"center"}},[n("v-uni-view",{staticStyle:{"margin-right":"20rpx"}},[e._v(e._s(e.option_end_day))]),n("fa-icon",{attrs:{type:"angle-right",size:"20",color:"#999"}})],1)],1)],1)],1),n("v-uni-view",{staticClass:"option_bottom"},[n("v-uni-view",{staticClass:"selection",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.option_reset.apply(void 0,arguments)}}},[e._v("重置")]),n("v-uni-view",{staticClass:"selection1",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.option_confrim.apply(void 0,arguments)}}},[e._v("确定")])],1)],1)],1):e._e()],1)},i=[];n.d(t,"a",function(){return o}),n.d(t,"b",function(){return i})},afa2:function(e,t,n){"use strict";var o=n("887f"),i=n.n(o);i.a},b582:function(e,t,n){"use strict";n.r(t);var o=n("a9b2"),i=n.n(o);for(var a in o)"default"!==a&&function(e){n.d(t,e,function(){return o[e]})}(a);t["default"]=i.a},f05c:function(e,t,n){"use strict";n.r(t);var o=n("aed5"),i=n("1f89");for(var a in i)"default"!==a&&function(e){n.d(t,e,function(){return i[e]})}(a);n("ae86");var r=n("f0c5"),s=Object(r["a"])(i["default"],o["a"],o["b"],!1,null,"e3ab5e00",null);t["default"]=s.exports}}]);