(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-finance-InRecord-InRecord"],{"114b":function(e,t,n){"use strict";(function(e){var o=n("288e");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("c5f6");var a=o(n("5d73"));n("7514");var r=o(n("795b")),i=o(n("9546")),u={get_customList:function(e,t){return new r.default(function(n,o){var a=uni.getStorageSync("uid"),r=i.default.Query("customs");r.order("num"),r.equalTo("parent","==",a),r.equalTo("disabled","==",e),t&&r.equalTo("name","==",{$regex:t+".*"}),r.find().then(function(e){n(e)})})},get_customCount:function(){return new r.default(function(e,t){var n=uni.getStorageSync("uid"),o=i.default.Query("customs");o.equalTo("parent","==",n),o.find().then(function(t){var n=t,o=!0,r=!1,u=void 0;try{for(var s,l=function(){var e=s.value,t=i.default.Query("Bills");t.equalTo("type","==",-1),t.equalTo("custom","==",e.objectId),t.find().then(function(t){e.relations=t})},c=(0,a.default)(n);!(o=(s=c.next()).done);o=!0)l()}catch(d){r=!0,u=d}finally{try{o||null==c.return||c.return()}finally{if(r)throw u}}e(n)})})},add_custom:function(t){e.log(t);var n=JSON.parse(localStorage.getItem("bmob")).objectId;return new r.default(function(o,a){var r=i.default.Pointer("_User"),u=r.set(n);if(t.objectId){var s=i.default.Query("customs");s.set("custom_name",t.custom_name),s.set("debt",Number(t.debt)),s.set("custom_address",t.custom_address),s.set("custom_phone",t.custom_phone),s.set("parent",u),s.set("disabled",!t.disabled),s.set("id",t.objectId),s.save().then(function(e){o(e)}).catch(function(t){e.log(t)})}else{var l=i.default.Query("customs");l.equalTo("parent","==",n),l.equalTo("name","==",t.custom_name),l.find().then(function(n){if(e.log(n),0==n.length){var a=i.default.Query("customs");a.set("custom_name",t.custom_name),a.set("debt",Number(t.debt)),a.set("custom_address",t.custom_address),a.set("custom_phone",t.custom_phone),a.set("have_out",0),a.set("disabled",!t.disabled),a.set("parent",u),a.save().then(function(e){o(e)}).catch(function(t){e.log(t)})}else o(!1)})}})},delete_custom:function(t){return new r.default(function(n,o){var a=i.default.Query("customs");a.destroy(t).then(function(e){n(e)}).catch(function(t){e.log(t)})})},custom_detail:function(t){return new r.default(function(n,o){var a=i.default.Query("customs");a.get(t).then(function(e){n(e)}).catch(function(t){e.log(t)})})},get_moneyList:function(t){return new r.default(function(n,o){var a=i.default.Query("order_opreations");a.equalTo("custom","==",t),a.include("opreater","account"),a.find().then(function(t){e.log(t),n(t)})})}};t.default=u}).call(this,n("5a52")["default"])},"273a":function(e,t,n){"use strict";var o=n("9236"),a=n.n(o);a.a},"46d4":function(e,t,n){"use strict";(function(e){var o=n("288e");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("c5f6");var a,r,i,u,s=o(n("5d73")),l=o(n("9546")),c=o(n("7fd5")),d=o(n("114b")),f={data:function(){return{custom:{},user:uni.getStorageSync("user"),identity:uni.getStorageSync("identity"),Images:[],account:"",button_disabled:!1,beizhu_text:"",real_money:"",nowDay:c.default.getDay(0,!0,!0),type:"",category:""}},onLoad:function(e){r=this,a=uni.getStorageSync("uid"),r.type=e.type||"","record"==e.type&&uni.removeStorageSync("custom")},onShow:function(){if(r.custom=uni.getStorageSync("custom"),r.account=uni.getStorageSync("account"),uni.getStorageSync("category"))if(r.category=uni.getStorageSync("category"),2==r.category.type){var e=l.default.Pointer("financeFristClass");i=e.set(r.category.parent.objectId);var t=l.default.Pointer("financeSecondClass");u=t.set(r.category.objectId)}else{var n=l.default.Pointer("financeFristClass");i=n.set(r.category.objectId)}},methods:{bindDateChange:function(e){r.nowDay=e.detail.value+" 00:00:00"},removeImg:function(e){r.Images.splice(e,1),r.Images=r.Images},upload_image:function(){r.user.is_vip?uni.chooseImage({count:3,sizeType:["compressed"],sourceType:["album","camera"],success:function(e){var t,n=Date.parse(new Date),o=e.tempFilePaths,a=!0,i=!1,u=void 0;try{for(var c,d=(0,s.default)(o);!(a=(c=d.next()).done);a=!0){var f=c.value;t=l.default.File(n+".jpg",f)}}catch(v){i=!0,u=v}finally{try{a||null==d.return||d.return()}finally{if(i)throw u}}t.save().then(function(e){var t=!0,n=!1,o=void 0;try{for(var a,i=(0,s.default)(e);!(t=(a=i.next()).done);t=!0){var u=a.value;r.Images.push(u.url)}}catch(v){n=!0,o=v}finally{try{t||null==i.return||i.return()}finally{if(n)throw o}}})}}):uni.showToast({title:"您还不是会员，无法使用",icon:"none"})},formSubmit:function(t){var n=this;if(r.button_disabled=!0,"record"==r.type){if(""==uni.getStorageSync("category")||void 0==uni.getStorageSync("category"))return uni.showToast({icon:"none",title:"请选择收入类别"}),void(this.button_disabled=!1)}else if(""==uni.getStorageSync("custom")||void 0==uni.getStorageSync("custom"))return uni.showToast({icon:"none",title:"请选择客户"}),void(this.button_disabled=!1);if(""==uni.getStorageSync("account")||void 0==uni.getStorageSync("account"))return uni.showToast({icon:"none",title:"请选择收款账户"}),void(this.button_disabled=!1);if(""==r.real_money)return uni.showToast({icon:"none",title:"请输入本次实收"}),void(this.button_disabled=!1);if("record"==r.type){var o=l.default.Query("accounts");o.get(r.account.objectId).then(function(t){t.set("money",t.money+Number(r.real_money)),t.save().then(function(t){var o=l.default.Pointer("accounts"),s=o.set(r.account.objectId),d=l.default.Pointer("_User"),f=d.set(a),v=uni.getStorageSync("masterId"),g=l.default.Pointer("_User"),m=g.set(v),y=l.default.Query("order_opreations");y.set("account",s),y.set("master",f),y.set("opreater",m),y.set("real_money",Number(r.real_money)),y.set("beizhu",r.beizhu_text),y.set("createdTime",{__type:"Date",iso:r.nowDay}),y.set("type",-1),y.set("extra_type",6),y.set("Images",r.Images),1==r.category.type?y.set("fristClass",i):y.set("secondClass",u),y.save().then(function(e){n.button_disabled=!1,c.default.log(uni.getStorageSync("user").nickName+"记录了收款￥"+r.real_money+"元",6,e.objectId),uni.navigateBack({delta:1}),setTimeout(function(){uni.showToast({icon:"none",title:"收款成功"})},1e3)}).catch(function(t){e.log(t)})})})}else{var s=l.default.Query("customs");s.get(r.custom.objectId).then(function(t){t.debt-Number(r.real_money)<0?(uni.showToast({icon:"none",title:"收款金额过大"}),n.button_disabled=!1):(t.set("debt",t.debt-Number(r.real_money)),t.save().then(function(t){var o=l.default.Query("accounts");o.get(r.account.objectId).then(function(t){t.set("money",t.money+Number(r.real_money)),t.save().then(function(t){var o=l.default.Pointer("customs"),i=o.set(r.custom.objectId),u=l.default.Pointer("accounts"),s=u.set(r.account.objectId),f=l.default.Pointer("_User"),v=f.set(a),g=uni.getStorageSync("masterId"),m=l.default.Pointer("_User"),y=m.set(g),h=l.default.Query("order_opreations");h.set("account",s),h.set("custom",i),h.set("master",v),h.set("opreater",y),h.set("real_money",Number(r.real_money)),h.set("beizhu",r.beizhu_text),h.set("debt",r.custom.debt||0),h.set("createdTime",{__type:"Date",iso:r.nowDay}),h.set("type",-1),h.set("extra_type",5),h.set("Images",r.Images),h.save().then(function(e){n.button_disabled=!1,d.default.custom_detail(r.custom.objectId).then(function(e){r.custom=e,c.default.log(uni.getStorageSync("user").nickName+"操作'"+r.custom.custom_name+"'客户还款￥"+r.real_money+"元",6,e.objectId),uni.navigateBack({delta:1}),setTimeout(function(){uni.showToast({icon:"none",title:"收款成功"})},1e3)})}).catch(function(t){e.log(t)})})})}))}).catch(function(t){e.log(t)})}}}};t.default=f}).call(this,n("5a52")["default"])},"66dc":function(e,t,n){t=e.exports=n("2350")(!1),t.push([e.i,".page[data-v-5f24137c]{color:#4d4d4d;font-size:%?28?%;height:calc(100vh - %?110?%);overflow:scroll}.bottomEle[data-v-5f24137c]{position:fixed;bottom:0;left:0;width:calc(100% - %?30?%);background:#fafafa;padding:%?20?% %?0?% %?20?% %?30?%;font-weight:700}.pro_list[data-v-5f24137c]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.pro_listitem[data-v-5f24137c]{background-color:#fff;padding:%?10?% %?20?%;border-bottom:%?1?% solid#ddd}.pro_allmoney[data-v-5f24137c]{background-color:#fff;padding:%?10?% %?20?%;text-align:right;font-size:%?32?%;color:#f30}.beizhu_style[data-v-5f24137c]{text-align:right;width:calc(100% - %?40?%);background-color:#fff;max-height:%?100?%;padding:%?10?% 0}.confrim_button[data-v-5f24137c]{background:#1651aa;color:#fff;font-weight:700;font-size:%?32?%;border-radius:unset;padding:0 %?50?%}",""])},"7fd5":function(e,t,n){"use strict";(function(t){var o=n("288e");n("6b54"),n("7514");var a=o(n("5d73"));n("c5f6");var r=o(n("795b")),i=o(n("9546"));e.exports={enterAddGoodNum:function(e){var n=this;return new r.default(function(o,r){for(var u=function(r){var u=0,s=i.default.Query("Goods");s.get(e[r].objectId).then(function(l){var c=l;if(e[r].selectd_model){var d=!0,f=!1,v=void 0;try{for(var g,m=(0,a.default)(e[r].selected_model);!(d=(g=m.next()).done);d=!0){var y=g.value,h=!0,p=!1,b=void 0;try{for(var _,S=(0,a.default)(c.models);!(h=(_=S.next()).done);h=!0){var w=_.value;w.id==y.id&&(w.reserve=Number(w.reserve)+Number(y.num)),delete w.num}}catch(x){p=!0,b=x}finally{try{h||null==S.return||S.return()}finally{if(p)throw b}}}}catch(x){f=!0,v=x}finally{try{d||null==m.return||m.return()}finally{if(f)throw v}}u=Number(c.reserve)+Number(e[r].num),s.set("models",c.models)}else u=Number(c.reserve)+Number(e[r].num);s.set("reserve",u),s.set("id",e[r].objectId),s.save().then(function(a){if(e[r].header){var u=i.default.Query("Goods");u.equalTo("header","==",e[r].header.objectId),u.equalTo("order","==",1),u.statTo("sum","reserve"),u.find().then(function(a){t.log("dasds",a);var u=a[0]._sumReserve,s=i.default.Query("Goods");s.set("reserve",u),s.set("id",e[r].header.objectId),s.save().then(function(t){n.modifyStockType(e[r].header.objectId),r==e.length-1&&o(!0)})})}else n.modifyStockType(e[r].objectId),r==e.length-1&&o(!0)}).catch(function(e){t.log(e)})})},s=0;s<e.length;s++)u(s)})},outRedGoodNum:function(e){var n=this;return new r.default(function(o,r){for(var u=function(r){var u=0,s=i.default.Query("Goods");s.get(e[r].objectId).then(function(l){var c=l;if(e[r].selectd_model){var d=!0,f=!1,v=void 0;try{for(var g,m=(0,a.default)(e[r].selected_model);!(d=(g=m.next()).done);d=!0){var y=g.value,h=!0,p=!1,b=void 0;try{for(var _,S=(0,a.default)(c.models);!(h=(_=S.next()).done);h=!0){var w=_.value;u+=Number(w.reserve),w.id==y.id&&(w.reserve=Number(w.reserve)-Number(y.num)),delete w.num}}catch(x){p=!0,b=x}finally{try{h||null==S.return||S.return()}finally{if(p)throw b}}}}catch(x){f=!0,v=x}finally{try{d||null==m.return||m.return()}finally{if(f)throw v}}u=Number(c.reserve)-Number(e[r].num),s.set("models",c.models)}else u=Number(c.reserve)-Number(e[r].num);s.set("reserve",u),s.set("id",e[r].objectId),s.save().then(function(t){if(e[r].header){var a=i.default.Query("Goods");a.equalTo("header","==",e[r].header.objectId),a.equalTo("order","==",1),a.statTo("sum","reserve"),a.find().then(function(t){var a=t[0]._sumReserve,u=i.default.Query("Goods");u.set("reserve",a),u.set("id",e[r].header.objectId),u.save().then(function(t){n.modifyStockType(e[r].header.objectId),r==e.length-1&&o(!0)})})}else n.modifyStockType(e[r].objectId),r==e.length-1&&o(!0)}).catch(function(e){t.log(e)})})},s=0;s<e.length;s++)u(s)})},enterAddGoodNumNew:function(e){var n=this;return new r.default(function(o,r){for(var u=uni.getStorageSync("warehouse")?uni.getStorageSync("warehouse")[0].stock:"",s=uni.getStorageSync("uid"),l=function(r){var l=0,c=i.default.Query("Goods");c.get(e[r].objectId).then(function(c){if(e[r].selectd_model){var d=!0,f=!1,v=void 0;try{for(var g,m=(0,a.default)(e[r].selected_model);!(d=(g=m.next()).done);d=!0){var y=g.value,h=!0,p=!1,b=void 0;try{for(var _,S=(0,a.default)(e[r].models);!(h=(_=S.next()).done);h=!0){var w=_.value;w.id==y.id&&(w.reserve=Number(w.reserve)+Number(y.num)),delete w.num}}catch(I){p=!0,b=I}finally{try{h||null==S.return||S.return()}finally{if(p)throw b}}}}catch(I){f=!0,v=I}finally{try{d||null==m.return||m.return()}finally{if(f)throw v}}l=Number(e[r].reserve)+Number(e[r].num),c.set("models",e[r].models)}else l=Number(e[r].reserve)+Number(e[r].num);c.set("reserve",l),c.save();var x=i.default.Query("Goods");x.equalTo("userId","==",s),x.equalTo("header","==",e[r].objectId),x.equalTo("stocks","==",u.objectId),x.find().then(function(a){if(0==a.length)n.upload_good_withNoCan(e[r],u,Number(e[r].num)).then(function(n){t.log(n),r==e.length-1&&o(!0)});else{var s=i.default.Query("Goods");s.set("id",a[0].objectId),s.set("reserve",a[0].reserve+Number(e[r].num)),s.save().then(function(n){t.log(n),r==e.length-1&&o(!0)}).catch(function(e){t.log(e)})}})}).catch(function(e){t.log(e)})},c=0;c<e.length;c++)l(c)})},outRedGoodNumNew:function(e){var n=this;return new r.default(function(o,r){for(var u=uni.getStorageSync("warehouse")?uni.getStorageSync("warehouse")[0].stock:"",s=uni.getStorageSync("uid"),l=function(r){var l=0,c=i.default.Query("Goods");c.get(e[r].objectId).then(function(c){if(e[r].selectd_model){var d=!0,f=!1,v=void 0;try{for(var g,m=(0,a.default)(e[r].selected_model);!(d=(g=m.next()).done);d=!0){var y=g.value,h=!0,p=!1,b=void 0;try{for(var _,S=(0,a.default)(e[r].models);!(h=(_=S.next()).done);h=!0){var w=_.value;w.id==y.id&&(w.reserve=Number(w.reserve)-Number(y.num)),delete w.num}}catch(I){p=!0,b=I}finally{try{h||null==S.return||S.return()}finally{if(p)throw b}}}}catch(I){f=!0,v=I}finally{try{d||null==m.return||m.return()}finally{if(f)throw v}}l=Number(e[r].reserve)-Number(e[r].num),c.set("models",e[r].models)}else l=Number(e[r].reserve)-Number(e[r].num);c.set("reserve",l),c.save();var x=i.default.Query("Goods");x.equalTo("userId","==",s),x.equalTo("header","==",e[r].objectId),x.equalTo("stocks","==",u.objectId),x.find().then(function(a){if(0==a.length)n.upload_good_withNoCan(e[r],u,Number(e[r].num),"out").then(function(n){t.log(n),r==e.length-1&&o(!0)});else{var s=i.default.Query("Goods");s.set("id",a[0].objectId),s.set("reserve",a[0].reserve-Number(e[r].num)),s.save().then(function(n){t.log(n),r==e.length-1&&o(!0)}).catch(function(e){t.log(e)})}})}).catch(function(e){t.log(e)})},c=0;c<e.length;c++)l(c)})},upload_good_withNoCan:function(e,n,o,u){return new r.default(function(r,s){var l=uni.getStorageSync("uid"),c=i.default.Pointer("_User"),d=c.set(l),f=i.default.Pointer("stocks"),v=f.set(n.objectId),g=i.default.Pointer("Goods"),m="";m=e.header?g.set(e.header.objectId):g.set(e.objectId);var y=i.default.Query("Goods");if(y.set("goodsName",e.goodsName),y.set("goodsIcon",e.goodsIcon),"out"==u){if(y.set("reserve",0-Number(o)),e.goodsId&&e.goodsId.models){var h=!0,p=!1,b=void 0;try{for(var _,S=(0,a.default)(e.goodsId.models);!(h=(_=S.next()).done);h=!0){var w=_.value;w.reserve=0-Number(w.num)}}catch(G){p=!0,b=G}finally{try{h||null==S.return||S.return()}finally{if(p)throw b}}y.set("models",e.goodsId.models)}}else if("allocation"==u){if(y.set("reserve",Number(o)),e.selected_model&&e.selected_model.length>0){var x=!0,I=!1,N=void 0;try{for(var j,k=(0,a.default)(e.selected_model);!(x=(j=k.next()).done);x=!0){var T=j.value;T.reserve=Number(T.num),delete T.num}}catch(G){I=!0,N=G}finally{try{x||null==k.return||k.return()}finally{if(I)throw N}}y.set("models",e.selected_model)}}else if(y.set("reserve",Number(o)),e.goodsId&&e.goodsId.models){var C=!0,Q=!1,F=void 0;try{for(var P,z=(0,a.default)(e.goodsId.models);!(C=(P=z.next()).done);C=!0){var q=P.value;q.reserve=Number(q.num)}}catch(G){Q=!0,F=G}finally{try{C||null==z.return||z.return()}finally{if(Q)throw F}}y.set("models",e.goodsId.models)}y.set("stocks",v),y.set("userId",d),y.set("header",m),y.set("costPrice",""+e.costPrice),y.set("retailPrice",""+e.retailPrice),y.set("order",1),y.save().then(function(e){t.log(e),r([!0,e])}).catch(function(e){t.log(e)})})},handleData:function(){uni.removeStorageSync("warehouse"),uni.removeStorageSync("stock"),uni.removeStorageSync("custom"),uni.removeStorageSync("category"),uni.removeStorageSync("class_user"),uni.removeStorageSync("second_class")},log:function(e,n,o){var a=i.default.Pointer("_User"),r=a.set(uni.getStorageSync("uid"));if(-2==n){var u=i.default.Pointer("Goods"),s=u.set(o),l=i.default.Query("logs");l.equalTo("goodId","==",o),l.find().then(function(o){if(0==o.length){var a=i.default.Query("logs");a.set("parent",r),a.set("goodId",s),a.set("log",e),a.set("type",n),a.save().then(function(e){t.log(e)}).catch(function(e){t.log(e)})}})}else{var c=i.default.Query("logs");c.set("parent",r),c.set("log",e),c.set("detail_id",o),c.set("type",n),c.save().then(function(e){t.log(e)}).catch(function(e){t.log(e)})}},modifyStockType:function(e){var n=this,o=i.default.Query("Goods");o.get(e).then(function(e){var t=e;""==t.warning_num&&""==t.max_num?e.set("stocktype",1):void 0==t.warning_num&&void 0==t.max_num?e.set("stocktype",1):null==t.warning_num&&null==t.max_num?e.set("stocktype",1):(""!=t.warning_num&&(t.warning_num>=t.reserve?(e.set("stocktype",0),n.log(t.goodsName+"已经超过设置的最小库存值"+t.warning_num,-2,t.objectId)):t.warning_num<t.reserve&&t.reserve<t.max_num&&e.set("stocktype",1)),""!=t.max_num&&(t.max_num<=t.reserve?(e.set("stocktype",2),n.log(t.goodsName+"已经超过设置的最大库存值"+t.max_num,-2,t.objectId)):t.warning_num<t.reserve&&t.reserve<t.max_num&&e.set("stocktype",1))),e.save()}).catch(function(e){t.log(e)})},record_shopOut:function(e,n){t.log(e,n);var o=i.default.Query("shops");o.set("id",e),o.set("have_out",n),o.save().then(function(e){t.log(e)}).catch(function(e){t.log(e)})},record_staffOut:function(e){if(t.log(e,uni.getStorageSync("user").have_out),1==uni.getStorageSync("identity"));else{var n=i.default.Query("_User");n.set("id",uni.getStorageSync("user").objectId),n.set("have_out",Number(e)+uni.getStorageSync("user").have_out),n.save().then(function(e){t.log(e)}).catch(function(e){t.log(e)})}},get_allCost:function(){var e=uni.getStorageSync("uid");t.log(e);var n=i.default.Query("Goods");n.equalTo("userId","==",e),n.find().then(function(e){t.log(e);var n=!0,o=!1,r=void 0;try{for(var i,u=(0,a.default)(e);!(n=(i=u.next()).done);n=!0){var s=i.value;t.log(s),Number(s.costPrice)*s.reserve,s.reserve}}catch(l){o=!0,r=l}finally{try{n||null==u.return||u.return()}finally{if(o)throw r}}})},getDay:function(e,t){var n=this,o=new Date,a=o.getTime()+864e5*e;o.setTime(a);var r=o.getFullYear(),i=o.getMonth(),u=o.getDate();return i=n.handleMonth(i+1),u=n.handleMonth(u),t?r+"-"+i+"-"+u+" 00:00:00":r+"-"+i+"-"+u},js_date_time:function(e,t){var n=new Date(e),o=n.getFullYear(),a=n.getMonth()+1;a=a<10?"0"+a:a;var r=n.getDate();r=r<10?"0"+r:r;var i=n.getHours();i=i<10?"0"+i:i;var u=n.getMinutes(),s=n.getSeconds();return u=u<10?"0"+u:u,s=s<10?"0"+s:s,t?o+"-"+a+"-"+r+" "+i+":"+u:o+"-"+a+"-"+r},handleMonth:function(e){var t=e;return 1==e.toString().length&&(t="0"+e),t}}}).call(this,n("5a52")["default"])},"8bca":function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",[n("v-uni-view",{staticClass:"page"},[n("v-uni-form",{attrs:{"report-submit":"true"},on:{submit:function(t){arguments[0]=t=e.$handleEvent(t),e.formSubmit.apply(void 0,arguments)}}},[n("v-uni-view",{staticStyle:{margin:"30rpx 0"}},[n("v-uni-view",{staticStyle:{margin:"0 0 10rpx 10rpx","font-size":"32rpx",color:"#333","font-weight":"bold"}},[e._v("基本信息")]),n("v-uni-view",{staticClass:"kaidan_detail",staticStyle:{"line-height":"70rpx"}},["record"==e.type?n("v-uni-view",[n("v-uni-navigator",{staticClass:"display_flex",staticStyle:{padding:"10rpx 0","border-bottom":"1rpx solid#F7F7F7"},attrs:{"hover-class":"none",url:"/pages/finance/inClass/inClass?type=choose"}},[n("v-uni-view",{staticStyle:{width:"160rpx"}},[e._v("收入类别"),n("v-uni-text",{staticStyle:{color:"#f30"}},[e._v("*")])],1),n("v-uni-view",{staticClass:"kaidan_rightinput display_flex",staticStyle:{width:"100%","justify-content":"flex-end"}},[n("v-uni-input",{staticStyle:{"text-align":"right","margin-right":"20rpx"},attrs:{placeholder:"选择收入类别",disabled:"true",value:e.category.class_text}}),n("fa-icon",{attrs:{type:"angle-right",size:"20",color:"#999"}})],1)],1)],1):n("v-uni-view",[n("v-uni-navigator",{staticClass:"display_flex",staticStyle:{padding:"10rpx 0","border-bottom":"1rpx solid#F7F7F7"},attrs:{"hover-class":"none",url:"/pages/manage/custom/custom?type=customFinance"}},[n("v-uni-view",{staticStyle:{width:"140rpx"}},[e._v("客户"),n("v-uni-text",{staticStyle:{color:"#f30"}},[e._v("*")])],1),n("v-uni-view",{staticClass:"kaidan_rightinput display_flex",staticStyle:{width:"100%","justify-content":"flex-end"}},[n("v-uni-input",{staticStyle:{"text-align":"right","margin-right":"20rpx"},attrs:{placeholder:"选择客户",disabled:"true",value:e.custom.custom_name}}),n("fa-icon",{attrs:{type:"angle-right",size:"20",color:"#999"}})],1)],1),n("v-uni-view",{staticClass:"display_flex_bet",staticStyle:{padding:"10rpx 0","border-bottom":"1rpx solid#F7F7F7"}},[n("v-uni-view",{staticStyle:{width:"140rpx"}},[e._v("应收欠款")]),n("v-uni-view",{staticClass:"kaidan_rightinput display_flex",staticStyle:{"justify-content":"flex-end"}},[n("v-uni-input",{staticStyle:{"text-align":"right","margin-right":"20rpx"},attrs:{placeholder:"应收欠款",disabled:"true",value:e.custom.debt||0,type:"digit"}})],1)],1)],1),n("v-uni-navigator",{staticClass:"display_flex_bet",staticStyle:{padding:"10rpx 0","border-bottom":"1rpx solid#F7F7F7"},attrs:{"hover-class":"none",url:"/pages/finance/account/account?type=choose"}},[n("v-uni-view",{staticStyle:{width:"140rpx"}},[e._v("收款账户"),n("v-uni-text",{staticStyle:{color:"#f30"}},[e._v("*")])],1),n("v-uni-view",{staticClass:"kaidan_rightinput display_flex",staticStyle:{"justify-content":"flex-end"}},[n("v-uni-input",{staticStyle:{"text-align":"right","margin-right":"20rpx"},attrs:{placeholder:"选择收款账户",disabled:"true",value:e.account?e.account.name:""}}),n("fa-icon",{attrs:{type:"angle-right",size:"20",color:"#999"}})],1)],1),n("v-uni-view",{staticClass:"display_flex_bet",staticStyle:{padding:"10rpx 0","border-bottom":"1rpx solid#F7F7F7"}},[n("v-uni-view",[e._v("本次实收"),n("v-uni-text",{staticStyle:{"font-size":"20rpx",color:"#f30"}},[e._v("*")])],1),n("v-uni-view",{staticClass:"kaidan_rightinput",staticStyle:{"text-align":"right"}},[n("v-uni-input",{staticStyle:{color:"#d71345"},attrs:{placeholder:"输入实际收款金额",type:"digit"},model:{value:e.real_money,callback:function(t){e.real_money=t},expression:"real_money"}})],1)],1),n("v-uni-view",{staticClass:"display_flex_bet",staticStyle:{padding:"10rpx 0","border-bottom":"1rpx solid#F7F7F7"}},[n("v-uni-view",{staticStyle:{width:"140rpx"}},[e._v("收款日期")]),n("v-uni-picker",{attrs:{mode:"date",value:e.nowDay,end:e.nowDay},on:{change:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.bindDateChange.apply(void 0,arguments)},click:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t)}}},[n("v-uni-view",{staticStyle:{display:"flex","align-items":"center"}},[n("v-uni-view",{staticStyle:{"margin-right":"20rpx"}},[e._v(e._s(e.nowDay.split(" ")[0]))]),n("fa-icon",{attrs:{type:"angle-right",size:"20",color:"#999"}})],1)],1)],1),n("v-uni-view",{staticClass:"display_flex_bet",staticStyle:{padding:"10rpx 0","border-bottom":"1rpx solid#F7F7F7"}},[n("v-uni-view",{staticStyle:{width:"140rpx"}},[e._v("备注")]),n("v-uni-input",{staticClass:"beizhu_style",attrs:{placeholder:"请输入备注",name:"input_beizhu"},model:{value:e.beizhu_text,callback:function(t){e.beizhu_text=t},expression:"beizhu_text"}})],1)],1)],1),n("v-uni-view",{staticStyle:{"margin-top":"20px",background:"#fff",padding:"10rpx"}},[n("v-uni-view",{staticClass:"notice_text"},[e._v("上传凭证图(会员可用)")]),n("v-uni-view",{staticStyle:{width:"100%",padding:"20rpx 0"}},[n("v-uni-view",{staticClass:"upload_image display_flex"},[e._l(e.Images,function(t,o){return e.Images&&e.Images.length>0?n("v-uni-view",{key:o,staticStyle:{position:"relative"}},[n("v-uni-image",{staticStyle:{width:"180rpx",height:"180rpx","margin-right":"10rpx"},attrs:{src:t}}),n("fa-icon",{staticStyle:{position:"absolute",top:"-10rpx",right:"-10rpx"},attrs:{type:"times-circle-o",size:"20",color:"#426ab3"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.removeImg(o)}}})],1):e._e()}),e.Images.length<3?n("v-uni-view",{staticStyle:{width:"180rpx",height:"180rpx","line-height":"220rpx","text-align":"center",border:"1rpx solid#ccc","border-radius":"16rpx"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.upload_image.apply(void 0,arguments)}}},[n("fa-icon",{attrs:{type:"plus-square-o",size:"40",color:"#426ab3"}})],1):e._e()],2)],1)],1),n("v-uni-view",{staticClass:"bottomEle display_flex_bet",staticStyle:{padding:"0 30rpx","margin-top":"60rpx"}},[n("v-uni-view",[n("v-uni-text",[e._v("本次实收：￥"+e._s(e.real_money||0))])],1),n("v-uni-view",{staticClass:"display_flex"},[n("v-uni-button",{staticClass:"confrim_button",staticStyle:{background:"#426ab3"},attrs:{disabled:e.button_disabled,"form-type":"submit","data-type":"1"}},[e._v("生成收款单")])],1)],1)],1)],1)],1)},a=[];n.d(t,"a",function(){return o}),n.d(t,"b",function(){return a})},9236:function(e,t,n){var o=n("66dc");"string"===typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);var a=n("4f06").default;a("a723f662",o,!0,{sourceMap:!1,shadowMode:!1})},a030:function(e,t,n){"use strict";n.r(t);var o=n("8bca"),a=n("df95");for(var r in a)"default"!==r&&function(e){n.d(t,e,function(){return a[e]})}(r);n("273a");var i=n("f0c5"),u=Object(i["a"])(a["default"],o["a"],o["b"],!1,null,"5f24137c",null);t["default"]=u.exports},df95:function(e,t,n){"use strict";n.r(t);var o=n("46d4"),a=n.n(o);for(var r in o)"default"!==r&&function(e){n.d(t,e,function(){return o[e]})}(r);t["default"]=a.a}}]);