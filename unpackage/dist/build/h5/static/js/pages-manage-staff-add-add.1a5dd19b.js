(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-manage-staff-add-add"],{"02b4":function(e,t,n){t=e.exports=n("2350")(!1),t.push([e.i,'.uni-collapse-cell[data-v-042c38f8]{position:relative}.uni-collapse-cell--hover[data-v-042c38f8]{background-color:#f1f1f1}.uni-collapse-cell--open[data-v-042c38f8]{background-color:#f1f1f1}.uni-collapse-cell--disabled[data-v-042c38f8]{opacity:.3}.uni-collapse-cell--animation[data-v-042c38f8]{-webkit-transition:all .3s;-o-transition:all .3s;transition:all .3s}.uni-collapse-cell[data-v-042c38f8]:after{position:absolute;z-index:3;right:0;bottom:0;left:0;height:1px;content:"";-webkit-transform:scaleY(.5);-ms-transform:scaleY(.5);transform:scaleY(.5);background-color:#c8c7cc}.uni-collapse-cell__title[data-v-042c38f8]{padding:%?24?% %?30?%;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.uni-collapse-cell__title-extra[data-v-042c38f8]{margin-right:%?18?%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.uni-collapse-cell__title-img[data-v-042c38f8]{height:%?52?%;width:%?52?%}.uni-collapse-cell__title-arrow[data-v-042c38f8]{width:20px;height:20px;-webkit-transform:rotate(0);-ms-transform:rotate(0);transform:rotate(0);-webkit-transform-origin:center center;-ms-transform-origin:center center;transform-origin:center center}.uni-collapse-cell__title-arrow.uni-active[data-v-042c38f8]{-webkit-transform:rotate(-180deg);-ms-transform:rotate(-180deg);transform:rotate(-180deg)}.uni-collapse-cell__title-inner[data-v-042c38f8]{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;overflow:hidden;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column}.uni-collapse-cell__title-text[data-v-042c38f8]{font-size:%?32?%;-o-text-overflow:ellipsis;text-overflow:ellipsis;white-space:nowrap;color:inherit;line-height:1.5;overflow:hidden}.uni-collapse-cell__content[data-v-042c38f8]{position:relative;width:100%;overflow:hidden;background:#fff}.uni-collapse-cell__content uni-view[data-v-042c38f8]{font-size:%?28?%}',""])},"12c5":function(e,t,n){var i=n("02b4");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var a=n("4f06").default;a("87ab7672",i,!0,{sourceMap:!1,shadowMode:!1})},"1dc2":function(e,t,n){var i=n("6c45");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var a=n("4f06").default;a("7769aece",i,!0,{sourceMap:!1,shadowMode:!1})},"1ec7":function(e,t,n){"use strict";var i=n("12c5"),a=n.n(i);a.a},"2d93":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",[n("v-uni-view",[n("v-uni-view",{staticClass:"display_flex item"},[n("v-uni-text",{staticStyle:{"margin-right":"20rpx"}},[e._v("姓名")]),n("v-uni-input",{staticStyle:{width:"calc(100% - 200rpx)"},attrs:{placeholder:"请输入姓名"},model:{value:e.staff_name,callback:function(t){e.staff_name=t},expression:"staff_name"}})],1),n("v-uni-view",{staticClass:"display_flex item"},[n("v-uni-text",{staticStyle:{"margin-right":"20rpx"}},[e._v("联系电话")]),n("v-uni-input",{staticStyle:{width:"calc(100% - 200rpx)"},attrs:{placeholder:"请输入电话",type:"number",maxlength:"11"},model:{value:e.staff_phone,callback:function(t){e.staff_phone=t},expression:"staff_phone"}})],1),n("v-uni-view",{staticClass:"display_flex item",staticStyle:{"margin-bottom":"60rpx"}},[n("v-uni-text",{staticStyle:{"margin-right":"20rpx"}},[e._v("联系地址")]),n("v-uni-input",{staticStyle:{width:"calc(100% - 200rpx)"},attrs:{placeholder:"请输入地址"},model:{value:e.staff_address,callback:function(t){e.staff_address=t},expression:"staff_address"}})],1),n("uni-collapse",[n("uni-collapse-item",{attrs:{"show-animation":!0,title:"管理权限"}},[n("v-uni-view",{staticStyle:{padding:"30rpx"}},[n("v-uni-checkbox-group",{on:{change:function(t){t=e.$handleEvent(t),e.checkboxChange(t)}}},e._l(e.manage,function(t,i){return n("v-uni-view",{key:i,staticClass:"display_flex rights_item"},[n("v-uni-checkbox",{attrs:{value:i,checked:t.checked}}),n("v-uni-text",[e._v(e._s(t.name))])],1)}),1)],1)],1)],1),n("v-uni-view",[n("uni-collapse",[n("uni-collapse-item",{attrs:{"show-animation":!0,title:"查看权限"}},[n("v-uni-view",{staticStyle:{padding:"30rpx"}},[n("v-uni-checkbox-group",{on:{change:function(t){t=e.$handleEvent(t),e.checkboxChange_record(t)}}},e._l(e.recode,function(t,i){return n("v-uni-view",{key:i,staticClass:"display_flex rights_item"},[n("v-uni-checkbox",{attrs:{value:i,checked:t.checked}}),n("v-uni-text",[e._v(e._s(t.name))])],1)}),1)],1)],1)],1)],1)],1)],1)},a=[];n.d(t,"a",function(){return i}),n.d(t,"b",function(){return a})},"3f3a":function(e,t,n){"use strict";n.r(t);var i=n("82ea"),a=n("80ba");for(var l in a)"default"!==l&&function(e){n.d(t,e,function(){return a[e]})}(l);n("1ec7");var o=n("2877"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,"042c38f8",null);t["default"]=s.exports},4302:function(e,t,n){"use strict";n.r(t);var i=n("5df33"),a=n.n(i);for(var l in i)"default"!==l&&function(e){n.d(t,e,function(){return i[e]})}(l);t["default"]=a.a},"4cbe":function(e,t,n){"use strict";n.r(t);var i=n("bd46"),a=n.n(i);for(var l in i)"default"!==l&&function(e){n.d(t,e,function(){return i[e]})}(l);t["default"]=a.a},"5df33":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,a,l,o=r(n("8577")),s=r(n("d7f5")),c=r(n("3f3a"));function r(e){return e&&e.__esModule?e:{default:e}}var f={},u={components:{uniCollapse:s.default,uniCollapseItem:c.default},data:function(){return{staff_name:null,staff_address:null,staff_phone:null,manage:[{id:1,name:"员工管理"},{id:2,name:"产品管理"},{id:3,name:"客户管理"},{id:4,name:"仓库管理"},{id:5,name:"产品类别管理"}],recode:[{id:1,name:"入库记录"},{id:2,name:"出库记录"},{id:3,name:"客户退货记录"},{id:4,name:"盘点记录"},{id:5,name:"货损记录"}],current:[],recodecurrent:[]}},onLoad:function(e){i=this,l=uni.getStorageSync("uid")},onShow:function(){if(a=uni.getStorageSync("staff"),a){i.staff_name=a.username,i.staff_address=a.address,i.staff_phone=a.mobilePhoneNumber;var e=!0,t=!1,n=void 0;try{for(var l,o=a.rights.current[Symbol.iterator]();!(e=(l=o.next()).done);e=!0){var s=l.value;console.log(s),i.manage[s].checked=!0}}catch(h){t=!0,n=h}finally{try{e||null==o.return||o.return()}finally{if(t)throw n}}var c=!0,r=!1,f=void 0;try{for(var u,d=a.rights.recodecurrent[Symbol.iterator]();!(c=(u=d.next()).done);c=!0){var p=u.value;i.recode[p].checked=!0}}catch(h){r=!0,f=h}finally{try{c||null==d.return||d.return()}finally{if(r)throw f}}}},methods:{checkboxChange:function(e){f.current=e.detail.value},checkboxChange_record:function(e){f.recodecurrent=e.detail.value},add_data:function(){if(uni.showLoading({title:"上传中..."}),a){uni.hideLoading();var e=uni.getStorageSync("uid"),t=o.default.Pointer("_User"),n=t.set(e),s=o.default.Query("staffs");s.set("username",i.staff_name),s.set("nickName",i.staff_name),s.set("password",i.staff_phone),s.set("mobilePhoneNumber",i.staff_phone),s.set("rights",f),s.set("address",null==i.staff_address?"":i.staff_address),s.set("masterId",n),s.set("id",a.objectId),s.save().then(function(e){console.log(e),uni.showToast({title:"修改成功"})}).catch(function(e){console.log(e)})}else{var c=o.default.Query("staffs");c.equalTo("masterId","==",l),c.equalTo("mobilePhoneNumber","==",i.staff_phone),c.find().then(function(e){if(console.log(e),0==e.length){uni.hideLoading();var t=uni.getStorageSync("uid"),n=o.default.Pointer("_User"),a=n.set(t),l=o.default.Query("staffs");l.set("username",i.staff_name),l.set("nickName",i.staff_name),l.set("password",i.staff_phone),l.set("mobilePhoneNumber",i.staff_phone),l.set("rights",f),l.set("address",null==i.staff_address?"":i.staff_address),l.set("masterId",a),l.save().then(function(e){console.log(e),uni.showToast({title:"添加成功"})}).catch(function(e){console.log(e)})}else uni.showToast({title:"已存在此账号",icon:"none"})})}}}};t.default=u},"6c45":function(e,t,n){t=e.exports=n("2350")(!1),t.push([e.i,"uni-page-body[data-v-fb35c82e]{background:#fafafa}.item[data-v-fb35c82e]{padding:%?20?% %?30?%;background:#fff}.rights_item[data-v-fb35c82e]{margin-bottom:%?20?%}body.?%PAGE?%[data-v-fb35c82e]{background:#fafafa}",""])},7264:function(e,t,n){"use strict";var i=n("abc7"),a=n.n(i);a.a},"78f5":function(e,t,n){"use strict";n.r(t);var i=n("2d93"),a=n("4302");for(var l in a)"default"!==l&&function(e){n.d(t,e,function(){return a[e]})}(l);n("82d1");var o=n("2877"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,"fb35c82e",null);t["default"]=s.exports},"80ba":function(e,t,n){"use strict";n.r(t);var i=n("ec7b"),a=n.n(i);for(var l in i)"default"!==l&&function(e){n.d(t,e,function(){return i[e]})}(l);t["default"]=a.a},"82d1":function(e,t,n){"use strict";var i=n("1dc2"),a=n.n(i);a.a},"82ea":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{class:["uni-collapse-cell",{"uni-collapse-cell--disabled":e.disabled,"uni-collapse-cell--open":e.isOpen}],attrs:{"hover-class":e.disabled?"":"uni-collapse-cell--hover"}},[n("v-uni-view",{staticClass:"uni-collapse-cell__title",on:{click:function(t){t=e.$handleEvent(t),e.onClick(t)}}},[e.thumb?n("v-uni-view",{staticClass:"uni-collapse-cell__title-extra"},[n("v-uni-image",{staticClass:"uni-collapse-cell__title-img",attrs:{src:e.thumb}})],1):e._e(),n("v-uni-view",{staticClass:"uni-collapse-cell__title-inner"},[n("v-uni-view",{staticClass:"uni-collapse-cell__title-text"},[e._v(e._s(e.title))])],1),n("v-uni-view",{staticClass:"uni-collapse-cell__title-arrow",class:{"uni-active":e.isOpen,"uni-collapse-cell--animation":!0===e.showAnimation}},[n("uni-icon",{attrs:{color:"#bbb",size:"20",type:"arrowdown"}})],1)],1),n("v-uni-view",{staticClass:"uni-collapse-cell__content",class:{"uni-collapse-cell--animation":!0===e.showAnimation},style:{height:e.isOpen?e.height:"0px"}},[n("v-uni-view",{attrs:{id:e.elId}},[e._t("default")],2)],1)],1)},a=[];n.d(t,"a",function(){return i}),n.d(t,"b",function(){return a})},abc7:function(e,t,n){var i=n("c0aa");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var a=n("4f06").default;a("459a0d38",i,!0,{sourceMap:!1,shadowMode:!1})},bd46:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={name:"UniCollapse",props:{accordion:{type:Boolean,default:!1}},data:function(){return{}},provide:function(){return{collapse:this}},created:function(){this.childrens=[]},methods:{onChange:function(){var e=[];this.childrens.forEach(function(t,n){t.isOpen&&e.push(t.nameSync)}),this.$emit("change",e)}}};t.default=i},c0aa:function(e,t,n){t=e.exports=n("2350")(!1),t.push([e.i,'.uni-collapse[data-v-bab9faf0]{background-color:#fff;position:relative;width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column}.uni-collapse[data-v-bab9faf0]:after{position:absolute;z-index:10;right:0;bottom:0;left:0;height:1px;content:"";-webkit-transform:scaleY(.5);-ms-transform:scaleY(.5);transform:scaleY(.5);background-color:#c8c7cc}.uni-collapse[data-v-bab9faf0]:before{position:absolute;z-index:10;right:0;top:0;left:0;height:1px;content:"";-webkit-transform:scaleY(.5);-ms-transform:scaleY(.5);transform:scaleY(.5);background-color:#c8c7cc}',""])},d7f5:function(e,t,n){"use strict";n.r(t);var i=n("ffab"),a=n("4cbe");for(var l in a)"default"!==l&&function(e){n.d(t,e,function(){return a[e]})}(l);n("7264");var o=n("2877"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,"bab9faf0",null);t["default"]=s.exports},ec7b:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n("ad7b"));function a(e){return e&&e.__esModule?e:{default:e}}var l={name:"UniCollapseItem",components:{uniIcon:i.default},props:{title:{type:String,default:""},name:{type:[Number,String],default:0},disabled:{type:Boolean,default:!1},showAnimation:{type:Boolean,default:!1},open:{type:Boolean,default:!1},thumb:{type:String,default:""}},data:function(){var e=this.__call_hook?"uni_collapse_item":"Uni_".concat(Math.ceil(1e6*Math.random()).toString(36));return{isOpen:!1,height:"auto",elId:e}},watch:{open:function(e){this.isOpen=e}},inject:["collapse"],created:function(){if(this.isOpen=this.open,this.nameSync=this.name?this.name:this.collapse.childrens.length,this.collapse.childrens.push(this),this.collapse.accordion&&this.isOpen){var e=this.collapse.childrens[this.collapse.childrens.length-2];e&&(this.collapse.childrens[this.collapse.childrens.length-2].isOpen=!1)}},mounted:function(){this.getSize()},methods:{getSize:function(){var e=this;this.showAnimation&&uni.createSelectorQuery().in(this).select("#".concat(this.elId)).boundingClientRect().exec(function(t){e.height=t[0].height+"px"})},onClick:function(){var e=this;this.disabled||(this.collapse.accordion&&this.collapse.childrens.forEach(function(t){t!==e&&(t.isOpen=!1)}),this.isOpen=!this.isOpen,this.collapse.onChange&&this.collapse.onChange())}}};t.default=l},ffab:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"uni-collapse"},[e._t("default")],2)},a=[];n.d(t,"a",function(){return i}),n.d(t,"b",function(){return a})}}]);