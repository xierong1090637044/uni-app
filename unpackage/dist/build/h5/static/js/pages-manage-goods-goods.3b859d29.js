(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-manage-goods-goods"],{"0a39":function(t,e,n){"use strict";n.r(e);var i=n("3212"),a=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,function(){return i[t]})}(o);e["default"]=a.a},"12d4":function(t,e,n){var i=n("45e1");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("b0750ea6",i,!0,{sourceMap:!1,shadowMode:!1})},3212:function(t,e,n){},"388d":function(t,e,n){"use strict";var i=n("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=i(n("5d73"));n("7514");var o,c,r=i(n("0914")),s=i(n("524a")),l=i(n("b92d")),u=i(n("5753")),d="",f=50,v={components:{loading:s.default,uniNavBar:l.default,faIcon:r.default,uniIcon:u.default},data:function(){return{showOptions:!1,loading:!0,productList:null,checked_option:"createdAt",category:"",stock:"",checked:!1}},onLoad:function(){c=this,uni.removeStorageSync("category"),uni.removeStorageSync("warehouse"),o=uni.getStorageSync("uid"),c.get_productList()},onShow:function(){uni.removeStorageSync("now_product"),uni.getStorageSync("category")&&(c.showOptions=!0,c.category=uni.getStorageSync("category")),uni.getStorageSync("warehouse")&&(c.showOptions=!0,c.stock=uni.getStorageSync("warehouse")[uni.getStorageSync("warehouse").length-1].stock),uni.getStorageSync("is_add")&&c.get_productList()},onUnload:function(){common.handleData(),d="",f=50,uni.removeStorageSync("is_add")},methods:{change_timestatus:function(t){console.log(t),c.checked=t.detail.value},input_confirm:function(t){console.log(t),d=t.detail.value,c.get_productList()},shaixuan:function(){c.showOptions=!0},goto_add:function(){this.goAdd()},option_reset:function(){uni.removeStorageSync("category"),uni.removeStorageSync("warehouse"),c.category="",c.stock="",c.showOptions=!1,c.get_productList()},option_confrim:function(){uni.getStorageSync("category")&&(c.category=uni.getStorageSync("category")),uni.getStorageSync("warehouse")&&(c.stock=uni.getStorageSync("warehouse")[uni.getStorageSync("warehouse").length-1].stock),c.showOptions=!1,c.get_productList()},selectd:function(t){f=50,c.checked_option=t,c.get_productList()},load_more:function(){f+=50,c.get_productList()},goDetail:function(t){console.log(t),uni.setStorageSync("now_product",t),uni.navigateTo({url:"../good_det/good_det"})},goAdd:function(){uni.navigateTo({url:"../good_add/good_add"})},get_productList:function(){var t=this,e=Bmob.Query("Goods");if(e.equalTo("userId","==",o),e.equalTo("stocks","==",c.stock.objectId),e.equalTo("status","!=",-1),e.equalTo("second_class","==",c.category.objectId),e.equalTo("goodsName","==",{$regex:d+".*"}),c.checked){var n=Date.parse(new Date);e.equalTo("bad_time","<=",n)}e.limit(f),e.order("-"+c.checked_option),e.include("userId","goodsClass","stocks","second_class"),e.find().then(function(e){var n=!0,i=!1,o=void 0;try{for(var c,r=(0,a.default)(e);!(n=(c=r.next()).done);n=!0){var s=c.value;if(s.stocks);else{var l={stock_name:""};s.stocks=l}}}catch(u){i=!0,o=u}finally{try{n||null==r.return||r.return()}finally{if(i)throw o}}t.productList=e,t.loading=!1})}}};e.default=v},4404:function(t,e,n){"use strict";n.r(e);var i=n("a340"),a=n("50fc");for(var o in a)"default"!==o&&function(t){n.d(e,t,function(){return a[t]})}(o);n("b611");var c=n("2877"),r=Object(c["a"])(a["default"],i["a"],i["b"],!1,null,"ab2e7a1c",null);e["default"]=r.exports},"45e1":function(t,e,n){e=t.exports=n("2350")(!1),e.push([t.i,".uni-status-bar[data-v-0e05f980]{display:block;width:100%;height:20px;height:0}",""])},"4d05":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"uni-navbar"},[n("v-uni-view",{staticClass:"uni-navbar__content",class:{"uni-navbar--fixed":t.fixed,"uni-navbar--shadow":t.border,"uni-navbar--border":t.border},style:{"background-color":t.backgroundColor}},[t.statusBar?n("uni-status-bar"):t._e(),n("v-uni-view",{staticClass:"uni-navbar__header",style:{color:t.color}},[n("v-uni-view",{staticClass:"uni-navbar__header-btns",on:{click:function(e){e=t.$handleEvent(e),t.onClickLeft(e)}}},[t.leftIcon.length?n("v-uni-view",[n("uni-icon",{attrs:{type:t.leftIcon,color:t.color,size:"24"}})],1):t._e(),t.leftText.length?n("v-uni-view",{staticClass:"uni-navbar-btn-text",class:{"uni-navbar-btn-icon-left":!t.leftIcon.length}},[t._v(t._s(t.leftText))]):t._e(),t._t("left")],2),n("v-uni-view",{staticClass:"uni-navbar__header-container"},[t.title.length?n("v-uni-view",{staticClass:"uni-navbar__header-container-inner"},[t._v(t._s(t.title))]):t._e(),t._t("default")],2),n("v-uni-view",{staticClass:"uni-navbar__header-btns",on:{click:function(e){e=t.$handleEvent(e),t.onClickRight(e)}}},[t.rightIcon.length?n("v-uni-view",[n("uni-icon",{attrs:{type:t.rightIcon,color:t.color,size:"24"}})],1):t._e(),t.rightText.length&&!t.rightIcon.length?n("v-uni-view",{staticClass:"uni-navbar-btn-text"},[t._v(t._s(t.rightText))]):t._e(),t._t("right")],2)],1)],1),t.fixed?n("v-uni-view",{staticClass:"uni-navbar__placeholder"},[t.statusBar?n("uni-status-bar"):t._e(),n("v-uni-view",{staticClass:"uni-navbar__placeholder-view"})],1):t._e()],1)},a=[];n.d(e,"a",function(){return i}),n.d(e,"b",function(){return a})},"50fc":function(t,e,n){"use strict";n.r(e);var i=n("388d"),a=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,function(){return i[t]})}(o);e["default"]=a.a},"524a":function(t,e,n){"use strict";n.r(e);var i=n("c636"),a=n("0a39");for(var o in a)"default"!==o&&function(t){n.d(e,t,function(){return a[t]})}(o);n("f68d");var c=n("2877"),r=Object(c["a"])(a["default"],i["a"],i["b"],!1,null,"11ff4219",null);e["default"]=r.exports},6225:function(t,e,n){"use strict";var i=n("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=i(n("8f52")),o=i(n("5753")),c={name:"UniNavBar",components:{uniStatusBar:a.default,uniIcon:o.default},props:{title:{type:String,default:""},leftText:{type:String,default:""},rightText:{type:String,default:""},leftIcon:{type:String,default:""},rightIcon:{type:String,default:""},fixed:{type:Boolean,default:!1},color:{type:String,default:"#000000"},backgroundColor:{type:String,default:"#FFFFFF"},statusBar:{type:Boolean,default:!1},shadow:{type:Boolean,default:!0},border:{type:Boolean,default:!0}},methods:{onClickLeft:function(){this.$emit("click-left")},onClickRight:function(){this.$emit("click-right")}}};e.default=c},7183:function(t,e,n){e=t.exports=n("2350")(!1),e.push([t.i,'.uni-navbar__content[data-v-11835227]{display:block;position:relative;width:100%;background-color:#fff;overflow:hidden;padding:0 %?30?%;width:calc(100% - %?60?%)}.uni-navbar__content uni-view[data-v-11835227]{line-height:%?78?%}.uni-navbar__header[data-v-11835227]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;width:100%;height:%?78?%;line-height:%?78?%;font-size:%?26?%;font-weight:700;color:#333}.uni-navbar__header-btns[data-v-11835227]{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-flex-wrap:nowrap;-ms-flex-wrap:nowrap;flex-wrap:nowrap;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;padding:0 %?12?%}.uni-navbar__header-btns[data-v-11835227]:first-child{padding-left:0}.uni-navbar__header-btns[data-v-11835227]:last-child{text-align:right}.uni-navbar__header-container[data-v-11835227]{width:100%;margin:0 %?10?%}.uni-navbar__header-container-inner[data-v-11835227]{font-size:%?30?%;text-align:center;padding-right:%?60?%}.uni-navbar__placeholder-view[data-v-11835227]{height:%?88?%}.uni-navbar--fixed[data-v-11835227]{position:fixed;z-index:998}.uni-navbar--shadow[data-v-11835227]{-webkit-box-shadow:0 1px 6px #ccc;box-shadow:0 1px 6px #ccc}.uni-navbar--border[data-v-11835227]:after{position:absolute;z-index:3;bottom:0;left:0;right:0;height:1px;content:"";-webkit-transform:scaleY(.5);-ms-transform:scaleY(.5);transform:scaleY(.5);background-color:#c8c7cc}',""])},"8e11":function(t,e,n){"use strict";n.r(e);var i=n("6225"),a=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,function(){return i[t]})}(o);e["default"]=a.a},"8f52":function(t,e,n){"use strict";n.r(e);var i=n("f1db"),a=n("d5c0");for(var o in a)"default"!==o&&function(t){n.d(e,t,function(){return a[t]})}(o);n("c47b");var c=n("2877"),r=Object(c["a"])(a["default"],i["a"],i["b"],!1,null,"0e05f980",null);e["default"]=r.exports},9257:function(t,e,n){e=t.exports=n("2350")(!1),e.push([t.i,".Loading_view[data-v-11ff4219]{height:100vh;width:100%;text-align:center;background:#fff}.loading_image[data-v-11ff4219]{width:%?200?%;height:%?200?%;margin-top:50%}",""])},9402:function(t,e,n){e=t.exports=n("2350")(!1),e.push([t.i,'@charset "UTF-8";\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */uni-page-body[data-v-ab2e7a1c]{background:#fff}.text_notice[data-v-ab2e7a1c]{margin-left:%?6?%}.content[data-v-ab2e7a1c]{height:100%;overflow:hidden}.uni-product-list[data-v-ab2e7a1c]{padding:0 %?10?%;width:calc(100% - %?20?%);height:calc(100vh - %?164?%)}.uni-product[data-v-ab2e7a1c]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;padding:%?10?% 0;border-bottom:1px solid #ddd;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.product_image[data-v-ab2e7a1c]{width:%?80?%;height:%?80?%}.product_name[data-v-ab2e7a1c]{font-weight:700;color:#333}.product_reserve[data-v-ab2e7a1c]{color:#6c757d;font-size:%?24?%;font-weight:700}.title[data-v-ab2e7a1c]{font-size:15px;line-height:20px;color:#333;padding:15px}.city[data-v-ab2e7a1c]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;width:100%;margin-left:8px;white-space:nowrap}.input-view[data-v-ab2e7a1c]{width:92%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;background-color:#e7e7e7;height:30px;border-radius:15px;padding:0 4%;-webkit-flex-wrap:nowrap;-ms-flex-wrap:nowrap;flex-wrap:nowrap;margin:%?8?% 0;line-height:30px}.input-view .uni-icon[data-v-ab2e7a1c]{line-height:30px!important}.input-view .input[data-v-ab2e7a1c]{height:30px;line-height:30px;width:94%;padding:0 3%}body.?%PAGE?%[data-v-ab2e7a1c]{background:#fff}',""])},"9cff":function(t,e,n){var i=n("7183");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("7b3858a8",i,!0,{sourceMap:!1,shadowMode:!1})},a288:function(t,e,n){"use strict";var i=n("9cff"),a=n.n(i);a.a},a340:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"page"},[t.loading?n("loading"):n("v-uni-view",{staticClass:"content"},[n("uni-nav-bar",{attrs:{fixed:!1,color:"#333333","background-color":"#FFFFFF","right-text":"添加","left-text":"筛选"},on:{"click-left":function(e){e=t.$handleEvent(e),t.shaixuan(e)},"click-right":function(e){e=t.$handleEvent(e),t.goto_add(e)}}},[n("v-uni-view",{staticClass:"input-view"},[n("uni-icon",{attrs:{type:"search",size:"22",color:"#666666"}}),n("v-uni-input",{staticClass:"input",attrs:{"confirm-type":"search",type:"text",placeholder:"输入搜索关键词"},on:{confirm:function(e){e=t.$handleEvent(e),t.input_confirm(e)}}})],1)],1),n("v-uni-view",{staticClass:"display_flex good_option_view"},[n("v-uni-view",{staticClass:"good_option",on:{click:function(e){e=t.$handleEvent(e),t.selectd("createdAt")}}},[n("v-uni-text",{class:"createdAt"==t.checked_option?"option_selected":""},[t._v("创建时间")]),"createdAt"==t.checked_option?n("fa-icon",{attrs:{type:"check",size:"20",color:"#1d953f"}}):t._e()],1),n("v-uni-view",{staticClass:"good_option",on:{click:function(e){e=t.$handleEvent(e),t.selectd("goodsName")}}},[n("v-uni-text",{class:"goodsName"==t.checked_option?"option_selected":""},[t._v("名字")]),"goodsName"==t.checked_option?n("fa-icon",{attrs:{type:"check",size:"20",color:"#1d953f"}}):t._e()],1),n("v-uni-view",{staticClass:"good_option",on:{click:function(e){e=t.$handleEvent(e),t.selectd("reserve")}}},[n("v-uni-text",{class:"reserve"==t.checked_option?"option_selected":""},[t._v("库存")]),"reserve"==t.checked_option?n("fa-icon",{attrs:{type:"check",size:"20",color:"#1d953f"}}):t._e()],1)],1),n("v-uni-scroll-view",{staticClass:"uni-product-list",attrs:{"scroll-y":""},on:{scrolltolower:function(e){e=t.$handleEvent(e),t.load_more(e)}}},t._l(t.productList,function(e,i){return n("v-uni-view",{key:i,staticClass:"uni-product"},[n("v-uni-view",[e.goodsIcon?n("v-uni-image",{staticClass:"product_image",attrs:{src:e.goodsIcon,mode:"widthFix","lazy-load":"true"}}):n("v-uni-image",{staticClass:"product_image",attrs:{src:"/static/goods-default.png",mode:"widthFix","lazy-load":"true"}})],1),n("v-uni-view",{staticStyle:{"margin-left":"20rpx",width:"100%","line-height":"40rpx"},on:{click:function(n){n=t.$handleEvent(n),t.goDetail(e)}}},[n("v-uni-view",{staticClass:"product_name",staticStyle:{"font-size":"30rpx"}},[t._v(t._s(e.goodsName))]),e.stocks.stock_name?n("v-uni-view",{staticClass:"product_reserve"},[t._v("所存仓库:"),n("v-uni-text",{staticClass:"text_notice"},[t._v(t._s(e.stocks.stock_name))])],1):t._e(),n("v-uni-view",{staticClass:"product_reserve"},[t._v("库存数量:"),n("v-uni-text",{staticClass:"text_notice"},[t._v(t._s(e.reserve))])],1),n("v-uni-view",{staticClass:"product_reserve"},[t._v("创建时间:"),n("v-uni-text",{staticClass:"text_notice"},[t._v(t._s(e.createdAt))])],1)],1),n("fa-icon",{attrs:{type:"angle-right",size:"20",color:"#426ab3"}})],1)}),1)],1),t.showOptions?n("v-uni-view",{staticClass:"modal_background",on:{click:function(e){e=t.$handleEvent(e),t.showOptions=!1}}},[n("v-uni-view",{staticClass:"showOptions"},[n("v-uni-navigator",{staticClass:"input_item1",attrs:{"hover-class":"none",url:"/pages/manage/category/category?type=choose"}},[n("v-uni-view",{staticStyle:{display:"flex","align-items":"center",width:"100%"}},[n("v-uni-view",{staticClass:"left_item"},[t._v("类别")]),n("v-uni-view",{staticClass:"right_input"},[n("v-uni-input",{attrs:{placeholder:"产品类别",value:t.category.class_text,disabled:"true"}})],1)],1),n("v-uni-view",[n("fa-icon",{attrs:{type:"angle-right",size:"20",color:"#999"}})],1)],1),n("v-uni-navigator",{staticClass:"input_item1",attrs:{"hover-class":"none",url:"/pages/manage/warehouse/warehouse?type=choose"}},[n("v-uni-view",{staticStyle:{display:"flex","align-items":"center",width:"100%"}},[n("v-uni-view",{staticClass:"left_item"},[t._v("仓库")]),n("v-uni-view",{staticClass:"right_input"},[n("v-uni-input",{attrs:{placeholder:"存放仓库",value:t.stock.stock_name,disabled:"true"}})],1)],1),n("v-uni-view",[n("fa-icon",{attrs:{type:"angle-right",size:"20",color:"#999"}})],1)],1),n("v-uni-view",{staticClass:"display_flex",staticStyle:{padding:"0 30rpx","margin-top":"10rpx"}},[n("v-uni-view",[t._v("是否失效")]),n("v-uni-view",{staticStyle:{"margin-left":"30rpx"},on:{click:function(e){e.stopPropagation(),e=t.$handleEvent(e)}}},[n("v-uni-switch",{attrs:{checked:t.checked},on:{change:function(e){e=t.$handleEvent(e),t.change_timestatus(e)}}})],1)],1),n("v-uni-view",{staticClass:"option_bottom"},[n("v-uni-view",{staticClass:"selection",on:{click:function(e){e=t.$handleEvent(e),t.option_reset(e)}}},[t._v("重置")]),n("v-uni-view",{staticClass:"selection1",on:{click:function(e){e=t.$handleEvent(e),t.option_confrim(e)}}},[t._v("确定")])],1)],1)],1):t._e()],1)},a=[];n.d(e,"a",function(){return i}),n.d(e,"b",function(){return a})},b611:function(t,e,n){"use strict";var i=n("c575"),a=n.n(i);a.a},b871:function(t,e,n){var i=n("9257");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("0d0cf901",i,!0,{sourceMap:!1,shadowMode:!1})},b92d:function(t,e,n){"use strict";n.r(e);var i=n("4d05"),a=n("8e11");for(var o in a)"default"!==o&&function(t){n.d(e,t,function(){return a[t]})}(o);n("a288");var c=n("2877"),r=Object(c["a"])(a["default"],i["a"],i["b"],!1,null,"11835227",null);e["default"]=r.exports},c47b:function(t,e,n){"use strict";var i=n("12d4"),a=n.n(i);a.a},c575:function(t,e,n){var i=n("9402");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("57a70178",i,!0,{sourceMap:!1,shadowMode:!1})},c636:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"Loading_view"},[n("v-uni-image",{staticClass:"loading_image",attrs:{src:"/static/timg.gif"}}),n("v-uni-view",{staticStyle:{color:"#999","margin-top":"3%"}},[t._v("加载中...")])],1)},a=[];n.d(e,"a",function(){return i}),n.d(e,"b",function(){return a})},d5c0:function(t,e,n){"use strict";n.r(e);var i=n("d6cc"),a=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,function(){return i[t]})}(o);e["default"]=a.a},d6cc:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=uni.getSystemInfoSync().statusBarHeight+"px",a={name:"UniStatusBar",data:function(){return{statusBarHeight:i}}};e.default=a},f1db:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"uni-status-bar",style:{height:t.statusBarHeight}},[t._t("default")],2)},a=[];n.d(e,"a",function(){return i}),n.d(e,"b",function(){return a})},f68d:function(t,e,n){"use strict";var i=n("b871"),a=n.n(i);a.a}}]);