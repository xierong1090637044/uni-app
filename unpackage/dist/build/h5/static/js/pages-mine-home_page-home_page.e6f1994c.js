(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-mine-home_page-home_page"],{"00ab":function(t,e,n){"use strict";(function(t){var i=n("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("c5f6");var a,o=i(n("eaf0")),s=i(n("906f")),r=i(n("ca83")),u=i(n("93e8")),c=i(n("adae")),l={components:{faIcon:o.default,uniPopup:c.default},data:function(){return{userInfo:"",modal_show:!1,identity:uni.getStorageSync("identity"),sexs:["男","女"]}},onLoad:function(){a=this},onShow:function(){a.userInfo=uni.getStorageSync("user"),a.userInfo.vip_time=u.default.js_date_time(a.userInfo.vip_time)},methods:{setheaderimg:function(){1==a.identity?uni.chooseImage({count:1,sizeType:["compressed"],sourceType:["album","camera"],success:function(e){var n;t.log(e),n=s.default.File(a.userInfo.nickName+".png",e.tempFilePaths[0]),n.save().then(function(e){t.log("图片地址",e),a.userInfo.avatarUrl=e[0].url,r.default.update_user(a.userInfo).then(function(t){t&&uni.setStorageSync("user",a.userInfo)})})}}):uni.showToast({title:"员工暂不支持修改",icon:"none"})},confrim_username:function(){1==a.identity?r.default.update_user(a.userInfo).then(function(t){t&&(uni.showToast({title:"修改成功",icon:"none"}),a.modal_show=!1,uni.setStorageSync("user",a.userInfo),a.userInfo=uni.getStorageSync("user"))}):uni.showToast({title:"员工暂不支持修改",icon:"none"})},chooseSex:function(t){var e=Number(t.detail.value)+1;a.userInfo.sex=e,1==a.identity?r.default.update_user(a.userInfo).then(function(t){t&&(uni.showToast({title:"修改成功",icon:"none"}),uni.setStorageSync("user",a.userInfo),a.userInfo=uni.getStorageSync("user"))}):uni.showToast({title:"员工暂不支持修改",icon:"none"})}}};e.default=l}).call(this,n("5a52")["default"])},"0bd1":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",[n("v-uni-view",{staticClass:"frist"},[n("v-uni-view",{staticClass:"display_flex_bet item",on:{click:function(e){e=t.$handleEvent(e),t.setheaderimg()}}},[n("v-uni-view",[t._v("头像")]),n("v-uni-view",{staticClass:"display_flex"},[n("v-uni-image",{staticClass:"avatar",attrs:{src:t.userInfo.avatarUrl}}),n("fa-icon",{staticStyle:{"margin-left":"10rpx"},attrs:{type:"angle-right",size:"18",color:"#999"}})],1)],1),n("v-uni-view",{staticClass:"display_flex_bet item1",on:{click:function(e){e=t.$handleEvent(e),t.modal_show=!0}}},[n("v-uni-view",[t._v("昵称")]),n("v-uni-view",{staticClass:"display_flex right_item"},[n("v-uni-text",[t._v(t._s(t.userInfo.nickName))]),n("fa-icon",{staticStyle:{"margin-left":"10rpx"},attrs:{type:"angle-right",size:"18",color:"#999"}})],1)],1),n("v-uni-picker",{attrs:{range:t.sexs},on:{change:function(e){e=t.$handleEvent(e),t.chooseSex(e)}}},[n("v-uni-view",{staticClass:"display_flex_bet item1"},[n("v-uni-view",[t._v("性别")]),n("v-uni-view",{staticClass:"display_flex right_item"},[1==t.userInfo.sex?n("v-uni-text",[t._v("男")]):n("v-uni-text",[t._v("女")]),n("fa-icon",{staticStyle:{"margin-left":"10rpx"},attrs:{type:"angle-right",size:"18",color:"#999"}})],1)],1)],1)],1),n("v-uni-view",{staticClass:"frist",staticStyle:{"margin-top":"20rpx"}},[n("v-uni-view",{staticClass:"display_flex_bet item1"},[n("v-uni-view",[t._v("手机号")]),n("v-uni-view",{staticClass:"display_flex right_item"},[n("v-uni-text",[t._v(t._s(t.userInfo.mobilePhoneNumber))]),n("fa-icon",{staticStyle:{"margin-left":"10rpx"},attrs:{type:"angle-right",size:"18",color:"#999"}})],1)],1),n("v-uni-navigator",{staticClass:"display_flex_bet item1",attrs:{"hover-class":"none",url:"/pages/mine/vip/vip"}},[n("v-uni-view",[t._v("是否已是会员")]),t.userInfo.is_vip?n("v-uni-view",{staticClass:"display_flex right_item"},[n("v-uni-text",[t._v("是")]),n("fa-icon",{staticStyle:{"margin-left":"10rpx"},attrs:{type:"angle-right",size:"18",color:"#999"}})],1):n("v-uni-view",{staticClass:"display_flex right_item"},[n("v-uni-text",{staticStyle:{color:"#426ab3"}},[t._v("成为会员")]),n("fa-icon",{staticStyle:{"margin-left":"10rpx"},attrs:{type:"angle-right",size:"18",color:"#999"}})],1)],1),t.userInfo.is_vip?n("v-uni-view",{staticClass:"display_flex_bet item1"},[n("v-uni-view",[t._v("会员截止日期")]),n("v-uni-view",{staticClass:"display_flex right_item"},[n("v-uni-text",[t._v(t._s(t.userInfo.vip_time))])],1)],1):t._e()],1),n("uni-popup",{attrs:{show:t.modal_show,position:"middle",mode:"fixed",h5Top:!0},on:{hidePopup:function(e){e=t.$handleEvent(e),t.modal_show=!1}}},[n("v-uni-view",{staticStyle:{width:"500rpx"}},[n("v-uni-view",{staticClass:"display_flex",staticStyle:{"border-bottom":"1rpx solid#ccc"}},[n("v-uni-input",{staticClass:"uni-input",attrs:{placeholder:t.userInfo.nickName},model:{value:t.userInfo.nickName,callback:function(e){t.$set(t.userInfo,"nickName",e)},expression:"userInfo.nickName"}})],1),n("v-uni-view",{staticClass:"modal_confrimbutton",on:{click:function(e){e=t.$handleEvent(e),t.confrim_username(e)}}},[t._v("确定")])],1)],1)],1)},a=[];n.d(e,"a",function(){return i}),n.d(e,"b",function(){return a})},"0c94":function(t,e,n){"use strict";var i=n("5b1d"),a=n.n(i);a.a},"12ad":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",[n("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"uni-mask",style:{top:t.offsetTop+"px"},on:{click:function(e){e=t.$handleEvent(e),t.hide(e)},touchmove:function(e){e.stopPropagation(),e.preventDefault(),e=t.$handleEvent(e),t.moveHandle(e)}}}),n("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"uni-popup",class:"uni-popup-"+t.position+" uni-popup-"+t.mode},[t._v(t._s(t.msg)),t._t("default"),"middle"===t.position&&"insert"===t.mode?n("v-uni-view",{staticClass:" uni-icon uni-icon-close",class:{"uni-close-bottom":"bottom"===t.buttonMode,"uni-close-right":"right"===t.buttonMode},on:{click:function(e){e=t.$handleEvent(e),t.closeMask(e)}}}):t._e()],2)],1)},a=[];n.d(e,"a",function(){return i}),n.d(e,"b",function(){return a})},2361:function(t,e,n){"use strict";n.r(e);var i=n("0bd1"),a=n("fb8f");for(var o in a)"default"!==o&&function(t){n.d(e,t,function(){return a[t]})}(o);n("0c94");var s=n("2877"),r=Object(s["a"])(a["default"],i["a"],i["b"],!1,null,"a0adf0aa",null);e["default"]=r.exports},"252c":function(t,e,n){"use strict";var i=n("58d9"),a=n.n(i);a.a},3472:function(t,e,n){"use strict";n.r(e);var i=n("8479"),a=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,function(){return i[t]})}(o);e["default"]=a.a},4454:function(t,e,n){e=t.exports=n("2350")(!1),e.push([t.i,'.uni-mask[data-v-ce6dbc2a]{position:fixed;z-index:998;top:0;right:0;bottom:0;left:0;background-color:rgba(0,0,0,.3)}.uni-popup[data-v-ce6dbc2a]{position:fixed;z-index:999;background-color:#fff}.uni-popup-middle[data-v-ce6dbc2a]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.uni-popup-middle.uni-popup-insert[data-v-ce6dbc2a]{min-width:%?380?%;min-height:%?380?%;max-width:100%;max-height:80%;-webkit-transform:translate(-50%,-65%);-ms-transform:translate(-50%,-65%);transform:translate(-50%,-65%);background:none;-webkit-box-shadow:none;box-shadow:none}.uni-popup-middle.uni-popup-fixed[data-v-ce6dbc2a]{border-radius:%?10?%;padding:%?30?%}.uni-close-bottom[data-v-ce6dbc2a],.uni-close-right[data-v-ce6dbc2a]{position:absolute;bottom:%?-180?%;text-align:center;border-radius:50%;color:#f5f5f5;font-size:%?60?%;font-weight:700;opacity:.8;z-index:-1}.uni-close-bottom[data-v-ce6dbc2a]{margin:auto;left:0;right:0}.uni-close-right[data-v-ce6dbc2a]{right:%?-60?%;top:%?-80?%}.uni-close-bottom[data-v-ce6dbc2a]:after{content:"";position:absolute;width:0;border:1px #f5f5f5 solid;top:%?-200?%;bottom:%?56?%;left:50%;-webkit-transform:translate(-50%);-ms-transform:translate(-50%);transform:translate(-50%);opacity:.8}.uni-popup-bottom[data-v-ce6dbc2a],.uni-popup-top[data-v-ce6dbc2a]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center}.uni-popup-top[data-v-ce6dbc2a]{top:0;left:0;width:100%;height:%?100?%;line-height:%?100?%;text-align:center}.uni-popup-bottom[data-v-ce6dbc2a]{left:0;bottom:0;width:100%;min-height:%?100?%;line-height:%?100?%;text-align:center}',""])},"58d9":function(t,e,n){var i=n("4454");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("8dd48b32",i,!0,{sourceMap:!1,shadowMode:!1})},"5b1d":function(t,e,n){var i=n("f5ba");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("a2bfcaaa",i,!0,{sourceMap:!1,shadowMode:!1})},8479:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={name:"UniPopup",props:{show:{type:Boolean,default:!1},position:{type:String,default:"middle"},mode:{type:String,default:"insert"},msg:{type:String,default:""},h5Top:{type:Boolean,default:!1},buttonMode:{type:String,default:"bottom"}},data:function(){return{offsetTop:0}},watch:{h5Top:function(t){this.offsetTop=t?44:0}},created:function(){var t=0;t=this.h5Top?0:44,this.offsetTop=t},methods:{hide:function(){"insert"===this.mode&&"middle"===this.position||this.$emit("hidePopup")},closeMask:function(){"insert"===this.mode&&this.$emit("hidePopup")},moveHandle:function(){}}};e.default=i},"93e8":function(t,e,n){"use strict";(function(e){var i=n("288e");n("6b54"),n("87b3"),n("c5f6");var a=i(n("5d73"));n("7514");var o=i(n("906f"));t.exports={handleData:function(){uni.removeStorageSync("warehouse"),uni.removeStorageSync("stock"),uni.removeStorageSync("custom"),uni.removeStorageSync("category"),uni.removeStorageSync("class_user"),uni.removeStorageSync("second_class")},log:function(t,n,i){var a=o.default.Pointer("_User"),s=a.set(uni.getStorageSync("uid")),r=o.default.Query("logs");r.set("parent",s),r.set("log",t),r.set("detail_id",i),r.set("type",n),r.save().then(function(t){e.log(t)}).catch(function(t){e.log(t)})},record_shopOut:function(t,n){e.log(t,n);var i=o.default.Query("shops");i.set("id",t),i.set("have_out",n),i.save().then(function(t){e.log(t)}).catch(function(t){e.log(t)})},record_staffOut:function(t){if(e.log(t,uni.getStorageSync("user").have_out),1==uni.getStorageSync("identity"));else{var n=o.default.Query("staffs");n.set("id",uni.getStorageSync("user").objectId),n.set("have_out",t+uni.getStorageSync("user").have_out),n.save().then(function(t){e.log(t)}).catch(function(t){e.log(t)})}},get_allCost:function(){var t=uni.getStorageSync("uid");e.log(t);var n=o.default.Query("Goods");n.equalTo("userId","==",t),n.find().then(function(t){e.log(t);var n=!0,i=!1,o=void 0;try{for(var s,r=(0,a.default)(t);!(n=(s=r.next()).done);n=!0){var u=s.value;e.log(u),Number(u.costPrice)*u.reserve,u.reserve}}catch(c){i=!0,o=c}finally{try{n||null==r.return||r.return()}finally{if(i)throw o}}})},getDay:function(t,e){var n=this,i=new Date,a=i.getTime()+864e5*t;i.setTime(a);var o=i.getFullYear(),s=i.getMonth(),r=i.getDate();return s=n.handleMonth(s+1),r=n.handleMonth(r),e?o+"-"+s+"-"+r+" 00:00:00":o+"-"+s+"-"+r},js_date_time:function(t,e){var n=new Date(t),i=n.getFullYear(),a=n.getMonth()+1;a=a<10?"0"+a:a;var o=n.getDate();o=o<10?"0"+o:o;var s=n.getHours();s=s<10?"0"+s:s;var r=n.getMinutes(),u=n.getSeconds();return r=r<10?"0"+r:r,u=u<10?"0"+u:u,e?i+"-"+a+"-"+o+" "+s+":"+r:i+"-"+a+"-"+o},handleMonth:function(t){var e=t;return 1==t.toString().length&&(e="0"+t),e}}}).call(this,n("5a52")["default"])},adae:function(t,e,n){"use strict";n.r(e);var i=n("12ad"),a=n("3472");for(var o in a)"default"!==o&&function(t){n.d(e,t,function(){return a[t]})}(o);n("252c");var s=n("2877"),r=Object(s["a"])(a["default"],i["a"],i["b"],!1,null,"ce6dbc2a",null);e["default"]=r.exports},f5ba:function(t,e,n){e=t.exports=n("2350")(!1),e.push([t.i,".modal_confrimbutton[data-v-a0adf0aa]{background:#426ab3;color:#fff;width:60%;padding:%?10?% 0;text-align:center;margin-left:20%;border-radius:%?8?%;margin-top:%?30?%}.avatar[data-v-a0adf0aa]{width:%?100?%;height:%?100?%;border-radius:50%}.thumb_background[data-v-a0adf0aa]{width:%?100?%;height:%?100?%}.frist[data-v-a0adf0aa]{padding:0 %?20?%;background:#fff}.item[data-v-a0adf0aa]{padding:%?8?% 0;border-bottom:%?1?% solid#ddd}.item1[data-v-a0adf0aa]{padding:%?20?% 0;border-bottom:%?1?% solid#ddd}.icon_enter[data-v-a0adf0aa]{margin-left:%?20?%}.right_item[data-v-a0adf0aa]{color:#999}.grjj[data-v-a0adf0aa]{padding:%?20?% %?0?%;border-bottom:%?1?% solid#ccc}",""])},fb8f:function(t,e,n){"use strict";n.r(e);var i=n("00ab"),a=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,function(){return i[t]})}(o);e["default"]=a.a}}]);