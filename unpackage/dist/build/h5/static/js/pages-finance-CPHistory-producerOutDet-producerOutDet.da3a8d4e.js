(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-finance-CPHistory-producerOutDet-producerOutDet"],{"266c":function(e,t,n){"use strict";n.r(t);var a=n("d2da"),o=n.n(a);for(var i in a)"default"!==i&&function(e){n.d(t,e,(function(){return a[e]}))}(i);t["default"]=o.a},"54f8":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));n("a4d3"),n("e01a"),n("d28b"),n("e260"),n("d3b7"),n("3ca3"),n("ddb0");var a=n("dde1");function o(e){if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=Object(a["a"])(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i,r=!0,d=!1;return{s:function(){o=e[Symbol.iterator]()},n:function(){var e=o.next();return r=e.done,e},e:function(e){d=!0,i=e},f:function(){try{r||null==o["return"]||o["return"]()}finally{if(d)throw i}}}}},"7ea4":function(e,t,n){var a=n("24fb");t=a(!1),t.push([e.i,".frist[data-v-ba731ae2]{background:#fff;padding:%?20?% %?30?%}.bottomEle[data-v-ba731ae2]{position:fixed;bottom:0;left:0;background:#fff;width:100%;border-top:%?1?% solid#ddd}.moneyIcon[data-v-ba731ae2]{color:#f30;border:%?1?% solid#f30;padding:%?0?% %?12?%;font-weight:700;text-align:center;font-size:%?24?%;margin-right:%?20?%;border-radius:%?4?%}.uni-common-mt[data-v-ba731ae2]{padding:%?30?%}.content[data-v-ba731ae2]{height:calc(100vh - %?80?%);background:#fff}.info_item[data-v-ba731ae2]{padding:%?20?% %?30?%;background:#fff}.item[data-v-ba731ae2]{border-bottom:%?1?% solid#ccc;padding-bottom:%?10?%;margin-bottom:%?10?%}.uni-label-pointer[data-v-ba731ae2]{padding:0 %?20?%}",""]),e.exports=t},"800b":function(e,t,n){"use strict";var a=n("9dd9"),o=n.n(a);o.a},"9dd9":function(e,t,n){var a=n("7ea4");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var o=n("4f06").default;o("89ac7d50",a,!0,{sourceMap:!1,shadowMode:!1})},c554:function(e,t,n){"use strict";var a,o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",[n("v-uni-scroll-view",{staticStyle:{height:"calc(100vh - 90rpx)"},attrs:{"scroll-y":"true"}},[n("v-uni-view",{staticClass:"display_flex_bet frist"},[n("v-uni-view",[e.producer.producer_name?n("v-uni-view",{staticStyle:{"font-size":"30rpx",color:"#3d3d3d","font-weight":"bold"}},[e._v(e._s(e.producer.producer_name))]):e._e(),n("v-uni-view",[n("v-uni-text",[e._v("联系电话：")]),e.producer.producer_phone?n("v-uni-text",{staticStyle:{"font-size":"30rpx",color:"#3d3d3d","font-weight":"bold"}},[e._v(e._s(e.producer.producer_phone))]):n("v-uni-text",{staticStyle:{"font-size":"30rpx",color:"#3d3d3d","font-weight":"bold"}},[e._v("未填写")])],1)],1),n("v-uni-view",{staticClass:"display_flex"},[n("v-uni-view",{staticClass:"moneyIcon"},[e._v("待付：￥"+e._s(e.producer.allDebt)+"元")]),n("fa-icon",{attrs:{type:"angle-right",size:"20",color:"#ddd"}})],1)],1),n("v-uni-view",{staticClass:"uni-list"},[n("v-uni-checkbox-group",{on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.checkboxChange.apply(void 0,arguments)}}},e._l(e.shouldGetMoneyList,(function(t,a){return n("v-uni-label",{key:a,staticClass:"display_flex uni-label-pointer"},[n("v-uni-view",{staticStyle:{"margin-right":"10rpx"}},[n("v-uni-checkbox",{staticStyle:{transform:"scale(0.8)"},attrs:{value:""+a,checked:t.checked}})],1),n("v-uni-view",{staticClass:"borderBot",staticStyle:{padding:"20rpx 0",width:"calc(100% - 60rpx)"}},[n("v-uni-view",{staticClass:"color333"},[e._v("单据编号："+e._s(t.objectId))]),n("v-uni-view",{staticClass:"color333"},[e._v("单据日期："+e._s(t.createdAt))]),n("v-uni-view",{staticClass:"display_flex_bet"},[n("v-uni-view",{staticClass:"color333"},[e._v("应付金额："+e._s(t.real_money)+"元")]),n("v-uni-view",{staticClass:"moneyIcon"},[e._v("待付：￥"+e._s(t.debt)+"元")])],1),n("v-uni-view",{staticClass:"color333"},[e._v("已付："+e._s(t.haveGetMoney)+"元")])],1)],1)})),1)],1)],1),n("v-uni-view",{staticClass:"display_flex_bet bottomEle"},[n("v-uni-view",{staticClass:"display_flex",staticStyle:{"margin-left":"20rpx"}},[n("v-uni-radio",{staticStyle:{transform:"scale(0.8)"},attrs:{checked:e.isAllSelected},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.selectAll.apply(void 0,arguments)}}}),e._v("全选")],1),n("v-uni-view",{staticStyle:{height:"90rpx","line-height":"90rpx",background:"#426ab3",color:"#fff",padding:"0 30rpx"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.getOrderDet.apply(void 0,arguments)}}},[e._v("生成付款单")])],1)],1)},i=[];n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return a}))},d2da:function(e,t,n){"use strict";(function(e){var a=n("ee27");n("7db0"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,i=a(n("54f8")),r=a(n("9546")),d=uni.getStorageSync("uid"),l={data:function(){return{producerId:"",producer:"",shouldGetMoneyList:[],isAllSelected:!1}},onLoad:function(e){o=this,uni.setNavigationBarTitle({title:"应付账款明细"}),o.producerId=e.producerId},onShow:function(){o.loadData()},methods:{getOrderDet:function(){var e,t=[],n=(0,i.default)(o.shouldGetMoneyList);try{for(n.s();!(e=n.n()).done;){var a=e.value;1==a.checked&&(a.shouldGetMoney=a.debt,t.push(a))}}catch(r){n.e(r)}finally{n.f()}0!=t.length?(uni.setStorageSync("producerOutOrders",t),uni.navigateTo({url:"/pages/finance/CPHistory/producerOutOrder/producerOutOrder"})):uni.showToast({icon:"none",title:"请选择要收款的单据"})},checkboxChange:function(e){var t,n=e.detail.value,a=(0,i.default)(n);try{for(a.s();!(t=a.n()).done;){var r=t.value;o.shouldGetMoneyList[r].checked=!0}}catch(d){a.e(d)}finally{a.f()}n.length==o.shouldGetMoneyList.length?o.isAllSelected=!0:o.isAllSelected=!1},selectAll:function(){o.isAllSelected=!o.isAllSelected;var e,t=(0,i.default)(o.shouldGetMoneyList);try{for(t.s();!(e=t.n()).done;){var n=e.value;n.checked=o.isAllSelected}}catch(a){t.e(a)}finally{t.f()}},loadData:function(){var t;uni.showLoading({title:"加载中..."});var n=r.default.Query("producers");n.get(o.producerId).then((function(n){e.log(n),t=n,uni.setStorageSync("producer",n);var a=r.default.Query("order_opreations");a.equalTo("type","==",1),a.equalTo("extra_type","==",1),a.equalTo("master","==",d),a.equalTo("producer","==",o.producerId),a.equalTo("debt",">",0),a.include("account","producer"),a.limit(500),a.find().then((function(e){var n,a=(0,i.default)(e);try{for(a.s();!(n=a.n()).done;){var r=n.value;r.haveGetMoney||(r.haveGetMoney=r.real_money-r.debt)}}catch(d){a.e(d)}finally{a.f()}o.shouldGetMoneyList=e,o.getDebtCount(t)}))}))},getDebtCount:function(e){var t=r.default.Query("order_opreations");t.equalTo("type","==",1),t.equalTo("extra_type","==",1),t.equalTo("master","==",d),t.equalTo("producer","==",o.producerId),t.equalTo("debt",">",0),t.limit(500),t.include("account","producer"),t.statTo("sum","debt"),t.find().then((function(t){t.length>0?e.allDebt=t[0]._sumDebt:e.allDebt=0,o.producer=e,uni.hideLoading()}))}}};t.default=l}).call(this,n("5a52")["default"])},f792:function(e,t,n){"use strict";n.r(t);var a=n("c554"),o=n("266c");for(var i in o)"default"!==i&&function(e){n.d(t,e,(function(){return o[e]}))}(i);n("800b");var r,d=n("f0c5"),l=Object(d["a"])(o["default"],a["b"],a["c"],!1,null,"ba731ae2",null,!1,a["a"],r);t["default"]=l.exports}}]);