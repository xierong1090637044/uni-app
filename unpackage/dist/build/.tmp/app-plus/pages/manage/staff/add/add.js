(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/manage/staff/add/add"],{"0e39":function(e,a,t){"use strict";t.r(a);var n=t("2e01"),s=t("386f");for(var o in s)"default"!==o&&function(e){t.d(a,e,function(){return s[e]})}(o);t("b92e");var f=t("2877"),d=Object(f["a"])(s["default"],n["a"],n["b"],!1,null,null,null);a["default"]=d.exports},"2e01":function(e,a,t){"use strict";var n=function(){var e=this,a=e.$createElement;e._self._c},s=[];t.d(a,"a",function(){return n}),t.d(a,"b",function(){return s})},"386f":function(e,a,t){"use strict";t.r(a);var n=t("566b"),s=t.n(n);for(var o in n)"default"!==o&&function(e){t.d(a,e,function(){return n[e]})}(o);a["default"]=s.a},"566b":function(e,a,t){"use strict";(function(e){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=s(t("e21e"));function s(e){return e&&e.__esModule?e:{default:e}}var o,f,d=function(){return t.e("components/uni-collapse/uni-collapse").then(t.bind(null,"4bdf"))},u=function(){return t.e("components/uni-collapse-item/uni-collapse-item").then(t.bind(null,"8988"))},i=e.getStorageSync("uid"),l={},r={components:{uniCollapse:d,uniCollapseItem:u},data:function(){return{staff_name:null,staff_address:null,staff_phone:null,manage:[{id:1,name:"员工管理"},{id:2,name:"产品管理"},{id:3,name:"客户管理"},{id:4,name:"仓库管理"},{id:5,name:"产品类别管理"}],recode:[{id:1,name:"入库记录"},{id:2,name:"出库记录"},{id:3,name:"客户退货记录"},{id:4,name:"盘点记录"},{id:5,name:"货损记录"}],current:[],recodecurrent:[]}},onLoad:function(e){o=this},onShow:function(){f=e.getStorageSync("staff"),f&&(o.staff_name=f.username,o.staff_address=f.address,o.staff_phone=f.mobilePhoneNumber)},methods:{checkboxChange:function(e){l.current=e.detail.value},checkboxChange_record:function(e){l.recodecurrent=e.detail.value},onNavigationBarButtonTap:function(a){console.log(this.staff_name," at pages\\manage\\staff\\add\\add.vue:150"),null==this.staff_name?e.showToast({title:"请输入姓名",icon:"none"}):null==this.staff_phone?e.showToast({title:"请输入账号",icon:"none"}):o.add_data()},add_data:function(){if(e.showLoading({title:"上传中..."}),f){e.hideLoading();var a=e.getStorageSync("uid"),t=n.default.Pointer("_User"),s=t.set(a),d=n.default.Query("staffs");d.set("username",o.staff_name),d.set("nickName",o.staff_name),d.set("password",o.staff_phone),d.set("mobilePhoneNumber",o.staff_phone),d.set("rights",l),d.set("address",null==o.staff_address?"":o.staff_address),d.set("masterId",s),d.set("id",f.objectId),d.save().then(function(a){console.log(a," at pages\\manage\\staff\\add\\add.vue:190"),e.showToast({title:"修改成功"})}).catch(function(e){console.log(e," at pages\\manage\\staff\\add\\add.vue:195")})}else{var u=n.default.Query("staffs");u.equalTo("masterId","==",i),u.equalTo("mobilePhoneNumber","==",o.staff_phone),u.find().then(function(a){if(console.log(a," at pages\\manage\\staff\\add\\add.vue:204"),0==a.length){e.hideLoading();var t=e.getStorageSync("uid"),s=n.default.Pointer("_User"),f=s.set(t),d=n.default.Query("staffs");d.set("username",o.staff_name),d.set("nickName",o.staff_name),d.set("password",o.staff_phone),d.set("mobilePhoneNumber",o.staff_phone),d.set("rights",l),d.set("address",null==o.staff_address?"":o.staff_address),d.set("masterId",f),d.save().then(function(a){console.log(a," at pages\\manage\\staff\\add\\add.vue:222"),e.showToast({title:"添加成功"})}).catch(function(e){console.log(e," at pages\\manage\\staff\\add\\add.vue:227")})}else e.showToast({title:"已存在此账号",icon:"none"})})}}}};a.default=r}).call(this,t("6e42")["default"])},b92e:function(e,a,t){"use strict";var n=t("dd38"),s=t.n(n);s.a},dd38:function(e,a,t){}},[["7f11","common/runtime","common/vendor"]]]);