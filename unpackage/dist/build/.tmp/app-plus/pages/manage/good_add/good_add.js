(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/manage/good_add/good_add"],{"18db":function(e,o,t){"use strict";(function(e){Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var n=a(t("e21e"));function a(e){return e&&e.__esModule?e:{default:e}}var r,u,i=function(){return t.e("components/kilvn-fa-icon/fa-icon").then(t.bind(null,"8899"))},c=e.getStorageSync("uid"),d=0,s=0,l={components:{faIcon:i},data:function(){return{goodsIcon:""}},onLoad:function(){r=this},methods:{bindproducttimeChange:function(e){var o=new Date(e.target.value);d=o.getTime()},bindDateChange:function(e){var o=new Date(e.target.value);s=o.getTime()},formSubmit:function(o){var t=o.detail.value;if(""==t.goodsName)e.showToast({title:"请输入产品名称",icon:"none"});else if(""==t.reserve)e.showToast({title:"请输入产品库存",icon:"none"});else if(console.log(d,s," at pages\\manage\\good_add\\good_add.vue:150"),e.showLoading({title:"上传中..."}),u){var a,i=!0,c=!1,l=void 0;try{for(var f,g=u[Symbol.iterator]();!(i=(f=g.next()).done);i=!0){var m=f.value;a=n.default.File(t.goodsName+".png",m)}}catch(v){c=!0,l=v}finally{try{i||null==g.return||g.return()}finally{if(c)throw l}}a.save().then(function(e){r.goodsIcon=JSON.parse(e).url,r.upload_good(t)})}else r.upload_good(t)},upload_image:function(){e.chooseImage({count:1,sizeType:["compressed"],sourceType:["album","camera"],success:function(e){r.goodsIcon=e.tempFilePaths[0],u=e.tempFilePaths}})},upload_good:function(o){var t=n.default.Pointer("_User"),a=t.set(c),u=n.default.Query("Goods");u.set("goodsIcon",r.goodsIcon),u.set("goodsName",o.goodsName),u.set("costPrice",o.costPrice?o.costPrice:"0"),u.set("retailPrice",o.retailPrice?o.retailPrice:"0"),u.set("producttime_t",d),u.set("nousetime_t",s),u.set("regNumber",o.regNumber),u.set("reserve",Number(o.reserve)),u.set("productCode",o.productCode),u.set("product_info",o.product_info),u.set("producer",o.producer),u.set("userId",a),u.save().then(function(o){e.hideLoading(),e.showToast({title:"上传成功"})}).catch(function(e){console.log(e," at pages\\manage\\good_add\\good_add.vue:205")})}}};o.default=l}).call(this,t("6e42")["default"])},"1f92":function(e,o,t){},"4a73":function(e,o,t){"use strict";t.r(o);var n=t("18db"),a=t.n(n);for(var r in n)"default"!==r&&function(e){t.d(o,e,function(){return n[e]})}(r);o["default"]=a.a},6841:function(e,o,t){"use strict";t.r(o);var n=t("b936"),a=t("4a73");for(var r in a)"default"!==r&&function(e){t.d(o,e,function(){return a[e]})}(r);t("b337");var u=t("2877"),i=Object(u["a"])(a["default"],n["a"],n["b"],!1,null,null,null);o["default"]=i.exports},b337:function(e,o,t){"use strict";var n=t("1f92"),a=t.n(n);a.a},b936:function(e,o,t){"use strict";var n=function(){var e=this,o=e.$createElement;e._self._c},a=[];t.d(o,"a",function(){return n}),t.d(o,"b",function(){return a})}},[["8cf1","common/runtime","common/vendor"]]]);