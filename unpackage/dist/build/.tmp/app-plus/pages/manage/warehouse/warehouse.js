(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/manage/warehouse/warehouse"],{"02c5":function(e,n,t){"use strict";var o=function(){var e=this,n=e.$createElement;e._self._c},a=[];t.d(n,"a",function(){return o}),t.d(n,"b",function(){return a})},4213:function(e,n,t){"use strict";t.r(n);var o=t("02c5"),a=t("e5d6");for(var s in a)"default"!==s&&function(e){t.d(n,e,function(){return a[e]})}(s);t("855c");var u=t("2877"),c=Object(u["a"])(a["default"],o["a"],o["b"],!1,null,null,null);n["default"]=c.exports},"443c":function(e,n,t){"use strict";(function(e){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=a(t("e21e"));function a(e){return e&&e.__esModule?e:{default:e}}var s,u,c,i=function(){return t.e("components/uni-segmented-control/uni-segmented-control").then(t.bind(null,"551e"))},r=function(){return t.e("components/kilvn-fa-icon/fa-icon").then(t.bind(null,"8899"))},l=function(){return t.e("components/Loading/index").then(t.bind(null,"c211"))},d={components:{uniSegmentedControl:i,faIcon:r,loading:l},data:function(){return{is_choose:!1,loading:!0,stocks:null,items:["已启用","未启用"],current:0,disabled:!1}},onLoad:function(n){s=this,c=e.getStorageSync("uid"),console.log(n," at pages\\manage\\warehouse\\warehouse.vue:76"),"choose"==n.type&&(s.is_choose=!0)},onShow:function(){s.getstock_list()},onUnload:function(){u=""},methods:{onClickItem:function(e){this.current!==e&&(this.current=e,0==e?(s.disabled=!1,s.getstock_list()):1==e&&(s.disabled=!0,s.getstock_list()))},goto_detail:function(n){e.setStorageSync("stock",n),e.navigateTo({url:"detail/detail"})},select_this:function(n){var t=e.getStorageSync("warehouse")||[],o={};o.stock=n,o.reserve=0,-1==JSON.stringify(t).indexOf(JSON.stringify(o))?(t.push(o),e.setStorageSync("warehouse",t),e.navigateBack({delta:1})):e.showToast({title:"已选择此仓库",icon:"none"})},edit:function(n){e.setStorageSync("warehouse",n),e.setStorageSync("charge",n.charge),e.setStorageSync("shop",n.shop),e.navigateTo({url:"add/add"})},delete_this:function(n){e.showModal({title:"提示",content:"请谨慎删除，一旦删除，数据不能恢复，是否删除此仓库",success:function(e){e.confirm&&(console.log(n," at pages\\manage\\warehouse\\warehouse.vue:154"),s.delete_data(n))}})},delete_data:function(n){console.log(n," at pages\\manage\\warehouse\\warehouse.vue:163");var t=o.default.Query("stocks");t.destroy(n).then(function(n){console.log(n," at pages\\manage\\warehouse\\warehouse.vue:166"),e.showToast({title:"删除成功",icon:"none"}),s.getstock_list()}).catch(function(e){console.log(e," at pages\\manage\\warehouse\\warehouse.vue:173")})},onNavigationBarButtonTap:function(n){e.navigateTo({url:"add/add"})},onNavigationBarSearchInputConfirmed:function(e){console.log(e.text," at pages\\manage\\warehouse\\warehouse.vue:187"),u=e.text,s.getstock_list()},getstock_list:function(){var e=o.default.Query("stocks");e.order("-num"),e.include("charge","shop"),e.equalTo("parent","==",c),e.equalTo("disabled","==",s.disabled),u&&e.equalTo("stock_name","==",{$regex:u+".*"}),e.find().then(function(e){s.loading=!1,s.stocks=e})}}};n.default=d}).call(this,t("6e42")["default"])},"855c":function(e,n,t){"use strict";var o=t("c32f"),a=t.n(o);a.a},c32f:function(e,n,t){},e5d6:function(e,n,t){"use strict";t.r(n);var o=t("443c"),a=t.n(o);for(var s in o)"default"!==s&&function(e){t.d(n,e,function(){return o[e]})}(s);n["default"]=a.a}},[["31a6","common/runtime","common/vendor"]]]);