(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/manage/goods/goods"],{"063f":function(o,t,e){"use strict";var n=function(){var o=this,t=o.$createElement;o._self._c;o._isMounted||(o.e0=function(t){o.showOptions=!1})},c=[];e.d(t,"a",function(){return n}),e.d(t,"b",function(){return c})},"28f0":function(o,t,e){"use strict";e.r(t);var n=e("063f"),c=e("a02e");for(var a in c)"default"!==a&&function(o){e.d(t,o,function(){return c[o]})}(a);e("e135");var r=e("2877"),u=Object(r["a"])(c["default"],n["a"],n["b"],!1,null,null,null);t["default"]=u.exports},"29ef":function(o,t,e){},5449:function(o,t,e){"use strict";(function(o){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=c(e("e21e"));function c(o){return o&&o.__esModule?o:{default:o}}var a,r,u=function(){return e.e("components/kilvn-fa-icon/fa-icon").then(e.bind(null,"8899"))},i=function(){return e.e("components/Loading/index").then(e.bind(null,"c211"))},s=function(){return e.e("components/uni-nav-bar/uni-nav-bar").then(e.bind(null,"f3ca"))},d=function(){return e.e("components/uni-icon/uni-icon").then(e.bind(null,"16b7"))},g="",l=50,f={components:{loading:i,uniNavBar:s,faIcon:u,uniIcon:d},data:function(){return{showOptions:!1,loading:!0,productList:null,checked_option:"createdAt",category:"",stock:""}},onNavigationBarButtonTap:function(o){console.log(o," at pages\\manage\\goods\\goods.vue:107"),"添加"==o.text&&this.goAdd(),"筛选"==o.text&&(r.showOptions=!0)},onNavigationBarSearchInputConfirmed:function(o){g=o.text,r.get_productList()},onLoad:function(){r=this,o.removeStorageSync("now_product"),o.removeStorageSync("category"),o.removeStorageSync("warehouse"),a=o.getStorageSync("uid"),r.get_productList()},onShow:function(){o.getStorageSync("category")&&(r.category=o.getStorageSync("category")),o.getStorageSync("warehouse")&&(r.stock=o.getStorageSync("warehouse")[o.getStorageSync("warehouse").length-1].stock)},onUnload:function(){g="",l=50},methods:{option_reset:function(){o.removeStorageSync("category"),o.removeStorageSync("warehouse"),r.category="",r.stock="",r.showOptions=!1,r.get_productList()},option_confrim:function(){o.getStorageSync("category")&&(r.category=o.getStorageSync("category")),o.getStorageSync("warehouse")&&(r.stock=o.getStorageSync("warehouse")[o.getStorageSync("warehouse").length-1].stock),r.showOptions=!1,r.get_productList()},selectd:function(o){l=50,r.checked_option=o,r.get_productList()},load_more:function(){l+=50,r.get_productList()},goDetail:function(t){console.log(t," at pages\\manage\\goods\\goods.vue:191"),o.setStorageSync("now_product",t),o.navigateTo({url:"../good_det/good_det"})},goAdd:function(){o.navigateTo({url:"../good_add/good_add"})},get_productList:function(){var o=this,t=n.default.Query("Goods");t.equalTo("userId","==",a),t.equalTo("stocks","==",r.stock.objectId),t.equalTo("status","!=",-1),t.equalTo("second_class","==",r.category.objectId),t.equalTo("goodsName","==",{$regex:g+".*"}),t.limit(l),t.order("-"+r.checked_option),t.include("userId"),t.include("goodsClass"),t.include("stocks"),t.find().then(function(t){o.productList=t,o.loading=!1})}}};t.default=f}).call(this,e("6e42")["default"])},a02e:function(o,t,e){"use strict";e.r(t);var n=e("5449"),c=e.n(n);for(var a in n)"default"!==a&&function(o){e.d(t,o,function(){return n[o]})}(a);t["default"]=c.a},e135:function(o,t,e){"use strict";var n=e("29ef"),c=e.n(n);c.a}},[["54bd","common/runtime","common/vendor"]]]);