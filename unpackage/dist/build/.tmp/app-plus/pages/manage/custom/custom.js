(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/manage/custom/custom"],{"179e":function(t,e,n){"use strict";var o=n("c1c1"),a=n.n(o);a.a},"24c8":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=a(n("e21e"));function a(t){return t&&t.__esModule?t:{default:t}}var c,u,s=function(){return n.e("components/kilvn-fa-icon/fa-icon").then(n.bind(null,"8899"))},r=function(){return n.e("components/uni-segmented-control/uni-segmented-control").then(n.bind(null,"551e"))},i=t.getStorageSync("uid"),d={components:{faIcon:s,uniSegmentedControl:r},data:function(){return{items:["销售客户","供货商"],current:0,people:null}},onLoad:function(){c=this},onShow:function(){t.removeStorageSync("customs"),t.removeStorageSync("custom_type"),0==c.current?c.load_data("customs"):c.load_data("producers")},methods:{edit:function(e){t.setStorageSync("customs",e),0==c.current?t.setStorageSync("custom_type","customs"):t.setStorageSync("custom_type","producers"),t.navigateTo({url:"add/add"})},delete_this:function(e){t.showModal({title:"提示",content:"是否删除此客户",success:function(t){t.confirm&&(console.log(e," at pages\\manage\\custom\\custom.vue:108"),0==c.current?c.delete_data("customs",e):c.delete_data("producers",e))}})},delete_data:function(e,n){console.log(n," at pages\\manage\\custom\\custom.vue:121");var a=o.default.Query(e);a.destroy(n).then(function(n){console.log(n," at pages\\manage\\custom\\custom.vue:124"),t.showToast({title:"删除成功",icon:"none"}),c.load_data(e)}).catch(function(t){console.log(t," at pages\\manage\\custom\\custom.vue:131")})},onNavigationBarButtonTap:function(e){t.showActionSheet({itemList:["新增客户","新增供货商"],success:function(e){console.log("选中了第"+(e.tapIndex+1)+"个按钮"," at pages\\manage\\custom\\custom.vue:141"),0==e.tapIndex?t.navigateTo({url:"add/add?type=customs"}):t.navigateTo({url:"add/add?type=producers"})},fail:function(t){console.log(t.errMsg," at pages\\manage\\custom\\custom.vue:153")}})},onNavigationBarSearchInputConfirmed:function(t){console.log(t.text," at pages\\manage\\custom\\custom.vue:161"),u=t.text,0==this.current?c.load_data("customs"):c.load_data("producers")},onClickItem:function(t){this.current!==t&&(this.current=t,0==this.current?c.load_data("customs"):c.load_data("producers"))},load_data:function(e){t.showLoading({title:"加载中..."});var n=o.default.Query(e);n.equalTo("parent","==",i),n.limit(500),u&&("customs"==e?n.equalTo("custom_name","==",{$regex:u+".*"}):n.equalTo("producer_name","==",{$regex:u+".*"})),n.find().then(function(e){console.log(e," at pages\\manage\\custom\\custom.vue:205"),t.hideLoading(),c.people=e})}}};e.default=d}).call(this,n("6e42")["default"])},3709:function(t,e,n){"use strict";n.r(e);var o=n("24c8"),a=n.n(o);for(var c in o)"default"!==c&&function(t){n.d(e,t,function(){return o[t]})}(c);e["default"]=a.a},"6f6c":function(t,e,n){"use strict";n.r(e);var o=n("c81c"),a=n("3709");for(var c in a)"default"!==c&&function(t){n.d(e,t,function(){return a[t]})}(c);n("179e");var u=n("2877"),s=Object(u["a"])(a["default"],o["a"],o["b"],!1,null,null,null);e["default"]=s.exports},c1c1:function(t,e,n){},c81c:function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement;t._self._c},a=[];n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a})}},[["9446","common/runtime","common/vendor"]]]);