(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/manage/custom/custom"],{"179e":function(t,e,n){"use strict";var o=n("c1c1"),a=n.n(o);a.a},"24c8":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=a(n("e21e"));function a(t){return t&&t.__esModule?t:{default:t}}var u,c,s,r=function(){return n.e("components/Loading/index").then(n.bind(null,"c211"))},i=function(){return n.e("components/kilvn-fa-icon/fa-icon").then(n.bind(null,"8899"))},d=function(){return n.e("components/uni-segmented-control/uni-segmented-control").then(n.bind(null,"551e"))},l={components:{loading:r,faIcon:i,uniSegmentedControl:d},data:function(){return{loading:!0,items:["销售客户","供货商"],current:0,people:null,is_producer:!1,is_custom:!1}},onLoad:function(e){u=this,s=t.getStorageSync("uid"),"producer"==e.type?(u.is_producer=!0,u.current=1,u.load_data("producers")):"custom"==e.type&&(u.is_custom=!0,u.current=0,u.load_data("customs"))},onShow:function(){t.removeStorageSync("customs"),t.removeStorageSync("custom_type"),0==u.current?u.load_data("customs"):u.load_data("producers")},onUnload:function(){c=""},methods:{select_this:function(e,n){t.setStorageSync(e,n),t.navigateBack({delta:1})},edit:function(e){t.setStorageSync("customs",e),0==u.current?t.setStorageSync("custom_type","customs"):t.setStorageSync("custom_type","producers"),t.navigateTo({url:"add/add"})},delete_this:function(e){t.showModal({title:"提示",content:"是否删除此客户",success:function(t){t.confirm&&(console.log(e," at pages\\manage\\custom\\custom.vue:149"),0==u.current?u.delete_data("customs",e):u.delete_data("producers",e))}})},delete_data:function(e,n){console.log(n," at pages\\manage\\custom\\custom.vue:162");var a=o.default.Query(e);a.destroy(n).then(function(n){console.log(n," at pages\\manage\\custom\\custom.vue:165"),t.showToast({title:"删除成功",icon:"none"}),u.load_data(e)}).catch(function(t){console.log(t," at pages\\manage\\custom\\custom.vue:172")})},onNavigationBarButtonTap:function(e){t.showActionSheet({itemList:["新增客户","新增供货商"],success:function(e){console.log("选中了第"+(e.tapIndex+1)+"个按钮"," at pages\\manage\\custom\\custom.vue:182"),0==e.tapIndex?t.navigateTo({url:"add/add?type=customs"}):t.navigateTo({url:"add/add?type=producers"})},fail:function(t){console.log(t.errMsg," at pages\\manage\\custom\\custom.vue:194")}})},onNavigationBarSearchInputConfirmed:function(t){console.log(t.text," at pages\\manage\\custom\\custom.vue:202"),c=t.text,0==this.current?u.load_data("customs"):u.load_data("producers")},onClickItem:function(t){this.current!==t&&(this.current=t,0==this.current?u.load_data("customs"):u.load_data("producers"))},load_data:function(t){var e=o.default.Query(t);e.equalTo("parent","==",s),e.limit(500),c&&("customs"==t?e.equalTo("custom_name","==",{$regex:c+".*"}):e.equalTo("producer_name","==",{$regex:c+".*"})),e.find().then(function(t){console.log(t," at pages\\manage\\custom\\custom.vue:243"),u.loading=!1,u.people=t})}}};e.default=l}).call(this,n("6e42")["default"])},3709:function(t,e,n){"use strict";n.r(e);var o=n("24c8"),a=n.n(o);for(var u in o)"default"!==u&&function(t){n.d(e,t,function(){return o[t]})}(u);e["default"]=a.a},"6f6c":function(t,e,n){"use strict";n.r(e);var o=n("9072"),a=n("3709");for(var u in a)"default"!==u&&function(t){n.d(e,t,function(){return a[t]})}(u);n("179e");var c=n("2877"),s=Object(c["a"])(a["default"],o["a"],o["b"],!1,null,null,null);e["default"]=s.exports},9072:function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement;t._self._c},a=[];n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a})},c1c1:function(t,e,n){}},[["9446","common/runtime","common/vendor"]]]);