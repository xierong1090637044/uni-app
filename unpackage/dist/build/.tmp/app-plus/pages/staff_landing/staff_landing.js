(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/staff_landing/staff_landing"],{"0c8d":function(e,n,t){"use strict";t.r(n);var a=t("37e1"),o=t.n(a);for(var s in a)"default"!==s&&function(e){t.d(n,e,function(){return a[e]})}(s);n["default"]=o.a},"37e1":function(e,n,t){"use strict";(function(e){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,o=s(t("e21e"));function s(e){return e&&e.__esModule?e:{default:e}}var i={data:function(){return{phone:"",password:""}},onLoad:function(){a=this},methods:{staff_login:function(){if(console.log(a.phone," at pages\\staff_landing\\staff_landing.vue:49"),console.log(a.password," at pages\\staff_landing\\staff_landing.vue:50"),a.phone.length<1||a.password.length<1)e.showToast({title:"请填写完整",icon:"none"});else{e.showLoading({title:"登录中..."});var n=o.default.Query("staffs");n.equalTo("mobilePhoneNumber","==",a.phone),n.equalTo("password","==",a.password),n.find().then(function(n){console.log(n[0]," at pages\\staff_landing\\staff_landing.vue:64");var t=n[0];if(t.userId)e.hideLoading(),e.setStorageSync("user",t),e.setStorageSync("identity",2),e.setStorageSync("masterId",t.userId.objectId),e.setStorageSync("uid",t.masterId.objectId),e.switchTab({url:"/pages/index/index"});else{var a={rights:t.rights,masterId:t.masterId,nickName:t.username,username:t.mobilePhoneNumber,password:t.password,mobilePhoneNumber:t.mobilePhoneNumber,avatarUrl:t.avatarUrl};o.default.User.register(a).then(function(n){console.log(n," at pages\\staff_landing\\staff_landing.vue:89");var a=n,s=o.default.Pointer("_User"),i=s.set(a.objectId),r=o.default.Query("staffs");r.set("id",t.objectId),r.set("userId",i),r.save().then(function(n){console.log(n," at pages\\staff_landing\\staff_landing.vue:99"),e.hideLoading(),e.setStorageSync("user",t),e.setStorageSync("identity",2),e.setStorageSync("masterId",a.objectId),e.setStorageSync("uid",t.masterId.objectId),e.switchTab({url:"/pages/index/index"})}).catch(function(n){console.log(n," at pages\\staff_landing\\staff_landing.vue:112"),e.hideLoading(),e.showToast({title:"账户名或者密码错误",icon:"none"})})}).catch(function(n){console.log(n," at pages\\staff_landing\\staff_landing.vue:121"),e.hideLoading(),e.showToast({title:"账户名或者密码错误",icon:"none"})})}})}}}};n.default=i}).call(this,t("6e42")["default"])},"3ab6":function(e,n,t){"use strict";var a=function(){var e=this,n=e.$createElement;e._self._c},o=[];t.d(n,"a",function(){return a}),t.d(n,"b",function(){return o})},"4df2":function(e,n,t){},"68d5":function(e,n,t){"use strict";t.r(n);var a=t("3ab6"),o=t("0c8d");for(var s in o)"default"!==s&&function(e){t.d(n,e,function(){return o[e]})}(s);t("7f12");var i=t("2877"),r=Object(i["a"])(o["default"],a["a"],a["b"],!1,null,null,null);n["default"]=r.exports},"7f12":function(e,n,t){"use strict";var a=t("4df2"),o=t.n(a);o.a}},[["522e","common/runtime","common/vendor"]]]);