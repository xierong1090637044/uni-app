(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/manage/staff/authAdd/authAdd"],{8604:function(e,t,n){"use strict";var r={"uni-nav-bar":()=>n.e("components/uni-nav-bar/uni-nav-bar").then(n.bind(null,"b92d")),"uni-collapse":()=>n.e("components/uni-collapse/uni-collapse").then(n.bind(null,"bd14")),"uni-collapse-item":()=>n.e("components/uni-collapse-item/uni-collapse-item").then(n.bind(null,"18d6"))},a=function(){var e=this,t=e.$createElement,n=(e._self._c,e.current.indexOf("2"));e.$mp.data=Object.assign({},{$root:{g0:n}})},o=[];n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return r}))},aba5:function(e,t,n){},c484:function(e,t,n){"use strict";n.r(t);var r=n("e4eb"),a=n.n(r);for(var o in r)"default"!==o&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t["default"]=a.a},e246:function(e,t,n){"use strict";(function(e){n("a961"),n("921b");r(n("66fd"));var t=r(n("e978"));function r(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n("543d")["createPage"])},e4eb:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("c74b"));function a(e){return e&&e.__esModule?e:{default:e}}var o,u,l,c=function(){n.e("components/uni-collapse/uni-collapse").then(function(){return resolve(n("bd14"))}.bind(null,n)).catch(n.oe)},i=function(){n.e("components/uni-collapse-item/uni-collapse-item").then(function(){return resolve(n("18d6"))}.bind(null,n)).catch(n.oe)},d={},s={components:{uniCollapse:c,uniCollapseItem:i},data:function(){return{manage:[{id:0,name:"产品管理"},{id:1,name:"员工管理"},{id:2,name:"店仓管理",notice:"(勾选了下面的仓库，子账户将会自动加载勾选仓库里的产品，如不勾选，则列表为空)"},{id:3,name:"客户管理"},{id:4,name:"供货商管理"},{id:5,name:"产品类别管理"},{id:6,name:"库存管理（出库、入库、调拨、盘点操作）"},{id:7,name:"采购（采购，采购退货操作）"},{id:8,name:"销售（销售，销售退货操作）"}],moneyAuth:[{id:0,name:"财务管理模块查看"}],analysisAuth:[{id:0,name:"分析模块查看"}],recode:[{id:0,name:"入库记录"},{id:1,name:"出库记录"},{id:2,name:"调拨记录"},{id:3,name:"盘点记录"}],others:[{id:0,name:"进价隐藏"},{id:1,name:"审核"},{id:2,name:"看板查看"}],stocks:[],current:[],analysisCurrent:[],moneyCurrent:[],recodecurrent:[],othercurrent:[],select_stocks:[]}},onLoad:function(){o=this,l=e.getStorageSync("staff"),u=e.getStorageSync("uid")},onShow:function(){if(o.current=[],o.analysisCurrent=[],o.moneyCurrent=[],o.recodecurrent=[],o.othercurrent=[],o.select_stocks=[],e.getStorageSync("staffRights")){if(d=e.getStorageSync("staffRights"),d.current){var t=!0,n=!1,a=void 0;try{for(var l,c=d.current[Symbol.iterator]();!(t=(l=c.next()).done);t=!0){var i=l.value,s=!0,f=!1,h=void 0;try{for(var y,v=o.manage[Symbol.iterator]();!(s=(y=v.next()).done);s=!0){var m=y.value;i==m.id&&(m.checked=!0,o.current.push(i))}}catch(fe){f=!0,h=fe}finally{try{s||null==v.return||v.return()}finally{if(f)throw h}}}}catch(fe){n=!0,a=fe}finally{try{t||null==c.return||c.return()}finally{if(n)throw a}}}if(d.recodecurrent){var b=!0,p=!1,g=void 0;try{for(var k,C=d.recodecurrent[Symbol.iterator]();!(b=(k=C.next()).done);b=!0){var S=k.value,x=!0,_=!1,w=void 0;try{for(var j,A=o.recode[Symbol.iterator]();!(x=(j=A.next()).done);x=!0){var I=j.value;S==I.id&&(I.checked=!0,o.recodecurrent.push(S))}}catch(fe){_=!0,w=fe}finally{try{x||null==A.return||A.return()}finally{if(_)throw w}}}}catch(fe){p=!0,g=fe}finally{try{b||null==C.return||C.return()}finally{if(p)throw g}}}if(d.othercurrent){var O=!0,M=!1,T=void 0;try{for(var R,$=d.othercurrent[Symbol.iterator]();!(O=(R=$.next()).done);O=!0){var q=R.value,B=!0,J=!1,P=void 0;try{for(var Q,E=o.others[Symbol.iterator]();!(B=(Q=E.next()).done);B=!0){var L=Q.value;q==L.id&&(L.checked=!0,o.othercurrent.push(q))}}catch(fe){J=!0,P=fe}finally{try{B||null==E.return||E.return()}finally{if(J)throw P}}}}catch(fe){M=!0,T=fe}finally{try{O||null==$.return||$.return()}finally{if(M)throw T}}}if(d.analysisCurrent){var N=!0,U=!1,z=void 0;try{for(var D,F=d.analysisCurrent[Symbol.iterator]();!(N=(D=F.next()).done);N=!0){var G=D.value,H=!0,K=!1,V=void 0;try{for(var W,X=o.analysisAuth[Symbol.iterator]();!(H=(W=X.next()).done);H=!0){var Y=W.value;G==Y.id&&(Y.checked=!0,o.analysisCurrent.push(G))}}catch(fe){K=!0,V=fe}finally{try{H||null==X.return||X.return()}finally{if(K)throw V}}}}catch(fe){U=!0,z=fe}finally{try{N||null==F.return||F.return()}finally{if(U)throw z}}}if(d.moneyCurrent){var Z=!0,ee=!1,te=void 0;try{for(var ne,re=d.moneyCurrent[Symbol.iterator]();!(Z=(ne=re.next()).done);Z=!0){var ae=ne.value,oe=!0,ue=!1,le=void 0;try{for(var ce,ie=o.moneyAuth[Symbol.iterator]();!(oe=(ce=ie.next()).done);oe=!0){var de=ce.value;ae==de.id&&(de.checked=!0,o.moneyCurrent.push(ae))}}catch(fe){ue=!0,le=fe}finally{try{oe||null==ie.return||ie.return()}finally{if(ue)throw le}}}}catch(fe){ee=!0,te=fe}finally{try{Z||null==re.return||re.return()}finally{if(ee)throw te}}}d.current=o.current,d.recodecurrent=o.recodecurrent,d.othercurrent=o.othercurrent,d.analysisCurrent=o.analysisCurrent,d.moneyCurrent=o.moneyCurrent}var se=r.default.Query("stocks");se.order("-num"),se.include("charge","shop","Ncharge"),se.equalTo("parent","==",u),se.equalTo("disabled","!=",!0),se.limit(500),se.find().then((function(e){var t=e,n=[],r=!0,a=!1,u=void 0;try{for(var l,c=t[Symbol.iterator]();!(r=(l=c.next()).done);r=!0){var i=l.value,s={};s.name=i.stock_name,s.objectId=i.objectId,d.select_stocks&&-1!=d.select_stocks.indexOf(i.objectId)&&(s.checked=!0),n.push(s)}}catch(fe){a=!0,u=fe}finally{try{r||null==c.return||c.return()}finally{if(a)throw u}}o.stocks=n}))},methods:{confrim:function(){if(e.setStorageSync("staffRights",d),l){var t=r.default.Query("_User");t.set("rights",d),t.set("stocks",d.select_stocks||[]),t.set("id",l.objectId),t.save().then((function(t){setTimeout((function(){e.showToast({title:"修改成功"})}),1e3),e.navigateBack({delta:3})})).catch((function(e){console.log(e)}))}else e.navigateBack({delta:1})},checkstockChange:function(e){o.select_stocks=e.detail.value,d.select_stocks=e.detail.value},checkboxChange:function(e){o.current=e.detail.value,d.current=e.detail.value},checkboxChangeAnalysis:function(e){o.analysisCurrent=e.detail.value,d.analysisCurrent=e.detail.value},checkboxChangeMoney:function(e){o.moneyCurrent=e.detail.value,d.moneyCurrent=e.detail.value},checkboxChange_record:function(e){o.recodecurrent=e.detail.value,d.recodecurrent=e.detail.value},checkboxChange_other:function(e){o.othercurrent=e.detail.value,d.othercurrent=e.detail.value}}};t.default=s}).call(this,n("543d")["default"])},e978:function(e,t,n){"use strict";n.r(t);var r=n("8604"),a=n("c484");for(var o in a)"default"!==o&&function(e){n.d(t,e,(function(){return a[e]}))}(o);n("e97d");var u,l=n("f0c5"),c=Object(l["a"])(a["default"],r["b"],r["c"],!1,null,null,null,!1,r["a"],u);t["default"]=c.exports},e97d:function(e,t,n){"use strict";var r=n("aba5"),a=n.n(r);a.a}},[["e246","common/runtime","common/vendor"]]]);