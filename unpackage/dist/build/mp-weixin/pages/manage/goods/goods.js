(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/manage/goods/goods"],{4404:function(o,t,e){"use strict";e.r(t);var n=e("a7e8"),a=e("50fc");for(var c in a)"default"!==c&&function(o){e.d(t,o,function(){return a[o]})}(c);e("64af");var u=e("2877"),i=Object(u["a"])(a["default"],n["a"],n["b"],!1,null,null,null);t["default"]=i.exports},"50fc":function(o,t,e){"use strict";e.r(t);var n=e("a112"),a=e.n(n);for(var c in n)"default"!==c&&function(o){e.d(t,o,function(){return n[o]})}(c);t["default"]=a.a},"64af":function(o,t,e){"use strict";var n=e("fff5"),a=e.n(n);a.a},a112:function(o,t,e){"use strict";(function(o){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=c(e("df06")),a=c(e("c74b"));function c(o){return o&&o.__esModule?o:{default:o}}var u,i,r=function(){return e.e("components/kilvn-fa-icon/fa-icon").then(e.bind(null,"0914"))},s=function(){return e.e("components/Loading/index").then(e.bind(null,"524a"))},d=function(){return e.e("components/uni-nav-bar/uni-nav-bar").then(e.bind(null,"b92d"))},g=function(){return e.e("components/uni-icon/uni-icon").then(e.bind(null,"5753"))},l=function(){return e.e("components/uni-pagination/uni-pagination").then(e.bind(null,"2bfc"))},f="",p=30,h=1,_={components:{loading:s,uniNavBar:d,faIcon:r,uniPagination:l,uniIcon:g},data:function(){return{page_num:1,showOptions:!1,loading:!0,productList:null,checked_option:"createdAt",category:"",stock:"",checked:!1}},onLoad:function(){i=this,o.removeStorageSync("category"),o.removeStorageSync("warehouse"),u=o.getStorageSync("uid"),i.get_productList()},onShow:function(){this.page_num=h,o.removeStorageSync("now_product"),o.getStorageSync("category")&&(i.showOptions=!0,i.category=o.getStorageSync("category")),o.getStorageSync("warehouse")&&(i.showOptions=!0,i.stock=o.getStorageSync("warehouse")[o.getStorageSync("warehouse").length-1].stock),o.getStorageSync("is_add")&&i.get_productList()},onUnload:function(){n.default.handleData(),f="",p=50,o.removeStorageSync("is_add")},methods:{change_page:function(o){h=o.current,i.get_productList()},change_timestatus:function(o){console.log(o),i.checked=o.detail.value},input_confirm:function(o){console.log(o),f=o.detail.value,i.get_productList()},shaixuan:function(){i.showOptions=!0},goto_add:function(){o.showActionSheet({itemList:["单产品上传","多仓库产品上传"],success:function(t){0==t.tapIndex?o.navigateTo({url:"../good_add/good_add"}):1==t.tapIndex&&o.navigateTo({url:"../goods_add/goods_add"})},fail:function(o){console.log(o.errMsg)}})},option_reset:function(){o.removeStorageSync("category"),o.removeStorageSync("warehouse"),i.category="",i.stock="",i.showOptions=!1,i.get_productList()},option_confrim:function(){o.getStorageSync("category")&&(i.category=o.getStorageSync("category")),o.getStorageSync("warehouse")&&(i.stock=o.getStorageSync("warehouse")[o.getStorageSync("warehouse").length-1].stock),i.showOptions=!1,i.get_productList()},selectd:function(o){p=50,i.checked_option=o,i.get_productList()},goDetail:function(t){console.log(t),o.setStorageSync("now_product",t),o.navigateTo({url:"../good_det/good_det"})},get_productList:function(){var o=this,t=a.default.Query("Goods");t.equalTo("userId","==",u),t.equalTo("stocks","==",i.stock.objectId),t.equalTo("status","!=",-1),i.stock||t.equalTo("accessory","!=",!0),t.equalTo("second_class","==",i.category.objectId);var e=t.equalTo("goodsName","==",{$regex:f+".*"}),n=t.equalTo("packageContent","==",{$regex:f+".*"});if(t.or(e,n),i.checked){var c=Date.parse(new Date);t.equalTo("bad_time","<=",c)}t.limit(p),t.skip(p*(h-1)),t.order("-"+i.checked_option),t.include("goodsClass","stocks","second_class"),t.find().then(function(t){o.productList=t,o.loading=!1})}}};t.default=_}).call(this,e("543d")["default"])},a7e8:function(o,t,e){"use strict";var n=function(){var o=this,t=o.$createElement;o._self._c;o._isMounted||(o.e0=function(t){o.showOptions=!1})},a=[];e.d(t,"a",function(){return n}),e.d(t,"b",function(){return a})},d1e1:function(o,t,e){"use strict";(function(o){e("a961"),e("921b");n(e("66fd"));var t=n(e("4404"));function n(o){return o&&o.__esModule?o:{default:o}}o(t.default)}).call(this,e("543d")["createPage"])},fff5:function(o,t,e){}},[["d1e1","common/runtime","common/vendor"]]]);