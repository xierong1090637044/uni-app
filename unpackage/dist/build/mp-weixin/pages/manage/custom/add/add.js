(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/manage/custom/add/add"],{"126e":function(e,t,n){"use strict";n.r(t);var o=n("5176"),s=n.n(o);for(var a in o)"default"!==a&&function(e){n.d(t,e,function(){return o[e]})}(a);t["default"]=s.a},"1c4e":function(e,t,n){"use strict";(function(e){n("a961"),n("921b");o(n("66fd"));var t=o(n("6f4c"));function o(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n("543d")["createPage"])},2603:function(e,t,n){},"4fc8":function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement;e._self._c},s=[];n.d(t,"a",function(){return o}),n.d(t,"b",function(){return s})},5176:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,s,a,r,c=function(){return n.e("components/uni-nav-bar/uni-nav-bar").then(n.bind(null,"b92d"))},u={components:{uniNavBar:c},data:function(){return{name:"",address:"",phone:"",debt:0}},onLoad:function(t){o=t.type,s=this,r=e.getStorageSync("uid"),"customs"==o?e.setNavigationBarTitle({title:"新增客户"}):e.setNavigationBarTitle({title:"新增供货商"})},onShow:function(){a=e.getStorageSync("customs"),a?(o=e.getStorageSync("custom_type"),"customs"==o?(s.name=a.custom_name,s.address=a.custom_address,s.phone=a.custom_phone,s.debt=a.debt):(s.name=a.producer_name,s.address=a.producer_address,s.phone=a.producer_phone,s.debt=a.debt)):"customs"==o?e.setNavigationBarTitle({title:"修改客户"}):e.setNavigationBarTitle({title:"修改供货商"})},onUnload:function(){e.removeStorageSync("custom_type"),e.removeStorageSync("customs")},methods:{add_data:function(){if(null==this.name)e.showToast({title:"请输入姓名",icon:"none"});else if("customs"==o){var t=Bmob.Query("customs"),n=Bmob.Pointer("_User"),c=n.set(r);a&&t.set("id",a.objectId),t.set("custom_name",s.name),t.set("custom_phone",s.phone?s.phone:""),t.set("custom_address",s.address?s.address:""),t.set("debt",Number(s.debt)),t.set("parent",c),t.save().then(function(t){console.log(t),a?e.showToast({title:"修改成功"}):e.showToast({title:"添加成功"})}).catch(function(e){console.log(e)})}else{var u=Bmob.Query("producers"),d=Bmob.Pointer("_User"),i=d.set(r);a&&u.set("id",a.objectId),u.set("producer_name",s.name),u.set("producer_phone",s.phone?s.phone:""),u.set("producer_address",s.address?s.address:""),u.set("debt",Number(s.debt)),u.set("parent",i),u.save().then(function(t){console.log(t),a?e.showToast({title:"修改成功"}):e.showToast({title:"添加成功"})}).catch(function(e){console.log(e)})}}}};t.default=u}).call(this,n("543d")["default"])},"6f4c":function(e,t,n){"use strict";n.r(t);var o=n("4fc8"),s=n("126e");for(var a in s)"default"!==a&&function(e){n.d(t,e,function(){return s[e]})}(a);n("73e5");var r=n("2877"),c=Object(r["a"])(s["default"],o["a"],o["b"],!1,null,null,null);t["default"]=c.exports},"73e5":function(e,t,n){"use strict";var o=n("2603"),s=n.n(o);s.a}},[["1c4e","common/runtime","common/vendor"]]]);