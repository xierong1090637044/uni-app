(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/manage/producer/add/add"],{"340b":function(e,n,t){"use strict";t.r(n);var a=t("b08a"),o=t.n(a);for(var u in a)"default"!==u&&function(e){t.d(n,e,(function(){return a[e]}))}(u);n["default"]=o.a},8155:function(e,n,t){"use strict";var a=t("9212"),o=t.n(a);o.a},8408:function(e,n,t){"use strict";(function(e){t("d510"),t("921b");a(t("66fd"));var n=a(t("8690"));function a(e){return e&&e.__esModule?e:{default:e}}e(n.default)}).call(this,t("543d")["createPage"])},8690:function(e,n,t){"use strict";t.r(n);var a=t("ad26"),o=t("340b");for(var u in o)"default"!==u&&function(e){t.d(n,e,(function(){return o[e]}))}(u);t("8155");var r,c=t("f0c5"),d=Object(c["a"])(o["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],r);n["default"]=d.exports},9212:function(e,n,t){},ad26:function(e,n,t){"use strict";var a={"uni-nav-bar":function(){return t.e("components/uni-nav-bar/uni-nav-bar").then(t.bind(null,"96bd"))}},o=function(){var e=this,n=e.$createElement;e._self._c},u=[];t.d(n,"b",(function(){return o})),t.d(n,"c",(function(){return u})),t.d(n,"a",(function(){return a}))},b08a:function(e,n,t){"use strict";(function(e){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=u(t("9546")),o=u(t("9ef1"));function u(e){return e&&e.__esModule?e:{default:e}}var r,c,d,s=function(){t.e("components/uni-nav-bar/uni-nav-bar").then(function(){return resolve(t("96bd"))}.bind(null,t)).catch(t.oe)},i={components:{uniNavBar:s},data:function(){return{Images:[],name:"",address:"",phone:"",debt:0,discount:100,textDesc:"添加"}},onLoad:function(n){n.type,r=this,d=e.getStorageSync("uid")},onShow:function(){c=e.getStorageSync("producers"),c?(e.getStorageSync("producer_type"),e.setNavigationBarTitle({title:"修改客户"}),r.textDesc="修改",r.Images=c.Images||[],r.name=c.producer_name||"",r.address=c.producer_address||"",r.phone=c.producer_phone||"",r.debt=c.debt||0,r.discount=c.discount||100):e.setNavigationBarTitle({title:"新增客户"})},onUnload:function(){e.removeStorageSync("producer_type"),e.removeStorageSync("producers")},methods:{handleData:function(){r.Images=[],r.name="",r.address="",r.phone="",r.debt=0,r.discount=100},removeImg:function(e){r.Images.splice(e,1),r.Images=r.Images},upload_image:function(){o.default.upload_image(1).then((function(e){r.Images=e}))},getDiscount:function(e){var n=Number(e.detail.value);n>=100&&(r.discount=100)},add_data:function(){if(null==r.name||""==r.name)e.showToast({title:"请输入姓名",icon:"none"});else{var n=a.default.Query("producers"),t=a.default.Pointer("_User"),o=t.set(d);c&&n.set("id",c.objectId),n.set("producer_name",r.name),n.set("producer_phone",r.phone?r.phone:""),n.set("producer_address",r.address?r.address:""),n.set("orginDebt",Number(r.debt)),n.set("parent",o),n.set("Images",r.Images),n.save().then((function(n){console.log(n),c?e.showToast({title:"修改成功"}):(e.showToast({title:"添加成功"}),r.handleData())})).catch((function(e){console.log(e)}))}}}};n.default=i}).call(this,t("543d")["default"])}},[["8408","common/runtime","common/vendor"]]]);