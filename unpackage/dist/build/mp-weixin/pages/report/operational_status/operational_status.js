(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/report/operational_status/operational_status"],{"0bff":function(e,t,o){"use strict";o.r(t);var n=o("984e"),r=o("318f");for(var a in r)"default"!==a&&function(e){o.d(t,e,function(){return r[e]})}(a);o("e8a2");var u=o("2877"),l=Object(u["a"])(r["default"],n["a"],n["b"],!1,null,null,null);t["default"]=l.exports},"15df":function(e,t,o){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(o("df06")),r=a(o("ee11"));function a(e){return e&&e.__esModule?e:{default:e}}var u,l=function(){return o.e("components/Loading/index").then(o.bind(null,"524a"))},s=void 0,i={components:{loading:l},data:function(){return{loading:!0,reserve_money:0,all_reserve:0,warn_num:0,today_in:0,today_out:0,get_reserve:0,out_reserve:0,get_reserve_real_money:0,out_reserve_real_money:0,get_reserve_num:0,out_reserve_num:0,get_reserve_get_num:0,out_reserve_get_num:0,should_get_money:0,real_get_money:0}},onLoad:function(){s=this,u=e.getStorageSync("uid"),s.get_allCost(),s.gettoday_detail(),console.log(n.default.getDay(0,!0))},methods:{get_allCost:function(){var e=r.default.Query("Goods");e.equalTo("userId","==",u),e.find().then(function(e){var t=0,o=0,n=0,r=!0,a=!1,u=void 0;try{for(var l,i=e[Symbol.iterator]();!(r=(l=i.next()).done);r=!0){var _=l.value;t+=Number(_.costPrice)*_.reserve,o+=_.reserve,(_.stocktype=0)&&(n+=1)}}catch(d){a=!0,u=d}finally{try{r||null==i.return||i.return()}finally{if(a)throw u}}s.reserve_money=t,s.all_reserve=o,s.warn_num=n,s.loading=!1})},gettoday_detail:function(){var t=0,o=0,a=0,l=0,i=0,_=0,d=r.default.Query("Bills");d.equalTo("userId","==",u),d.equalTo("createdAt",">=",n.default.getDay(0,!0)),d.include("goodsId"),d.find().then(function(d){for(var f=0;f<d.length;f++)1==d[f].type?(t+=d[f].num,a+=d[f].num*d[f].goodsId.retailPrice,i+=d[f].total_money):-1==d[f].type&&(o+=d[f].num,l+=d[f].num*d[f].goodsId.costPrice,_+=d[f].total_money);s.get_reserve=t.toFixed(e.getStorageSync("setting").show_float),s.out_reserve=o.toFixed(e.getStorageSync("setting").show_float),s.get_reserve_real_money=a.toFixed(e.getStorageSync("setting").show_float),s.out_reserve_real_money=l.toFixed(e.getStorageSync("setting").show_float),s.get_reserve_num=i.toFixed(e.getStorageSync("setting").show_float),s.out_reserve_num=_.toFixed(e.getStorageSync("setting").show_float),s.get_reserve_get_num=(a-i).toFixed(e.getStorageSync("setting").show_float),s.out_reserve_get_num=(_-l).toFixed(e.getStorageSync("setting").show_float),console.log(t);var c=0,g=0,v=r.default.Query("order_opreations");v.equalTo("master","==",u),v.equalTo("createdAt",">=",n.default.getDay(0,!0)),v.equalTo("type","==",-1),v.find().then(function(e){for(var t=0;t<e.length;t++)c+=e[t].all_money,g+=e[t].real_money;s.should_get_money=c,s.real_get_money=g})})}},computed:{i18n:function(){return this.$t("operational_status")}}};t.default=i}).call(this,o("543d")["default"])},"318f":function(e,t,o){"use strict";o.r(t);var n=o("15df"),r=o.n(n);for(var a in n)"default"!==a&&function(e){o.d(t,e,function(){return n[e]})}(a);t["default"]=r.a},"984e":function(e,t,o){"use strict";var n=function(){var e=this,t=e.$createElement;e._self._c},r=[];o.d(t,"a",function(){return n}),o.d(t,"b",function(){return r})},e8a2:function(e,t,o){"use strict";var n=o("f439"),r=o.n(n);r.a},f439:function(e,t,o){}},[["cac8","common/runtime","common/vendor"]]]);